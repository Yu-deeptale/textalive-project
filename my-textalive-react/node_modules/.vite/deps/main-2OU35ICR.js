import {
  __commonJS
} from "./chunk-HKJ2B2AA.js";

// node_modules/songle-api/lib/api.js
var require_api = __commonJS({
  "node_modules/songle-api/lib/api.js"(exports, module) {
    !function(e, t) {
      if ("object" === typeof exports && "object" === typeof module) module.exports = t();
      else if ("function" === typeof define && define.amd) define([], t);
      else {
        var n = t();
        for (var r in n) ("object" === typeof exports ? exports : e)[r] = n[r];
      }
    }(exports, function() {
      return function(e) {
        var t = {};
        function n(r) {
          if (t[r]) return t[r].exports;
          var i = t[r] = { i: r, l: false, exports: {} };
          return e[r].call(i.exports, i, i.exports, n), i.l = true, i.exports;
        }
        return n.m = e, n.c = t, n.d = function(e2, t2, r) {
          n.o(e2, t2) || Object.defineProperty(e2, t2, { enumerable: true, get: r });
        }, n.r = function(e2) {
          "undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(e2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e2, "__esModule", { value: true });
        }, n.t = function(e2, t2) {
          if (1 & t2 && (e2 = n(e2)), 8 & t2) return e2;
          if (4 & t2 && "object" === typeof e2 && e2 && e2.__esModule) return e2;
          var r = /* @__PURE__ */ Object.create(null);
          if (n.r(r), Object.defineProperty(r, "default", { enumerable: true, value: e2 }), 2 & t2 && "string" != typeof e2) for (var i in e2) n.d(r, i, (function(t3) {
            return e2[t3];
          }).bind(null, i));
          return r;
        }, n.n = function(e2) {
          var t2 = e2 && e2.__esModule ? function() {
            return e2.default;
          } : function() {
            return e2;
          };
          return n.d(t2, "a", t2), t2;
        }, n.o = function(e2, t2) {
          return Object.prototype.hasOwnProperty.call(e2, t2);
        }, n.p = "/packs/", n(n.s = 411);
      }({ 1: function(e, t, n) {
        "use strict";
        n.r(t), (function(e2) {
          var r = n(8), i = {};
          !function(e3) {
            Object.defineProperties(i, { currentClockTime: { configurable: true, get: function() {
              return Date.now();
            } }, defaultAppServerProtocol: { configurable: true, get: function() {
              return i.__defaultAppServerProtocol__ || "https:";
            }, set: function(e4) {
              i.__defaultAppServerProtocol__ = e4;
            } }, defaultAppServerHost: { configurable: true, get: function() {
              return i.__defaultAppServerHost__ || "api.songle.jp";
            }, set: function(e4) {
              i.__defaultAppServerHost__ = e4;
            } }, defaultAppServerEndpoint: { configurable: true, get: function() {
              return i.defaultAppServerProtocol + "//" + i.defaultAppServerHost;
            } }, defaultLogServerProtocol: { configurable: true, get: function() {
              return i.__defaultLogServerProtocol__ || "https:";
            }, set: function(e4) {
              i.__defaultLogServerProtocol__ = e4;
            } }, defaultLogServerHost: { configurable: true, get: function() {
              return i.__defaultLogServerHost__ || "log.songle.jp";
            }, set: function(e4) {
              i.__defaultLogServerHost__ = e4;
            } }, defaultLogServerEndpoint: { configurable: true, get: function() {
              return i.defaultLogServerProtocol + "//" + i.defaultLogServerHost;
            } }, defaultWebsocketServerProtocol: { configurable: true, get: function() {
              return i.__defaultWebsocketServerProtocol__ || "wss:";
            }, set: function(e4) {
              i.__defaultWebsocketServerProtocol__ = e4;
            } }, defaultWebsocketServerHost: { configurable: true, get: function() {
              return i.__defaultWebsocketServerHost__ || "api.songle.jp";
            }, set: function(e4) {
              i.__defaultWebsocketServerHost__ = e4;
            } }, defaultWebsocketServerEndpoint: { configurable: true, get: function() {
              return i.defaultWebsocketServerProtocol + "//" + i.defaultWebsocketServerHost;
            } }, global: { configurable: true, get: function() {
              return e3;
            } }, isStandalone: { configurable: true, get: function() {
              return !e3.document;
            } }, isWebBrowser: { configurable: true, get: function() {
              return !!e3.document;
            } }, language: { configurable: true, get: function() {
              var e4 = window.navigator.languages && window.navigator.languages[0] || window.navigator.language || window.navigator.browserLanguage || window.navigator.userLanguage;
              switch (true) {
                case /en/.test(e4.toLowerCase()):
                  return "en";
                case /ja/.test(e4.toLowerCase()):
                  return "ja";
                default:
                  return "en";
              }
            } }, referer: { configurable: true, get: function() {
              return i.isStandalone ? "-" : e3.document.referrer;
            } }, userAgent: { configurable: true, get: function() {
              return i.isStandalone ? "-" : e3.navigator.appCodeName + "/" + navigator.appVersion;
            } }, userAgentIsLaptop: { configurable: true, get: function() {
              return !i.userAgentIsAndroid && !i.userAgentIsiOS;
            } }, userAgentIsMobile: { configurable: true, get: function() {
              return i.userAgentIsAndroid || i.userAgentIsiOS;
            } }, userAgentIsAndroid: { configurable: true, get: function() {
              return -1 != i.userAgent.toLowerCase().indexOf("android") || -1 != i.userAgent.toLowerCase().indexOf("linux");
            } }, userAgentIsiOS: { configurable: true, get: function() {
              return -1 != i.userAgent.toLowerCase().indexOf("iphone") || -1 != i.userAgent.toLowerCase().indexOf("ipad") || -1 != i.userAgent.toLowerCase().indexOf("ipod");
            } }, searchQueries: { configurable: true, get: function() {
              var e4 = {};
              return location.search.slice(location.search.indexOf("?") + 1).split("&").forEach(function(t2) {
                var n2 = t2.match(/(.+?)=(.+)/);
                if (n2) {
                  var r2 = n2[1], i2 = n2[2];
                  e4[r2] = i2 ? decodeURIComponent(i2) : i2;
                }
              }), e4;
            } }, showDebugLog: { configurable: true, get: function() {
              return !!i.__showDebugLog__;
            }, set: function(e4) {
              i.__showDebugLog__ = !!e4;
            } }, showErrorLog: { configurable: true, get: function() {
              return !!i.__showErrorLog__;
            }, set: function(e4) {
              i.__showErrorLog__ = !!e4;
            } }, showLicense: { configurable: true, get: function() {
              return !!i.__showLicense__;
            }, set: function(e4) {
              i.__showLicense__ = !!e4, e4 ? (r.default.removeLicense(), r.default.createLicense(e4)) : (r.default.removeLicense(), console.log("# ライセンス表記に関するガイドライン\n\n国立研究開発法人産業技術総合研究所\n情報技術研究部門\nメディアインタラクション研究グループ\n\nSongle APIは非商用利用に限り、どなたでも無料・無保証で利用することができます。\nただし、原則としてSongle APIを利用している旨を https://api.songle.jp/ にハイパーリンクした上で、利用しているシステムもしくは外部サイト等に表示する必要があります。\n\n# お問い合わせ\n\nsongle-ml@aist.go.jp"));
            } } }), i.stringIsBlank = function(e4) {
              return "" == e4 || null == e4;
            }, i.typeOf = function(e4) {
              if (null != e4) switch (typeof e4) {
                case "object":
                  return null != e4.length ? "array" : "object";
                case "number":
                  return "number";
                case "string":
                  return "string";
              }
              return "null";
            }, e3.__sw__ = i;
          }(0 .self || e2), t.default = i;
        }).call(this, n(17));
      }, 100: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(21), i = n(30), a = n(2), o = n(37), u = n(1);
        function s(e2, t2, n2) {
          return (s = "undefined" !== typeof Reflect && Reflect.get ? Reflect.get : function(e3, t3, n3) {
            var r2 = function(e4, t4) {
              for (; !Object.prototype.hasOwnProperty.call(e4, t4) && null !== (e4 = d(e4)); ) ;
              return e4;
            }(e3, t3);
            if (r2) {
              var i2 = Object.getOwnPropertyDescriptor(r2, t3);
              return i2.get ? i2.get.call(n3) : i2.value;
            }
          })(e2, t2, n2 || e2);
        }
        function l(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function c(e2, t2, n2) {
          return t2 && l(e2.prototype, t2), n2 && l(e2, n2), e2;
        }
        function f(e2, t2) {
          return (f = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function _(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = d(e2);
            if (t2) {
              var i2 = d(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return p(this, n2);
          };
        }
        function p(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function d(e2) {
          return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var h = "songle-api-plugin-songle-widget", y = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && f(e3, t3);
          }(n2, e2);
          var t2 = _(n2);
          function n2(e3) {
            var r2;
            return function(e4, t3) {
              if (!(e4 instanceof t3)) throw new TypeError("Cannot call a class as a function");
            }(this, n2), (r2 = t2.call(this)).__element__ = e3.element, r2.__responsive__ = null != e3.responsive && e3.responsive, r2.__showController__ = null == e3.showController || e3.showController, r2.__showOriginalSiteLink__ = null == e3.showOriginalSiteLink || e3.showOriginalSiteLink, r2.__showMusicMap__ = null == e3.showMusicMap || e3.showMusicMap, r2.__showSongleJpSiteLink__ = null == e3.showSongleJpSiteLink || e3.showSongleJpSiteLink, r2.__controllerWidth__ = null != e3.controllerWidth ? e3.controllerWidth : 256, r2.__controllerHeight__ = null != e3.controllerHeight ? e3.controllerHeight : 30, r2.__controllerMouseEnterColor__ = null != e3.controllerMouseEnterColor ? e3.controllerMouseEnterColor : "#e17", r2.__controllerMouseLeaveColor__ = null != e3.controllerMouseLeaveColor ? e3.controllerMouseLeaveColor : "#222", r2.__language__ = null != e3.language ? e3.language : u.default.language, r2.__musicMapWidth__ = null != e3.musicMapWidth ? e3.musicMapWidth : 256, r2.__musicMapHeight__ = null != e3.musicMapHeight ? e3.musicMapHeight : 40, r2.__musicMapOuterBackgroundColor__ = null != e3.musicMapOuterBackgroundColor ? e3.musicMapOuterBackgroundColor : "#999", r2.__musicMapInnerBackgroundColor__ = null != e3.musicMapInnerBackgroundColor ? e3.musicMapInnerBackgroundColor : "#eee", r2.__musicMapChorusSectionColor__ = null != e3.musicMapChorusSectionColor ? e3.musicMapChorusSectionColor : "#f84", r2.__musicMapRepeatedSectionColor__ = null != e3.musicMapRepeatedSectionColor ? e3.musicMapRepeatedSectionColor : "#48f", r2.__musicMapCursorColor__ = null != e3.musicMapCursorColor ? e3.musicMapCursorColor : "#e17", r2.__className__ = "".concat(h, "-").concat(Math.random().toString(36).slice(-4)), r2.__readyTrap__ = function(e4) {
              return r2.render();
            }, r2.__playTrap__ = function(e4) {
            }, r2.__pauseTrap__ = function(e4) {
            }, r2.__seekTrap__ = function(e4) {
            }, r2.__resizeTrap__ = function(e4) {
              r2.__responsive__ && r2.render();
            }, r2.__scrollTrap__ = function(e4) {
              r2.__responsive__ && r2.render();
            }, r2.__responsive__ && null != r2.element && (e3.width = r2.element.offsetWidth, e3.height = r2.element.offsetHeight), r2.__updateSize__(e3), r2;
          }
          return c(n2, null, [{ key: "Name", get: function() {
            return h;
          } }]), c(n2, [{ key: "initialize", value: function(e3) {
            s(d(n2.prototype), "initialize", this).call(this, e3), this.player.on("ready", this.__readyTrap__), this.player.on("play", this.__playTrap__), this.player.on("pause", this.__pauseTrap__), this.player.on("seek", this.__seekTrap__), window.addEventListener("resize", this.__resizeTrap__, false), window.addEventListener("scroll", this.__scrollTrap__, false);
          } }, { key: "dispose", value: function() {
            s(d(n2.prototype), "dispose", this).call(this), clearInterval(this.__musicMapAnimationIntervalId__), window.removeEventListener("resize", this.__resizeTrap__, false), window.removeEventListener("scroll", this.__scrollTrap__, false), this.player.off("ready", this.__readyTrap__), this.player.off("play", this.__playTrap__), this.player.off("pause", this.__pauseTrap__), this.player.off("seek", this.__seekTrap__), this.__removeRenderedElement__();
          } }, { key: "render", value: function() {
            null != this.element && this.__responsive__ && this.__updateSize__({ width: this.element.offsetWidth, height: this.element.offsetHeight });
            var e3 = document.createElement("div");
            clearInterval(this.__musicMapAnimationIntervalId__), e3.className = this.__className__, e3.style.lineHeight = "normal", e3.style.fontSize = "10.5px", this.__showController__ && e3.appendChild(this.__createControllerElement__({ width: this.__controllerWidth__, height: this.__controllerHeight__, mouseEnterColor: this.__controllerMouseEnterColor__, mouseLeaveColor: this.__controllerMouseLeaveColor__ })), this.__showOriginalSiteLink__ && e3.appendChild(this.__createOriginalSiteLinkElement__({ width: this.__musicMapWidth__, height: 15 })), this.__showMusicMap__ && e3.appendChild(this.__createMusicMapElement__({ width: this.__musicMapWidth__, height: this.__musicMapHeight__ })), this.__showSongleJpSiteLink__ && e3.appendChild(this.__createSongleJpSiteLinkElement__({ width: this.__musicMapWidth__, height: 15 })), this.__removeRenderedElement__(), this.element && this.element.appendChild(e3);
          } }, { key: "__removeRenderedElement__", value: function() {
            document.querySelectorAll("[class=".concat(this.__className__, "]")).forEach(function(e3) {
              e3.remove();
            });
          } }, { key: "__createControllerElement__", value: function(e3) {
            var t3 = document.createElement("div");
            t3.style.display = "block", t3.style.overflow = "hidden", t3.style.width = e3.width + "px", t3.style.height = e3.height + "px";
            var n3 = document.createElement("div");
            n3.style.display = "block", n3.style.overflow = "hidden", n3.style.float = "left", n3.style.width = e3.height + "px", n3.style.height = e3.height + "px";
            var r2 = this.__createPlayButtonElement__({ size: e3.height, mouseEnterColor: e3.mouseEnterColor, mouseLeaveColor: e3.mouseLeaveColor }), i2 = this.__createStopButtonElement__({ size: e3.height, mouseEnterColor: e3.mouseEnterColor, mouseLeaveColor: e3.mouseLeaveColor });
            n3.appendChild(r2), n3.appendChild(i2);
            var a2 = document.createElement("div");
            a2.style.display = "block", a2.style.overflow = "hidden", a2.style.float = "left", a2.style.width = e3.width - e3.height + "px", a2.style.height = e3.height + "px";
            var o2 = document.createElement("a");
            o2.href = "".concat(u.default.defaultAppServerEndpoint, "/redirect_to/songlejp_song_site?url=").concat(encodeURIComponent(this.player.media.sourceUrl)), o2.target = "_blank", o2.style.display = "block", o2.style.overflow = "hidden", o2.style.paddingLeft = "8px", o2.style.textOverflow = "ellipsis", o2.style.width = e3.width - e3.height + "px", o2.style.height = e3.height / 2 + "px", o2.textContent = this.player.media.name;
            var s2 = document.createElement("a");
            return s2.href = "".concat(u.default.defaultAppServerEndpoint, "/redirect_to/songlejp_song_site?url=").concat(encodeURIComponent(this.player.media.sourceUrl)), s2.target = "_blank", s2.style.display = "block", s2.style.overflow = "hidden", s2.style.paddingLeft = "8px", s2.style.textOverflow = "ellipsis", s2.style.width = e3.width - e3.height + "px", s2.style.height = e3.height / 2 + "px", s2.textContent = this.player.media.artistName, a2.appendChild(o2), a2.appendChild(s2), t3.appendChild(n3), t3.appendChild(a2), t3;
          } }, { key: "__createOriginalSiteLinkElement__", value: function(e3) {
            var t3 = document.createElement("div");
            t3.style.display = "block", t3.style.overflow = "hidden", t3.style.width = e3.width + "px", t3.style.height = e3.height + "px";
            var n3 = document.createElement("a");
            switch (n3.href = "".concat(u.default.defaultAppServerEndpoint, "/redirect_to/original_song_site?url=").concat(encodeURIComponent(this.player.media.sourceUrl)), n3.target = "_blank", n3.style.display = "block", n3.style.overflow = "hidden", n3.style.float = "left", n3.style.margin = "".concat(0, "px ").concat(2, "px"), n3.style.textOverflow = "ellipsis", n3.style.textAlign = "left", n3.style.width = e3.width / 2 - 4 + "px", n3.style.height = e3.height - 0 + "px", this.__language__) {
              case "ja":
              case "en":
              default:
                n3.textContent = "";
            }
            t3.appendChild(n3);
            var r2 = document.createElement("a");
            switch (r2.href = "".concat(u.default.defaultAppServerEndpoint, "/redirect_to/original_song_site?url=").concat(encodeURIComponent(this.player.media.sourceUrl)), r2.target = "_blank", r2.style.display = "block", r2.style.overflow = "hidden", r2.style.float = "left", r2.style.margin = "".concat(0, "px ").concat(2, "px"), r2.style.textOverflow = "ellipsis", r2.style.textAlign = "right", r2.style.width = e3.width / 2 - 4 + "px", r2.style.height = e3.height - 0 + "px", this.__language__) {
              case "ja":
                r2.textContent = "この配信サイトへ";
                break;
              case "en":
              default:
                r2.textContent = "Original site";
            }
            return t3.appendChild(r2), t3;
          } }, { key: "__createMusicMapElement__", value: function(e3) {
            var t3 = this, n3 = document.createElement("div");
            if (null == this.player.musicMap || null == this.player.musicMap.chorus) return a.default.warn("'Songle.Player' do NOT have a chorus information. Please install the chorus plugin using 'Songle.Plugin.Chorus'"), n3;
            n3.style.width = e3.width + "px", n3.style.height = e3.height + "px";
            var r2 = o.default.createSVGElement({ width: e3.width, height: e3.height }), i2 = e3.width - 4, s2 = (e3.height - 4 - 6 + 1) / 6, l2 = 0;
            r2.appendChild(o.default.createRectElement({ x: 0, y: 0, width: e3.width, height: e3.height, fill: "none", stroke: this.__musicMapOuterBackgroundColor__ })), r2.addEventListener("click", function(e4) {
              t3.player.seekTo(l2 || e4.offsetX / i2 * t3.player.durationTime), u.default.stringIsBlank(t3.player.accessToken) && u.default.stringIsBlank(t3.player.secretToken) && t3.player.play();
            });
            for (var c2 = function(e4) {
              var n4 = (s2 + 1) * e4 + 1 + 1;
              r2.appendChild(o.default.createRectElement({ x: 2, y: n4, width: i2, height: s2, fill: t3.__musicMapInnerBackgroundColor__, stroke: "none" }));
              var a2 = t3.player.musicMap.chorus[e4];
              if (!a2) return "continue";
              a2.items.forEach(function(e5) {
                var u2 = e5.startTime / t3.player.durationTime * i2 + 2, c3 = n4, f3 = e5.durationTime / t3.player.durationTime * i2, _3 = s2, p2 = o.default.createRectElement({ x: u2, y: c3, width: f3, height: _3, fill: a2.isChorus ? t3.__musicMapChorusSectionColor__ : t3.__musicMapRepeatedSectionColor__, stroke: "none" });
                p2.style.cursor = "pointer", p2.addEventListener("mouseenter", function() {
                  l2 = e5.startTime, p2.style.opacity = 0.75;
                }), p2.addEventListener("mouseleave", function() {
                  l2 = 0, p2.style.opacity = 1;
                }), r2.appendChild(p2);
              });
            }, f2 = 0; f2 < 6; ++f2) c2(f2);
            var _2 = o.default.createRectElement({ x: 0, y: 0, width: 1, height: e3.height, fill: "none", stroke: this.__musicMapCursorColor__ });
            return this.__musicMapAnimationIntervalId__ = setInterval(function() {
              _2.setAttribute("x", e3.width * (t3.player.positionTime / t3.player.durationTime));
            }, 1e3), r2.appendChild(_2), n3.appendChild(r2), n3;
          } }, { key: "__createPlayButtonElement__", value: function() {
            var e3 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n3 = null != t3.size ? t3.size : 30, r2 = null != t3.mouseEnterColor ? t3.mouseEnterColor : "#e17", i2 = null != t3.mouseLeaveColor ? t3.mouseLeaveColor : "#222", a2 = null != t3.strokeWidth ? t3.strokeWidth : 2, u2 = document.createElement("div");
            u2.style.cursor = "pointer", u2.style.width = n3 + "px", u2.style.height = n3 + "px", this.player.isPlaying ? u2.style.display = "none" : u2.style.display = "block";
            var s2 = o.default.createSVGElement({ width: n3, height: n3 }), l2 = o.default.createGroupElement({ fill: i2, stroke: i2, strokeWidth: a2 }), c2 = 1 * (n3 / 2 - a2), f2 = c2 + a2, _2 = c2 + a2, p2 = o.default.createCircleElement({ cx: f2, cy: _2, r: c2, fill: "none" }), d2 = 0.5 * (n3 / 2 - a2), h2 = 1 * d2 / 1.41, y2 = f2 + Math.cos(3.14 / 180 * 135) * d2 + (d2 - h2), v = _2 - Math.sin(3.14 / 180 * 135) * d2, g = f2 + Math.cos(0) * h2, m = _2 - Math.sin(0) * h2, b = f2 + Math.cos(3.14 / 180 * 225) * d2 + (d2 - h2), k = _2 - Math.sin(3.14 / 180 * 225) * d2, T = o.default.createPolygonElement({ points: [y2, v, g, m, b, k] });
            return s2.appendChild(l2), l2.appendChild(p2), l2.appendChild(T), u2.appendChild(s2), u2.addEventListener("click", function(t4) {
              e3.player.play();
            }), u2.addEventListener("mouseenter", function(e4) {
              l2.setAttribute("fill", r2), l2.setAttribute("stroke", r2);
            }), u2.addEventListener("mouseleave", function(e4) {
              l2.setAttribute("fill", i2), l2.setAttribute("stroke", i2);
            }), this.player.on("play", function(e4) {
              u2.style.display = "none";
            }), this.player.on("pause", function(e4) {
              u2.style.display = "block";
            }), u2;
          } }, { key: "__createStopButtonElement__", value: function() {
            var e3 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n3 = null != t3.size ? t3.size : 30, r2 = null != t3.mouseEnterColor ? t3.mouseEnterColor : "#e17", i2 = null != t3.mouseLeaveColor ? t3.mouseLeaveColor : "#222", a2 = null != t3.strokeWidth ? t3.strokeWidth : 2, u2 = document.createElement("div");
            u2.style.cursor = "pointer", u2.style.width = n3 + "px", u2.style.height = n3 + "px", this.player.isPlaying ? u2.style.display = "block" : u2.style.display = "none";
            var s2 = o.default.createSVGElement({ width: n3, height: n3 }), l2 = o.default.createGroupElement({ fill: i2, stroke: i2, strokeWidth: a2 }), c2 = 1 * (n3 / 2 - a2), f2 = c2 + a2, _2 = c2 + a2, p2 = o.default.createCircleElement({ cx: f2, cy: _2, r: c2, fill: "none" }), d2 = 0.5 * (n3 / 2 - a2), h2 = f2 + Math.cos(3.14 / 180 * 135) * d2, y2 = _2 - Math.sin(3.14 / 180 * 135) * d2, v = h2 + 0.5 * Math.abs(h2 - f2), g = y2, m = f2 + Math.cos(3.14 / 180 * 225) * d2, b = _2 - Math.sin(3.14 / 180 * 225) * d2, k = m + 0.5 * Math.abs(h2 - f2), T = b, S = o.default.createPolygonElement({ points: [h2, y2, v, g, k, T, m, b] }), P = f2 + Math.cos(3.14 / 180 * 45) * d2, w = _2 - Math.sin(3.14 / 180 * 45) * d2, O = P - 0.5 * Math.abs(P - f2), C = w, E = f2 + Math.cos(3.14 / 180 * 315) * d2, x = _2 - Math.sin(3.14 / 180 * 315) * d2, I = E - 0.5 * Math.abs(E - f2), M = x, j = o.default.createPolygonElement({ points: [O, C, P, w, E, x, I, M] });
            return s2.appendChild(l2), l2.appendChild(p2), l2.appendChild(S), l2.appendChild(j), u2.appendChild(s2), u2.addEventListener("click", function(t4) {
              e3.player.pause();
            }), u2.addEventListener("mouseenter", function(e4) {
              l2.setAttribute("stroke", r2), l2.setAttribute("fill", r2);
            }), u2.addEventListener("mouseleave", function(e4) {
              l2.setAttribute("stroke", i2), l2.setAttribute("fill", i2);
            }), this.player.on("play", function(e4) {
              u2.style.display = "block";
            }), this.player.on("pause", function(e4) {
              u2.style.display = "none";
            }), u2;
          } }, { key: "__createSongleJpSiteLinkElement__", value: function(e3) {
            var t3 = document.createElement("div");
            t3.style.display = "block", t3.style.overflow = "hidden", t3.style.width = e3.width + "px", t3.style.height = e3.height + "px";
            var n3 = document.createElement("a");
            switch (n3.href = "".concat(u.default.defaultAppServerEndpoint, "/redirect_to/songlejp_song_site?url=").concat(encodeURIComponent(this.player.media.sourceUrl)), n3.target = "_blank", n3.style.display = "block", n3.style.overflow = "hidden", n3.style.float = "left", n3.style.margin = "".concat(0, "px ").concat(2, "px"), n3.style.textOverflow = "ellipsis", n3.style.textAlign = "left", n3.style.width = e3.width / 2 - 4 + "px", n3.style.height = e3.height - 0 + "px", this.__language__) {
              case "ja":
                n3.textContent = "Songleでサビ訂正";
                break;
              case "en":
              default:
                n3.textContent = "Annotate this song";
            }
            t3.appendChild(n3);
            var r2 = document.createElement("a");
            switch (r2.href = "".concat(u.default.defaultAppServerEndpoint), r2.target = "_blank", r2.style.display = "block", r2.style.overflow = "hidden", r2.style.float = "left", r2.style.margin = "".concat(0, "px ").concat(2, "px"), r2.style.textOverflow = "ellipsis", r2.style.textAlign = "right", r2.style.width = e3.width / 2 - 4 + "px", r2.style.height = e3.height - 0 + "px", this.__language__) {
              case "ja":
              case "en":
              default:
                r2.textContent = "Powered by Songle API";
            }
            return t3.appendChild(r2), t3;
          } }, { key: "__updateSize__", value: function(e3) {
            var t3 = false;
            if (null != e3.width) {
              if (e3.width < 20) return a.default.warn("Songle Widget is too small. Please check 'Songle.Plugin.SongleWidget' options"), false;
              this.__controllerWidth__ != e3.width && (this.__controllerWidth__ = e3.width, t3 = true), this.__musicMapWidth__ != e3.width && (this.__musicMapWidth__ = e3.width, t3 = true);
            }
            if (null != e3.height) {
              if (this.__showController__ && (e3.height -= this.__controllerHeight__), this.__showOriginalSiteLink__ && (e3.height -= 15), this.__showSongleJpSiteLink__ && (e3.height -= 15), e3.height < 20) return a.default.warn("Songle Widget is too small. Please check 'Songle.Plugin.SongleWidget' options"), false;
              this.__musicMapHeight__ != e3.height && (this.__musicMapHeight__ = e3.height, t3 = true);
            }
            return t3;
          } }, { key: "dispatcherName", get: function() {
            return h;
          } }, { key: "element", get: function() {
            return i.default.querySelector(this.__element__);
          } }]), n2;
        }(r.default);
        t.default = y;
      }, 12: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(22);
        n.d(t, "SongAPI", function() {
          return r.default;
        });
        var i = n(23);
        n.d(t, "BeatAPI", function() {
          return i.default;
        });
        var a = n(24);
        n.d(t, "ChordAPI", function() {
          return a.default;
        });
        var o = n(25);
        n.d(t, "MelodyAPI", function() {
          return o.default;
        });
        var u = n(26);
        n.d(t, "ChorusAPI", function() {
          return u.default;
        });
        var s = n(27);
        n.d(t, "VariationAPI", function() {
          return s.default;
        });
        var l = { SongAPI: r.default, BeatAPI: i.default, ChordAPI: a.default, MelodyAPI: o.default, ChorusAPI: u.default, VariationAPI: s.default };
        t.default = l;
      }, 13: function(e, t, n) {
        "use strict";
        function r(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        n.r(t);
        var i = function() {
          function e2(t3) {
            !function(e3, t4) {
              if (!(e3 instanceof t4)) throw new TypeError("Cannot call a class as a function");
            }(this, e2), this.__player__ = t3;
          }
          var t2, n2, i2;
          return t2 = e2, (n2 = [{ key: "dispatch", value: function(e3, t3, n3) {
          } }, { key: "find", value: function() {
            var e3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n3 = null != t3.offset ? t3.offset : 0, r2 = this.__player__.positionTime - 250 + -1 * n3, i3 = this.__player__.positionTime + 0 + -1 * n3;
            this.dispatch(r2, i3, e3);
          } }, { key: "reset", value: function() {
          } }]) && r(t2.prototype, n2), i2 && r(t2, i2), e2;
        }();
        t.default = i;
      }, 14: function(e, t, n) {
        "use strict";
        n.r(t);
        function r(e2) {
          var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n2 = [];
          return e2.musicMap.chorus && e2.musicMap.chorus.forEach(function(e3) {
            t2.chorusOnly && !e3.isChorus || (n2 = n2.concat(e3.items).sort(function(e4, t3) {
              return e4.startTime - t3.startTime;
            }));
          }), n2;
        }
        var i = { findPrevBar: function(e2) {
          var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n2 = null != t2.startTime ? t2.startTime : e2.positionTime, r2 = e2.musicMap.beats || [];
          r2 = r2.reverse();
          for (var i2 = 0; i2 < r2.length; ++i2) if (1 == r2[i2].number && n2 > r2[i2].startTime + 500) return r2[i2];
          return r2[0];
        }, findNextBar: function(e2) {
          for (var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n2 = null != t2.startTime ? t2.startTime : e2.positionTime, r2 = e2.musicMap.beats || [], i2 = 0; i2 < r2.length; ++i2) if (1 == r2[i2].number && n2 < r2[i2].startTime - 500) return r2[i2];
          return r2[0];
        }, findPrevRepeatedSectionItem: function(e2) {
          var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n2 = null != t2.startTime ? t2.startTime : e2.positionTime, i2 = r(e2, t2);
          i2 = i2.reverse();
          for (var a = 0; a < i2.length; ++a) if (n2 > i2[a].startTime + 500) return i2[a];
          return i2[0];
        }, findNextRepeatedSectionItem: function(e2) {
          for (var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n2 = null != t2.startTime ? t2.startTime : e2.positionTime, i2 = r(e2, t2), a = 0; a < i2.length; ++a) if (n2 < i2[a].startTime - 500) return i2[a];
          return i2[0];
        } };
        t.default = i;
      }, 15: function(e, t, n) {
        "use strict";
        function r(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function i(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function a(e2, t2) {
          return (a = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function o(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = s(e2);
            if (t2) {
              var i2 = s(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return u(this, n2);
          };
        }
        function u(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function s(e2) {
          return (s = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        n.r(t);
        var l = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && a(e3, t3);
          }(l2, e2);
          var t2, n2, u2, s2 = o(l2);
          function l2() {
            var e3, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return r(this, l2), (e3 = s2.call(this)).endpointScheme = null != t3.endpointScheme ? t3.endpointScheme : null, e3.endpointHost = null != t3.endpointHost ? t3.endpointHost : null, e3.endpointPath = null != t3.endpointPath ? t3.endpointPath : null, e3.revisionId = null != t3.revisionId ? t3.revisionId : 0, e3.offset = null != t3.offset ? t3.offset : 0, e3.pollingInterval = null != t3.pollingInterval ? t3.pollingInterval : 50, e3;
          }
          return t2 = l2, (n2 = [{ key: "__invokeTrap__", value: function(e3, t3) {
            e3.trap({ target: this, type: e3.name, data: t3 });
          } }]) && i(t2.prototype, n2), u2 && i(t2, u2), l2;
        }(n(21).default);
        t.default = l;
      }, 17: function(e, t) {
        var n;
        n = /* @__PURE__ */ function() {
          return this;
        }();
        try {
          n = n || new Function("return this")();
        } catch (r) {
          "object" === typeof window && (n = window);
        }
        e.exports = n;
      }, 174: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(77), i = n(62);
        function a(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function o(e2, t2) {
          return (o = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function u(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = l(e2);
            if (t2) {
              var i2 = l(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return s(this, n2);
          };
        }
        function s(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function l(e2) {
          return (l = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var c = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && o(e3, t3);
          }(n2, e2);
          var t2 = u(n2);
          function n2() {
            var e3, r2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return a(this, n2), (e3 = t2.call(this, r2)).addPlugin(new i.default()), e3;
          }
          return n2;
        }(r.default);
        t.default = c;
      }, 185: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(77), i = n(100);
        function a(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function o(e2, t2) {
          return (o = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function u(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = l(e2);
            if (t2) {
              var i2 = l(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return s(this, n2);
          };
        }
        function s(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function l(e2) {
          return (l = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var c = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && o(e3, t3);
          }(n2, e2);
          var t2 = u(n2);
          function n2() {
            var e3, r2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return a(this, n2), (e3 = t2.call(this, r2)).addPlugin(new i.default()), e3;
          }
          return n2;
        }(r.default);
        t.default = c;
      }, 19: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(2), i = n(1);
        function a(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        var o = function() {
          function e2() {
            !function(e3, t3) {
              if (!(e3 instanceof t3)) throw new TypeError("Cannot call a class as a function");
            }(this, e2), this.traps = [];
          }
          var t2, n2, o2;
          return t2 = e2, o2 = [{ key: "Name", get: function() {
            return "dispatcher";
          } }, { key: "Type", get: function() {
            return "dispatcher";
          } }], (n2 = [{ key: "initialize", value: function(e3) {
            r.default.debug("Invoke '".concat(this.dispatcherName, "#initialize'")), this.__player__ = e3;
          } }, { key: "mediaTryMount", value: function(e3, t3) {
            r.default.debug("Invoke '".concat(this.dispatcherName, "#mediaTryMount'"), t3);
          } }, { key: "mediaDisMount", value: function(e3, t3) {
            r.default.debug("Invoke '".concat(this.dispatcherName, "#mediaDisMount'"), t3);
          } }, { key: "mediaDidMount", value: function(e3, t3) {
            r.default.debug("Invoke '".concat(this.dispatcherName, "#mediaDidMount'"), t3);
          } }, { key: "dispose", value: function() {
            r.default.debug("Invoke '".concat(this.dispatcherName, "#dispose'"));
          } }, { key: "mapTraps", value: function(e3) {
            var t3 = this, n3 = this.player.dispatchers.map(function(n4) {
              return n4 && n4.traps.map(function(n5) {
                if (-1 != t3.__convertToStringArray__(e3).indexOf(n5.name)) return n5;
              }).filter(function(e4) {
                return null != e4;
              });
            });
            return Array.prototype.concat.apply([], n3);
          } }, { key: "mapTrapsHasAnyData", value: function(e3) {
            return this.mapTraps(e3).filter(function(e4) {
              return e4 && null != e4.data;
            });
          } }, { key: "mapTrapsHasNotData", value: function(e3) {
            return this.mapTraps(e3).filter(function(e4) {
              return e4 && null == e4.data;
            });
          } }, { key: "on", value: function(e3, t3) {
            var n3 = this, r2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
            r2.offset = null != r2.offset ? r2.offset : 0, (e3 = this.__convertToStringArray__(e3)).forEach(function(e4) {
              e4 = n3.__validateTrapName__(e4), n3.traps.push({ name: e4, trap: t3, data: null, options: r2 });
            });
          } }, { key: "off", value: function(e3, t3) {
            var n3 = this;
            (e3 = this.__convertToStringArray__(e3)).forEach(function(e4) {
              e4 = n3.__validateTrapName__(e4), n3.traps.forEach(function(r2, i2) {
                r2.name === e4 && r2.trap === t3 && n3.traps.splice(i2, 1);
              });
            });
          } }, { key: "invokeSelfTrap", value: function(e3) {
            var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            e3 = this.__validateTrapName__(e3), this.traps.forEach(function(n3) {
              n3.name == e3 && (t3.type = e3, n3.trap(t3));
            });
          } }, { key: "__convertToStringArray__", value: function(e3) {
            return "string" === i.default.typeOf(e3) ? [e3] : e3;
          } }, { key: "__validateTrapName__", value: function(e3) {
            switch (e3) {
              case "beatPlay":
                e3 = "beatEnter";
                break;
              case "chordChange":
              case "chordPlay":
                e3 = "chordEnter";
                break;
              case "melodyPlay":
                e3 = "melodyEnter";
                break;
              case "variationChange":
              case "variationPlay":
                e3 = "variationEnter";
                break;
              case "chorusEnter":
                e3 = "chorusSectionEnter";
                break;
              case "chorusLeave":
                e3 = "chorusSectionLeave";
                break;
              case "repeatEnter":
              case "repeatSectionEnter":
                e3 = "repeatedSectionEnter";
                break;
              case "repeatLeave":
              case "repeatSectionLeave":
                e3 = "repeatedSectionLeave";
                break;
              case "songleSyncNodeChange":
                e3 = "songleSyncStageNodeChange";
                break;
              case "songleSyncNodeEnter":
                e3 = "songleSyncStageNodeEnter";
                break;
              case "songleSyncNodeLeave":
                e3 = "songleSyncStageNodeLeave";
            }
            return e3;
          } }, { key: "dispatcherName", get: function() {
            return e2.Name;
          } }, { key: "dispatcherType", get: function() {
            return e2.Type;
          } }, { key: "player", get: function() {
            return this.__player__;
          } }]) && a(t2.prototype, n2), o2 && a(t2, o2), e2;
        }();
        t.default = o;
      }, 2: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(1);
        function i(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        var a = [], o = function() {
          function e2() {
            !function(e3, t3) {
              if (!(e3 instanceof t3)) throw new TypeError("Cannot call a class as a function");
            }(this, e2);
          }
          var t2, n2, o2;
          return t2 = e2, o2 = [{ key: "debug", value: function(t3, n3) {
            r.default.showDebugLog && e2.__log__("debug", t3, n3, "color:#000;");
          } }, { key: "warn", value: function(t3, n3) {
            r.default.showErrorLog && e2.__log__("warn", t3, n3, "color:#f82;");
          } }, { key: "error", value: function(t3, n3) {
            r.default.showErrorLog && e2.__log__("error", t3, n3, "color:#f22;");
          } }, { key: "__log__", value: function(e3, t3, n3, i2) {
            switch (e3) {
              case "debug":
                t3 = "[Songle API ".concat(e3, "] ") + t3;
                break;
              case "warn":
              case "error":
                if (t3 = "[Songle API ".concat(e3, "] ") + t3, -1 != a.indexOf(t3)) return;
            }
            a.push(t3), null != n3 && (n3 = JSON.stringify(n3, function(e4, t4) {
              if (null == t4) return t4;
              switch (true) {
                case t4 instanceof HTMLElement:
                  return "[HTMLElement]";
                case null != t4.dispatcherName:
                  return "[".concat(t4.dispatcherName, "]");
                case null != t4.dispatcherType:
                  return "[".concat(t4.dispatcherType, "]");
              }
              return t4;
            }, "	")), console.log((r.default.isWebBrowser ? "%c" : "") + t3 + (n3 ? "\n\n" + n3 + "\n" : ""), r.default.isWebBrowser ? i2 : "");
          } }, { key: "histories", get: function() {
            return a;
          } }], (n2 = null) && i(t2.prototype, n2), o2 && i(t2, o2), e2;
        }(), u = { histories: o.histories, debug: o.debug, warn: o.warn, error: o.error };
        t.default = u;
      }, 20: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(52);
        n.d(t, "ClockAPI", function() {
          return r.default;
        });
        var i = n(53);
        n.d(t, "HistoryAPI", function() {
          return i.default;
        });
        var a = n(54);
        n.d(t, "MessageAPI", function() {
          return a.default;
        });
        var o = n(55);
        n.d(t, "PlaylistAPI", function() {
          return o.default;
        });
        var u = n(56);
        n.d(t, "StageAPI", function() {
          return u.default;
        });
        var s = { ClockAPI: r.default, HistoryAPI: i.default, MessageAPI: a.default, PlaylistAPI: o.default, StageAPI: u.default };
        t.default = s;
      }, 21: function(e, t, n) {
        "use strict";
        function r(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function i(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function a(e2, t2) {
          return (a = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function o(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = s(e2);
            if (t2) {
              var i2 = s(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return u(this, n2);
          };
        }
        function u(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function s(e2) {
          return (s = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        n.r(t);
        var l = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && a(e3, t3);
          }(l2, e2);
          var t2, n2, u2, s2 = o(l2);
          function l2() {
            return r(this, l2), s2.apply(this, arguments);
          }
          return t2 = l2, u2 = [{ key: "Name", get: function() {
            return "plugin";
          } }, { key: "Type", get: function() {
            return "plugin";
          } }], (n2 = [{ key: "dispatcherName", get: function() {
            return l2.Name;
          } }, { key: "dispatcherType", get: function() {
            return l2.Type;
          } }]) && i(t2.prototype, n2), u2 && i(t2, u2), l2;
        }(n(19).default);
        t.default = l;
      }, 22: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(5), i = (n(2), n(1)), a = {};
        function o(e2, t2) {
          var n2 = t2.endpointScheme, r2 = t2.endpointHost, a2 = t2.endpointPath, o2 = t2.fallback, u2 = [];
          return u2.push("syntax=camelcase"), u2.push("endpoint_scheme=" + "".concat(n2)), u2.push("endpoint_host=" + "".concat(r2)), u2.push("endpoint_path=" + "".concat(a2)), u2.push("fallback=" + "".concat(o2 ? 1 : 0)), u2.push("url=" + "".concat(encodeURIComponent(e2))), "".concat(i.default.defaultAppServerEndpoint, "/api/v2/song.json?").concat(u2.join("&"));
        }
        function u(e2, t2) {
          return Object.keys(e2.attributes).forEach(function(t3) {
            Object.defineProperty(e2, t3, { get: function() {
              return e2.attributes[t3];
            } });
          }), Object.keys(e2.relationships).forEach(function(t3) {
            Object.defineProperty(e2, t3, { get: function() {
              return e2.relationships[t3].data.attributes;
            } });
          }), e2;
        }
        var s = { get: function(e2) {
          var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          return new Promise(function(n2, i2) {
            t2.cache = null == t2.cache || t2.cache, t2.endpointScheme = null != t2.endpointScheme ? t2.endpointScheme : "", t2.endpointHost = null != t2.endpointHost ? t2.endpointHost : "", t2.endpointPath = null != t2.endpointPath ? t2.endpointPath : "", t2.fallback = null != t2.fallback && t2.fallback;
            var s2 = o(e2, t2), l = a[s2];
            if (null != l && t2.cache) return n2(l);
            r.default.getJSON(s2).then(function(e3) {
              var r2 = e3.meta, o2 = e3.data;
              if (200 != r2.status) return i2(e3);
              var l2 = u(o2, t2);
              return a[s2] = l2, null == a[l2.permalink] && (a[l2.permalink] = l2), n2(l2);
            }, function(e3) {
              return i2(e3);
            });
          });
        } };
        t.default = s;
      }, 23: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(5), i = n(2), a = n(1), o = {};
        function u(e2, t2) {
          var n2 = t2.endpointScheme, r2 = t2.endpointHost, i2 = t2.endpointPath, o2 = t2.revisionId, u2 = [];
          return u2.push("syntax=camelcase"), u2.push("endpoint_scheme=" + "".concat(n2)), u2.push("endpoint_host=" + "".concat(r2)), u2.push("endpoint_path=" + "".concat(i2)), u2.push("url=" + "".concat(encodeURIComponent(e2))), u2.push("revision_id=" + "".concat(o2)), "".concat(a.default.defaultAppServerEndpoint, "/api/v2/song/beat.json?").concat(u2.join("&"));
        }
        function s(e2, t2) {
          var n2 = t2.revisionId, r2 = e2.attributes.sequence;
          return r2.forEach(function(e3) {
            [{ source: "startTimeMs", target: "startTime" }, { source: "startTime", target: "start", warning: true }, { source: "numberOfBeatsPerBar", target: "count", warning: true }, { source: "number", target: "position", warning: true }].forEach(function(t3) {
              Object.defineProperty(e3, t3.target, { get: function() {
                return t3.warning && i.default.warn("'Beat.".concat(t3.target, "' is deprecated API, please use 'Beat.").concat(t3.source, "'")), e3[t3.source];
              } });
            }), Object.defineProperty(e3, "prev", { get: function() {
              return r2[e3.index - 1] || null;
            } }), Object.defineProperty(e3, "next", { get: function() {
              return r2[e3.index + 1] || null;
            } });
          }), { revisionId: n2, data: r2 };
        }
        var l = { get: function(e2) {
          var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          return new Promise(function(n2, i2) {
            t2.cache = null == t2.cache || t2.cache, t2.endpointScheme = null != t2.endpointScheme ? t2.endpointScheme : "", t2.endpointHost = null != t2.endpointHost ? t2.endpointHost : "", t2.endpointPath = null != t2.endpointPath ? t2.endpointPath : "", t2.revisionId = null != t2.revisionId ? t2.revisionId : 0;
            var a2 = u(e2, t2), l2 = o[a2];
            if (null != l2 && t2.cache) return n2(l2);
            r.default.getJSON(a2).then(function(e3) {
              var r2 = e3.meta, u2 = e3.data;
              if (200 != r2.status) return i2(e3);
              var l3 = s(u2, t2);
              return o[a2] = l3, n2(l3);
            }, function(e3) {
              return i2(e3);
            });
          });
        } };
        t.default = l;
      }, 24: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(5), i = n(2), a = n(1), o = {};
        function u(e2, t2) {
          var n2 = t2.endpointScheme, r2 = t2.endpointHost, i2 = t2.endpointPath, o2 = t2.revisionId, u2 = [];
          return u2.push("syntax=camelcase"), u2.push("endpoint_scheme=" + "".concat(n2)), u2.push("endpoint_host=" + "".concat(r2)), u2.push("endpoint_path=" + "".concat(i2)), u2.push("url=" + "".concat(encodeURIComponent(e2))), u2.push("revision_id=" + "".concat(o2)), "".concat(a.default.defaultAppServerEndpoint, "/api/v2/song/chord.json?").concat(u2.join("&"));
        }
        function s(e2, t2) {
          var n2 = t2.revisionId, r2 = e2.attributes.sequence;
          return r2.forEach(function(e3) {
            [{ source: "startTimeMs", target: "startTime" }, { source: "durationTimeMs", target: "durationTime" }, { source: "endTimeMs", target: "endTime" }, { source: "startTime", target: "start", warning: true }, { source: "durationTime", target: "duration", warning: true }, { source: "endTime", target: "end", warning: true }].forEach(function(t3) {
              Object.defineProperty(e3, t3.target, { get: function() {
                return t3.warning && i.default.warn("'Chord.".concat(t3.target, "' is deprecated API, please use 'Chord.").concat(t3.source, "'")), e3[t3.source];
              } });
            }), Object.defineProperty(e3, "prev", { get: function() {
              return r2[e3.index - 1] || null;
            } }), Object.defineProperty(e3, "next", { get: function() {
              return r2[e3.index + 1] || null;
            } });
          }), { revisionId: n2, data: r2 };
        }
        var l = { get: function(e2) {
          var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          return new Promise(function(n2, i2) {
            t2.cache = null == t2.cache || t2.cache, t2.endpointScheme = null != t2.endpointScheme ? t2.endpointScheme : "", t2.endpointHost = null != t2.endpointHost ? t2.endpointHost : "", t2.endpointPath = null != t2.endpointPath ? t2.endpointPath : "", t2.revisionId = null != t2.revisionId ? t2.revisionId : 0;
            var a2 = u(e2, t2), l2 = o[a2];
            if (null != l2 && t2.cache) return n2(l2);
            r.default.getJSON(a2).then(function(e3) {
              var r2 = e3.meta, u2 = e3.data;
              if (200 != r2.status) return i2(e3);
              var l3 = s(u2, t2);
              return o[a2] = l3, n2(l3);
            }, function(e3) {
              return i2(e3);
            });
          });
        } };
        t.default = l;
      }, 25: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(5), i = n(2), a = n(1), o = {};
        function u(e2, t2) {
          var n2 = t2.endpointScheme, r2 = t2.endpointHost, i2 = t2.endpointPath, o2 = t2.revisionId, u2 = [];
          return u2.push("syntax=camelcase"), u2.push("endpoint_scheme=" + "".concat(n2)), u2.push("endpoint_host=" + "".concat(r2)), u2.push("endpoint_path=" + "".concat(i2)), u2.push("url=" + "".concat(encodeURIComponent(e2))), u2.push("revision_id=" + "".concat(o2)), "".concat(a.default.defaultAppServerEndpoint, "/api/v2/song/melody.json?").concat(u2.join("&"));
        }
        function s(e2, t2) {
          var n2 = t2.revisionId, r2 = e2.attributes.sequence;
          return r2.forEach(function(e3) {
            [{ source: "startTimeMs", target: "startTime" }, { source: "durationTimeMs", target: "durationTime" }, { source: "endTimeMs", target: "endTime" }, { source: "startTime", target: "start", warning: true }, { source: "durationTime", target: "duration", warning: true }, { source: "endTime", target: "end", warning: true }].forEach(function(t3) {
              Object.defineProperty(e3, t3.target, { get: function() {
                return t3.warning && i.default.warn("'Melody.".concat(t3.target, "' is deprecated API, please use 'Melody.").concat(t3.source, "'")), e3[t3.source];
              } });
            }), Object.defineProperty(e3, "prev", { get: function() {
              return r2[e3.index - 1] || null;
            } }), Object.defineProperty(e3, "next", { get: function() {
              return r2[e3.index + 1] || null;
            } });
          }), { revisionId: n2, data: r2 };
        }
        var l = { get: function(e2) {
          var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          return new Promise(function(n2, i2) {
            t2.cache = null == t2.cache || t2.cache, t2.endpointScheme = null != t2.endpointScheme ? t2.endpointScheme : "", t2.endpointHost = null != t2.endpointHost ? t2.endpointHost : "", t2.endpointPath = null != t2.endpointPath ? t2.endpointPath : "", t2.revisionId = null != t2.revisionId ? t2.revisionId : 0;
            var a2 = u(e2, t2), l2 = o[a2];
            if (null != l2 && t2.cache) return n2(l2);
            r.default.getJSON(a2).then(function(e3) {
              var r2 = e3.meta, u2 = e3.data;
              if (200 != r2.status) return i2(e3);
              var l3 = s(u2, t2);
              return o[a2] = l3, n2(l3);
            }, function(e3) {
              return i2(e3);
            });
          });
        } };
        t.default = l;
      }, 26: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(5), i = n(2), a = n(1), o = {};
        function u(e2, t2) {
          var n2 = t2.endpointScheme, r2 = t2.endpointHost, i2 = t2.endpointPath, o2 = t2.revisionId, u2 = [];
          return u2.push("syntax=camelcase"), u2.push("endpoint_scheme=" + "".concat(n2)), u2.push("endpoint_host=" + "".concat(r2)), u2.push("endpoint_path=" + "".concat(i2)), u2.push("url=" + "".concat(encodeURIComponent(e2))), u2.push("revision_id=" + "".concat(o2)), "".concat(a.default.defaultAppServerEndpoint, "/api/v2/song/chorus.json?").concat(u2.join("&"));
        }
        function s(e2, t2) {
          var n2 = t2.revisionId, r2 = e2.attributes.sequence;
          return r2.forEach(function(e3) {
            [{ source: "durationTimeMs", target: "durationTime" }, { source: "items", target: "repeats", warning: true }, { source: "durationTime", target: "duration", warning: true }].forEach(function(t3) {
              Object.defineProperty(e3, t3.target, { get: function() {
                return t3.warning && i.default.warn("'ChorusSection.".concat(t3.target, "' is deprecated API, please use 'ChorusSection.").concat(t3.source, "'")), e3[t3.source];
              } });
            }), e3.items.forEach(function(t3) {
              [{ source: "startTimeMs", target: "startTime" }, { source: "durationTimeMs", target: "durationTime" }, { source: "endTimeMs", target: "endTime" }, { source: "startTime", target: "start", warning: true }, { source: "durationTime", target: "duration", warning: true }, { source: "endTime", target: "end", warning: true }].forEach(function(e4) {
                Object.defineProperty(t3, e4.target, { get: function() {
                  return e4.warning && i.default.warn("'ChorusSectionItem.".concat(e4.target, "' is deprecated API, please use 'ChorusSectionItem.").concat(e4.source, "'")), t3[e4.source];
                } });
              }), Object.defineProperty(t3, "prev", { get: function() {
                return e3.items[t3.index - 1] || null;
              } }), Object.defineProperty(t3, "next", { get: function() {
                return e3.items[t3.index + 1] || null;
              } });
            });
          }), { revisionId: n2, data: r2 };
        }
        var l = { get: function(e2) {
          var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          return new Promise(function(n2, i2) {
            t2.cache = null == t2.cache || t2.cache, t2.endpointScheme = null != t2.endpointScheme ? t2.endpointScheme : "", t2.endpointHost = null != t2.endpointHost ? t2.endpointHost : "", t2.endpointPath = null != t2.endpointPath ? t2.endpointPath : "", t2.revisionId = null != t2.revisionId ? t2.revisionId : 0;
            var a2 = u(e2, t2), l2 = o[a2];
            if (null != l2 && t2.cache) return n2(l2);
            r.default.getJSON(a2).then(function(e3) {
              var r2 = e3.meta, u2 = e3.data;
              if (200 != r2.status) return i2(e3);
              var l3 = s(u2, t2);
              return o[a2] = l3, n2(l3);
            }, function(e3) {
              return i2(e3);
            });
          });
        } };
        t.default = l;
      }, 27: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(5), i = n(2), a = n(1), o = {};
        function u(e2, t2) {
          var n2 = t2.endpointScheme, r2 = t2.endpointHost, i2 = t2.endpointPath, o2 = t2.revisionId, u2 = t2.groupCount, s2 = [];
          return s2.push("syntax=camelcase"), s2.push("endpoint_scheme=" + "".concat(n2)), s2.push("endpoint_host=" + "".concat(r2)), s2.push("endpoint_path=" + "".concat(i2)), s2.push("url=" + "".concat(encodeURIComponent(e2))), s2.push("revision_id=" + "".concat(o2)), s2.push("group_count=" + "".concat(u2)), "".concat(a.default.defaultAppServerEndpoint, "/api/v2/song/variation.json?").concat(s2.join("&"));
        }
        function s(e2, t2) {
          var n2 = t2.revisionId, r2 = e2.attributes.sequence;
          return r2.forEach(function(e3) {
            [{ source: "startTimeMs", target: "startTime" }, { source: "durationTimeMs", target: "durationTime" }, { source: "endTimeMs", target: "endTime" }, { source: "startTime", target: "start", warning: true }, { source: "durationTime", target: "duration", warning: true }, { source: "endTime", target: "end", warning: true }].forEach(function(t3) {
              Object.defineProperty(e3, t3.target, { get: function() {
                return t3.warning && i.default.warn("'Variation.".concat(t3.target, "' is deprecated API, please use 'Variation.").concat(t3.source, "'")), e3[t3.source];
              } });
            }), Object.defineProperty(e3, "prev", { get: function() {
              return r2[e3.index - 1] || null;
            } }), Object.defineProperty(e3, "next", { get: function() {
              return r2[e3.index + 1] || null;
            } });
          }), { revisionId: n2, data: r2 };
        }
        var l = { get: function(e2) {
          var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          return new Promise(function(n2, i2) {
            t2.cache = null == t2.cache || t2.cache, t2.endpointScheme = null != t2.endpointScheme ? t2.endpointScheme : "", t2.endpointHost = null != t2.endpointHost ? t2.endpointHost : "", t2.endpointPath = null != t2.endpointPath ? t2.endpointPath : "", t2.revisionId = null != t2.revisionId ? t2.revisionId : 0, t2.groupCount = null != t2.groupCount ? t2.groupCount : 2;
            var a2 = u(e2, t2), l2 = o[a2];
            if (null != l2 && t2.cache) return n2(l2);
            r.default.getJSON(a2).then(function(e3) {
              var r2 = e3.meta, u2 = e3.data;
              if (200 != r2.status) return i2(e3);
              var l3 = s(u2, t2);
              return o[a2] = l3, n2(l3);
            }, function(e3) {
              return i2(e3);
            });
          });
        } };
        t.default = l;
      }, 28: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(2);
        function i(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function a(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        var o = function() {
          function e2(t3) {
            var n3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            i(this, e2), this.intervalTime = null != n3.intervalTime ? n3.intervalTime : this.defaultIntervalTime, this.__plugin__ = t3;
          }
          var t2, n2, o2;
          return t2 = e2, (n2 = [{ key: "start", value: function() {
            var e3 = this;
            setTimeout(function() {
              try {
                e3.runTask();
              } catch (t3) {
                r.default.debug("Worker's runTask is daed");
              }
              e3.start();
            }, this.intervalTime);
          } }, { key: "runTask", value: function() {
          } }, { key: "update", value: function() {
          } }, { key: "defaultIntervalTime", get: function() {
            return 0;
          } }, { key: "minIntervalTime", get: function() {
            return 0;
          } }, { key: "maxIntervalTime", get: function() {
            return 0;
          } }, { key: "intervalTime", set: function(e3) {
            e3 < this.minIntervalTime && (r.default.warn("You can't set less than 'minIntervalTime'"), e3 = this.minIntervalTime), e3 > this.maxIntervalTime && (r.default.warn("You can't set more than 'maxIntervalTime'"), e3 = this.maxIntervalTime), this.__intervalTime__ = e3;
          }, get: function() {
            return this.__intervalTime__;
          } }, { key: "plugin", get: function() {
            return this.__plugin__;
          } }, { key: "player", get: function() {
            return this.__plugin__.player;
          } }]) && a(t2.prototype, n2), o2 && a(t2, o2), e2;
        }();
        t.default = o;
      }, 30: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(1);
        var i = { createScriptElement: function(e2) {
          var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n2 = r.default.global.document.createElement("script");
          return t2.async = t2.async || false, t2.defer = t2.defer || false, t2.type = t2.type || "text/javascript", n2.async = t2.async, n2.defer = t2.defer, n2.src = e2, n2.type = t2.type, n2.addEventListener("abort", t2.onAbort, false), n2.addEventListener("error", t2.onError, false), n2.addEventListener("load", t2.onLoad, false), n2;
        }, querySelector: function(e2) {
          return "string" === r.default.typeOf(e2) ? r.default.global.document.querySelector(e2) : e2;
        } };
        t.default = i;
      }, 32: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(4), i = n.n(r), a = n(6), o = n(2), u = n(1);
        function s(e2, t2, n2, r2, i2, a2, o2) {
          try {
            var u2 = e2[a2](o2), s2 = u2.value;
          } catch (l2) {
            return void n2(l2);
          }
          u2.done ? t2(s2) : Promise.resolve(s2).then(r2, i2);
        }
        function l(e2, t2, n2) {
          return (l = "undefined" !== typeof Reflect && Reflect.get ? Reflect.get : function(e3, t3, n3) {
            var r2 = function(e4, t4) {
              for (; !Object.prototype.hasOwnProperty.call(e4, t4) && null !== (e4 = h(e4)); ) ;
              return e4;
            }(e3, t3);
            if (r2) {
              var i2 = Object.getOwnPropertyDescriptor(r2, t3);
              return i2.get ? i2.get.call(n3) : i2.value;
            }
          })(e2, t2, n2 || e2);
        }
        function c(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function f(e2, t2, n2) {
          return t2 && c(e2.prototype, t2), n2 && c(e2, n2), e2;
        }
        function _(e2, t2) {
          return (_ = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function p(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = h(e2);
            if (t2) {
              var i2 = h(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return d(this, n2);
          };
        }
        function d(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function h(e2) {
          return (h = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var y = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && _(e3, t3);
          }(c2, e2);
          var t2, n2, r2 = p(c2);
          function c2(e3) {
            var t3;
            return function(e4, t4) {
              if (!(e4 instanceof t4)) throw new TypeError("Cannot call a class as a function");
            }(this, c2), t3 = r2.call(this, null, null, e3), "string" == u.default.typeOf(e3) && o.default.warn("'Songle.Media.Headless' is deprecated API, please use headless option in 'Songle.Player#useMedia'"), t3;
          }
          return f(c2, null, [{ key: "Name", get: function() {
            return "songle-api-headless-media";
          } }]), f(c2, [{ key: "initialize", value: (t2 = i.a.mark(function e3(t3) {
            var n3 = this;
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  if (null == this.player) {
                    e4.next = 2;
                    break;
                  }
                  return e4.abrupt("return");
                case 2:
                  return e4.next = 4, l(h(c2.prototype), "initialize", this).call(this, t3);
                case 4:
                  this.__intervalId__ = setInterval(function() {
                    n3.positionTime >= n3.durationTime && n3.__invokeMediaStateChangeTrap__(n3, a.default.StateFinished);
                  }, 1e3);
                case 5:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          }), n2 = function() {
            var e3 = this, n3 = arguments;
            return new Promise(function(r3, i2) {
              var a2 = t2.apply(e3, n3);
              function o2(e4) {
                s(a2, r3, i2, o2, u2, "next", e4);
              }
              function u2(e4) {
                s(a2, r3, i2, o2, u2, "throw", e4);
              }
              o2(void 0);
            });
          }, function(e3) {
            return n2.apply(this, arguments);
          }) }, { key: "dispose", value: function() {
            l(h(c2.prototype), "dispose", this).call(this), clearInterval(this.__intervalId__);
          } }, { key: "play", value: function() {
            this.__invokeMediaStateChangeTrap__(this, a.default.StateTimeUpdate), this.__invokeMediaStateChangeTrap__(this, a.default.StatePlaying);
          } }, { key: "pause", value: function() {
            this.__invokeMediaStateChangeTrap__(this, a.default.StateTimeUpdate), this.__invokeMediaStateChangeTrap__(this, a.default.StatePaused);
          } }, { key: "seekTo", value: function(e3) {
            switch (l(h(c2.prototype), "seekTo", this).call(this, e3), true) {
              case this.isPlaying:
                this.__invokeMediaStateChangeTrap__(this, a.default.StateTimeUpdate), this.__invokeMediaStateChangeTrap__(this, a.default.StateSeeking), this.__invokeMediaStateChangeTrap__(this, a.default.StatePlaying);
                break;
              case this.isPaused:
                this.__invokeMediaStateChangeTrap__(this, a.default.StateTimeUpdate), this.__invokeMediaStateChangeTrap__(this, a.default.StateSeeking), this.__invokeMediaStateChangeTrap__(this, a.default.StatePaused);
            }
          } }, { key: "dispatcherName", get: function() {
            return c2.Name;
          } }]), c2;
        }(a.default.SuperClass);
        t.default = y;
      }, 37: function(e, t, n) {
        "use strict";
        function r(e2, t2) {
          var n2 = document.createElementNS("http://www.w3.org/2000/svg", e2);
          for (var r2 in t2) null != t2[r2] && n2.setAttribute(i(r2), String(t2[r2]));
          return n2;
        }
        function i(e2) {
          switch (e2) {
            case "strokeWidth":
              e2 = "stroke-width";
          }
          return e2;
        }
        n.r(t);
        var a = { createSVGElement: function(e2) {
          return r("svg", e2);
        }, createGroupElement: function(e2) {
          return r("g", e2);
        }, createRectElement: function(e2) {
          return r("rect", e2);
        }, createCircleElement: function(e2) {
          return r("circle", e2);
        }, createLineElement: function(e2) {
          return r("line", e2);
        }, createPolygonElement: function(e2) {
          return r("polygon", e2);
        } };
        t.default = a;
      }, 4: function(e, t, n) {
        e.exports = n(46);
      }, 41: function(e, t, n) {
        "use strict";
        function r(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function i(e2, t2) {
          return (i = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function a(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = u(e2);
            if (t2) {
              var i2 = u(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return o(this, n2);
          };
        }
        function o(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function u(e2) {
          return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        n.r(t);
        var s = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && i(e3, t3);
          }(s2, e2);
          var t2, n2, o2, u2 = a(s2);
          function s2(e3) {
            var t3;
            return function(e4, t4) {
              if (!(e4 instanceof t4)) throw new TypeError("Cannot call a class as a function");
            }(this, s2), (t3 = u2.call(this, e3)).__enterStates__ = [], t3.__leaveStates__ = [], t3;
          }
          return t2 = s2, (n2 = [{ key: "dispatch", value: function(e3, t3) {
            var n3 = this, r2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i2 = this.__player__.musicMap;
            i2.beats && i2.beats.forEach(function(i3) {
              i3.prev && e3 < i3.prev.startTime && t3 >= i3.prev.startTime && n3.__enterStates__[i3.prev.index] && !n3.__leaveStates__[i3.prev.index] && (r2.leave && r2.leave({ beat: i3.prev }), n3.__leaveStates__[i3.prev.index] = true), i3 && e3 < i3.startTime && t3 >= i3.startTime && (n3.__enterStates__[i3.index] || n3.__leaveStates__[i3.index] || (r2.enter && r2.enter({ beat: i3 }), n3.__enterStates__[i3.index] = true));
            });
          } }, { key: "reset", value: function() {
            this.__enterStates__ = [], this.__leaveStates__ = [];
          } }]) && r(t2.prototype, n2), o2 && r(t2, o2), s2;
        }(n(13).default);
        t.default = s;
      }, 411: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(77), i = n(174), a = (n(185), n(6)), o = n(21), u = n(32), s = n(59), l = n(57), c = n(58), f = n(47), _ = n(48), p = n(49), d = n(50), h = n(51), y = n(62), v = n(100), g = (n(2), n(1)), m = (n(5), n(12)), b = { Player: r.default, SyncPlayer: i.default, Media: { SuperClass: a.default, Headless: u.default, HTMLMediaElement: s.default, NNVideo: l.default, YTVideo: c.default }, Plugin: { SuperClass: o.default, Beat: f.default, Chord: _.default, Melody: p.default, Chorus: d.default, Variation: h.default, SongleSync: y.default, SongleWidget: v.default }, SongleAPI: m.default, System: g.default }, k = 20;
        g.default.global.SW = g.default.global.SW || b, g.default.global.Songle = g.default.global.Songle || b, g.default.showDebugLog = false, g.default.showErrorLog = true, g.default.showLicense = true, function e2() {
          setTimeout(function() {
            g.default.global.SWAPIReady || k <= 0 || (k--, g.default.global.onSongleWidgetAPIReady && (g.default.global.onSongleWidgetAPIReady(b), g.default.global.SWAPIReady = true), g.default.global.onSongleAPIReady && (g.default.global.onSongleAPIReady(b), g.default.global.SWAPIReady = true), e2());
          }, 500);
        }(), t.default = b;
      }, 42: function(e, t, n) {
        "use strict";
        function r(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function i(e2, t2) {
          return (i = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function a(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = u(e2);
            if (t2) {
              var i2 = u(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return o(this, n2);
          };
        }
        function o(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function u(e2) {
          return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        n.r(t);
        var s = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && i(e3, t3);
          }(s2, e2);
          var t2, n2, o2, u2 = a(s2);
          function s2(e3) {
            var t3;
            return function(e4, t4) {
              if (!(e4 instanceof t4)) throw new TypeError("Cannot call a class as a function");
            }(this, s2), (t3 = u2.call(this, e3)).__enterStates__ = [], t3.__leaveStates__ = [], t3;
          }
          return t2 = s2, (n2 = [{ key: "dispatch", value: function(e3, t3) {
            var n3 = this, r2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i2 = this.__player__.musicMap;
            i2.chords && i2.chords.forEach(function(i3) {
              e3 < i3.startTime + i3.durationTime && t3 >= i3.startTime && (i3.prev && (n3.__leaveStates__[i3.prev.index] || (n3.__leaveStates__[i3.prev.index] = true, r2.leave && r2.leave({ chord: i3.prev }))), i3 && (n3.__enterStates__[i3.index] || (n3.__enterStates__[i3.index] = true, r2.enter && r2.enter({ chord: i3 }))));
            });
          } }, { key: "reset", value: function() {
            var e3 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n3 = this.__player__.musicMap;
            n3.chords && n3.chords.forEach(function(n4) {
              e3.__enterStates__[n4.index] && !e3.__leaveStates__[n4.index] && t3.leave && t3.leave({ chord: n4 });
            }), this.__enterStates__ = [], this.__leaveStates__ = [];
          } }]) && r(t2.prototype, n2), o2 && r(t2, o2), s2;
        }(n(13).default);
        t.default = s;
      }, 43: function(e, t, n) {
        "use strict";
        function r(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function i(e2, t2) {
          return (i = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function a(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = u(e2);
            if (t2) {
              var i2 = u(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return o(this, n2);
          };
        }
        function o(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function u(e2) {
          return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        n.r(t);
        var s = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && i(e3, t3);
          }(s2, e2);
          var t2, n2, o2, u2 = a(s2);
          function s2(e3) {
            var t3;
            return function(e4, t4) {
              if (!(e4 instanceof t4)) throw new TypeError("Cannot call a class as a function");
            }(this, s2), (t3 = u2.call(this, e3)).__enterStates__ = [], t3.__leaveStates__ = [], t3;
          }
          return t2 = s2, (n2 = [{ key: "dispatch", value: function(e3, t3) {
            var n3 = this, r2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i2 = this.__player__.musicMap;
            i2.melodies && i2.melodies.forEach(function(i3) {
              e3 < i3.startTime + i3.durationTime && t3 >= i3.startTime && (i3.prev && (n3.__leaveStates__[i3.prev.index] || (n3.__leaveStates__[i3.prev.index] = true, r2.leave && r2.leave({ melody: i3.prev }))), i3 && (n3.__enterStates__[i3.index] || (n3.__enterStates__[i3.index] = true, r2.enter && r2.enter({ melody: i3 }))));
            });
          } }, { key: "reset", value: function() {
            var e3 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n3 = this.__player__.musicMap;
            n3.melodies && n3.melodies.forEach(function(n4) {
              e3.__enterStates__[n4.index] && !e3.__leaveStates__[n4.index] && t3.leave && t3.leave({ melody: n4 });
            }), this.__enterStates__ = [], this.__leaveStates__ = [];
          } }]) && r(t2.prototype, n2), o2 && r(t2, o2), s2;
        }(n(13).default);
        t.default = s;
      }, 44: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(13);
        function i(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function a(e2, t2) {
          return (a = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function o(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = s(e2);
            if (t2) {
              var i2 = s(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return u(this, n2);
          };
        }
        function u(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function s(e2) {
          return (s = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var l = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && a(e3, t3);
          }(s2, e2);
          var t2, n2, r2, u2 = o(s2);
          function s2(e3) {
            var t3;
            return function(e4, t4) {
              if (!(e4 instanceof t4)) throw new TypeError("Cannot call a class as a function");
            }(this, s2), (t3 = u2.call(this, e3)).__enterStates__ = [], t3.__leaveStates__ = [], t3;
          }
          return t2 = s2, (n2 = [{ key: "dispatch", value: function(e3, t3) {
            var n3 = this, r3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i2 = this.__player__.musicMap;
            i2.chorus && i2.chorus.forEach(function(i3) {
              i3.items.forEach(function(a2) {
                e3 < a2.startTime + a2.durationTime && t3 >= a2.startTime ? n3.__invokeEnterTrap__(i3, a2, r3) : n3.__invokeLeaveTrap__(i3, a2, r3);
              });
            });
          } }, { key: "reset", value: function() {
            var e3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            this.__invokeAllLeaveTrap__(e3), this.__enterStates__ = [], this.__leaveStates__ = [];
          } }, { key: "__getStateIndex__", value: function(e3, t3) {
            return 16 * e3.index + t3.index;
          } }, { key: "__invokeAllEnterTrap__", value: function() {
            var e3 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n3 = this.__player__.musicMap;
            n3.chorus && n3.chorus.forEach(function(n4) {
              n4.items.forEach(function(r3) {
                e3.__invokeEnterTrap__(n4, r3, t3);
              });
            });
          } }, { key: "__invokeAllLeaveTrap__", value: function() {
            var e3 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n3 = this.__player__.musicMap;
            n3.chorus && n3.chorus.forEach(function(n4) {
              n4.items.forEach(function(r3) {
                e3.__invokeLeaveTrap__(n4, r3, t3);
              });
            });
          } }, { key: "__invokeEnterTrap__", value: function(e3, t3) {
            var n3 = this, r3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i2 = this.__getStateIndex__(e3, t3);
            this.__enterStates__[i2] || this.__leaveStates__[i2] || (e3.items.forEach(function(t4) {
              n3.__invokeLeaveTrap__(e3, t4, r3);
            }), r3.enter && r3.enter({ section: e3, sectionItem: t3 }), this.__enterStates__[i2] = true);
          } }, { key: "__invokeLeaveTrap__", value: function(e3, t3) {
            var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = this.__getStateIndex__(e3, t3);
            this.__enterStates__[r3] && !this.__leaveStates__[r3] && (n3.leave && n3.leave({ section: e3, sectionItem: t3 }), this.__leaveStates__[r3] = true);
          } }]) && i(t2.prototype, n2), r2 && i(t2, r2), s2;
        }(r.default);
        t.default = l;
      }, 45: function(e, t, n) {
        "use strict";
        function r(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function i(e2, t2) {
          return (i = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function a(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = u(e2);
            if (t2) {
              var i2 = u(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return o(this, n2);
          };
        }
        function o(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function u(e2) {
          return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        n.r(t);
        var s = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && i(e3, t3);
          }(s2, e2);
          var t2, n2, o2, u2 = a(s2);
          function s2(e3) {
            var t3;
            return function(e4, t4) {
              if (!(e4 instanceof t4)) throw new TypeError("Cannot call a class as a function");
            }(this, s2), (t3 = u2.call(this, e3)).__enterStates__ = [], t3.__leaveStates__ = [], t3;
          }
          return t2 = s2, (n2 = [{ key: "dispatch", value: function(e3, t3) {
            var n3 = this, r2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i2 = this.__player__.musicMap;
            i2.variations && i2.variations.forEach(function(i3) {
              e3 < i3.startTime + i3.durationTime && t3 >= i3.startTime && (i3.prev && (n3.__leaveStates__[i3.prev.index] || (n3.__leaveStates__[i3.prev.index] = true, r2.leave && r2.leave({ variation: i3.prev }))), i3 && (n3.__enterStates__[i3.index] || (n3.__enterStates__[i3.index] = true, r2.enter && r2.enter({ variation: i3 }))));
            });
          } }, { key: "reset", value: function() {
            var e3 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n3 = this.__player__.musicMap;
            n3.variations && n3.variations.forEach(function(n4) {
              e3.__enterStates__[n4.index] && !e3.__leaveStates__[n4.index] && t3.leave && t3.leave({ variation: n4 });
            }), this.__enterStates__ = [], this.__leaveStates__ = [];
          } }]) && r(t2.prototype, n2), o2 && r(t2, o2), s2;
        }(n(13).default);
        t.default = s;
      }, 46: function(e, t, n) {
        var r = function(e2) {
          "use strict";
          var t2 = Object.prototype, n2 = t2.hasOwnProperty, r2 = "function" === typeof Symbol ? Symbol : {}, i = r2.iterator || "@@iterator", a = r2.asyncIterator || "@@asyncIterator", o = r2.toStringTag || "@@toStringTag";
          function u(e3, t3, n3) {
            return Object.defineProperty(e3, t3, { value: n3, enumerable: true, configurable: true, writable: true }), e3[t3];
          }
          try {
            u({}, "");
          } catch (O) {
            u = function(e3, t3, n3) {
              return e3[t3] = n3;
            };
          }
          function s(e3, t3, n3, r3) {
            var i2 = t3 && t3.prototype instanceof f ? t3 : f, a2 = Object.create(i2.prototype), o2 = new S(r3 || []);
            return a2._invoke = /* @__PURE__ */ function(e4, t4, n4) {
              var r4 = "suspendedStart";
              return function(i3, a3) {
                if ("executing" === r4) throw new Error("Generator is already running");
                if ("completed" === r4) {
                  if ("throw" === i3) throw a3;
                  return w();
                }
                for (n4.method = i3, n4.arg = a3; ; ) {
                  var o3 = n4.delegate;
                  if (o3) {
                    var u2 = b(o3, n4);
                    if (u2) {
                      if (u2 === c) continue;
                      return u2;
                    }
                  }
                  if ("next" === n4.method) n4.sent = n4._sent = n4.arg;
                  else if ("throw" === n4.method) {
                    if ("suspendedStart" === r4) throw r4 = "completed", n4.arg;
                    n4.dispatchException(n4.arg);
                  } else "return" === n4.method && n4.abrupt("return", n4.arg);
                  r4 = "executing";
                  var s2 = l(e4, t4, n4);
                  if ("normal" === s2.type) {
                    if (r4 = n4.done ? "completed" : "suspendedYield", s2.arg === c) continue;
                    return { value: s2.arg, done: n4.done };
                  }
                  "throw" === s2.type && (r4 = "completed", n4.method = "throw", n4.arg = s2.arg);
                }
              };
            }(e3, n3, o2), a2;
          }
          function l(e3, t3, n3) {
            try {
              return { type: "normal", arg: e3.call(t3, n3) };
            } catch (O) {
              return { type: "throw", arg: O };
            }
          }
          e2.wrap = s;
          var c = {};
          function f() {
          }
          function _() {
          }
          function p() {
          }
          var d = {};
          d[i] = function() {
            return this;
          };
          var h = Object.getPrototypeOf, y = h && h(h(P([])));
          y && y !== t2 && n2.call(y, i) && (d = y);
          var v = p.prototype = f.prototype = Object.create(d);
          function g(e3) {
            ["next", "throw", "return"].forEach(function(t3) {
              u(e3, t3, function(e4) {
                return this._invoke(t3, e4);
              });
            });
          }
          function m(e3, t3) {
            var r3;
            this._invoke = function(i2, a2) {
              function o2() {
                return new t3(function(r4, o3) {
                  !function r5(i3, a3, o4, u2) {
                    var s2 = l(e3[i3], e3, a3);
                    if ("throw" !== s2.type) {
                      var c2 = s2.arg, f2 = c2.value;
                      return f2 && "object" === typeof f2 && n2.call(f2, "__await") ? t3.resolve(f2.__await).then(function(e4) {
                        r5("next", e4, o4, u2);
                      }, function(e4) {
                        r5("throw", e4, o4, u2);
                      }) : t3.resolve(f2).then(function(e4) {
                        c2.value = e4, o4(c2);
                      }, function(e4) {
                        return r5("throw", e4, o4, u2);
                      });
                    }
                    u2(s2.arg);
                  }(i2, a2, r4, o3);
                });
              }
              return r3 = r3 ? r3.then(o2, o2) : o2();
            };
          }
          function b(e3, t3) {
            var n3 = e3.iterator[t3.method];
            if (void 0 === n3) {
              if (t3.delegate = null, "throw" === t3.method) {
                if (e3.iterator.return && (t3.method = "return", t3.arg = void 0, b(e3, t3), "throw" === t3.method)) return c;
                t3.method = "throw", t3.arg = new TypeError("The iterator does not provide a 'throw' method");
              }
              return c;
            }
            var r3 = l(n3, e3.iterator, t3.arg);
            if ("throw" === r3.type) return t3.method = "throw", t3.arg = r3.arg, t3.delegate = null, c;
            var i2 = r3.arg;
            return i2 ? i2.done ? (t3[e3.resultName] = i2.value, t3.next = e3.nextLoc, "return" !== t3.method && (t3.method = "next", t3.arg = void 0), t3.delegate = null, c) : i2 : (t3.method = "throw", t3.arg = new TypeError("iterator result is not an object"), t3.delegate = null, c);
          }
          function k(e3) {
            var t3 = { tryLoc: e3[0] };
            1 in e3 && (t3.catchLoc = e3[1]), 2 in e3 && (t3.finallyLoc = e3[2], t3.afterLoc = e3[3]), this.tryEntries.push(t3);
          }
          function T(e3) {
            var t3 = e3.completion || {};
            t3.type = "normal", delete t3.arg, e3.completion = t3;
          }
          function S(e3) {
            this.tryEntries = [{ tryLoc: "root" }], e3.forEach(k, this), this.reset(true);
          }
          function P(e3) {
            if (e3) {
              var t3 = e3[i];
              if (t3) return t3.call(e3);
              if ("function" === typeof e3.next) return e3;
              if (!isNaN(e3.length)) {
                var r3 = -1, a2 = function t4() {
                  for (; ++r3 < e3.length; ) if (n2.call(e3, r3)) return t4.value = e3[r3], t4.done = false, t4;
                  return t4.value = void 0, t4.done = true, t4;
                };
                return a2.next = a2;
              }
            }
            return { next: w };
          }
          function w() {
            return { value: void 0, done: true };
          }
          return _.prototype = v.constructor = p, p.constructor = _, _.displayName = u(p, o, "GeneratorFunction"), e2.isGeneratorFunction = function(e3) {
            var t3 = "function" === typeof e3 && e3.constructor;
            return !!t3 && (t3 === _ || "GeneratorFunction" === (t3.displayName || t3.name));
          }, e2.mark = function(e3) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(e3, p) : (e3.__proto__ = p, u(e3, o, "GeneratorFunction")), e3.prototype = Object.create(v), e3;
          }, e2.awrap = function(e3) {
            return { __await: e3 };
          }, g(m.prototype), m.prototype[a] = function() {
            return this;
          }, e2.AsyncIterator = m, e2.async = function(t3, n3, r3, i2, a2) {
            void 0 === a2 && (a2 = Promise);
            var o2 = new m(s(t3, n3, r3, i2), a2);
            return e2.isGeneratorFunction(n3) ? o2 : o2.next().then(function(e3) {
              return e3.done ? e3.value : o2.next();
            });
          }, g(v), u(v, o, "Generator"), v[i] = function() {
            return this;
          }, v.toString = function() {
            return "[object Generator]";
          }, e2.keys = function(e3) {
            var t3 = [];
            for (var n3 in e3) t3.push(n3);
            return t3.reverse(), function n4() {
              for (; t3.length; ) {
                var r3 = t3.pop();
                if (r3 in e3) return n4.value = r3, n4.done = false, n4;
              }
              return n4.done = true, n4;
            };
          }, e2.values = P, S.prototype = { constructor: S, reset: function(e3) {
            if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(T), !e3) for (var t3 in this) "t" === t3.charAt(0) && n2.call(this, t3) && !isNaN(+t3.slice(1)) && (this[t3] = void 0);
          }, stop: function() {
            this.done = true;
            var e3 = this.tryEntries[0].completion;
            if ("throw" === e3.type) throw e3.arg;
            return this.rval;
          }, dispatchException: function(e3) {
            if (this.done) throw e3;
            var t3 = this;
            function r3(n3, r4) {
              return o2.type = "throw", o2.arg = e3, t3.next = n3, r4 && (t3.method = "next", t3.arg = void 0), !!r4;
            }
            for (var i2 = this.tryEntries.length - 1; i2 >= 0; --i2) {
              var a2 = this.tryEntries[i2], o2 = a2.completion;
              if ("root" === a2.tryLoc) return r3("end");
              if (a2.tryLoc <= this.prev) {
                var u2 = n2.call(a2, "catchLoc"), s2 = n2.call(a2, "finallyLoc");
                if (u2 && s2) {
                  if (this.prev < a2.catchLoc) return r3(a2.catchLoc, true);
                  if (this.prev < a2.finallyLoc) return r3(a2.finallyLoc);
                } else if (u2) {
                  if (this.prev < a2.catchLoc) return r3(a2.catchLoc, true);
                } else {
                  if (!s2) throw new Error("try statement without catch or finally");
                  if (this.prev < a2.finallyLoc) return r3(a2.finallyLoc);
                }
              }
            }
          }, abrupt: function(e3, t3) {
            for (var r3 = this.tryEntries.length - 1; r3 >= 0; --r3) {
              var i2 = this.tryEntries[r3];
              if (i2.tryLoc <= this.prev && n2.call(i2, "finallyLoc") && this.prev < i2.finallyLoc) {
                var a2 = i2;
                break;
              }
            }
            a2 && ("break" === e3 || "continue" === e3) && a2.tryLoc <= t3 && t3 <= a2.finallyLoc && (a2 = null);
            var o2 = a2 ? a2.completion : {};
            return o2.type = e3, o2.arg = t3, a2 ? (this.method = "next", this.next = a2.finallyLoc, c) : this.complete(o2);
          }, complete: function(e3, t3) {
            if ("throw" === e3.type) throw e3.arg;
            return "break" === e3.type || "continue" === e3.type ? this.next = e3.arg : "return" === e3.type ? (this.rval = this.arg = e3.arg, this.method = "return", this.next = "end") : "normal" === e3.type && t3 && (this.next = t3), c;
          }, finish: function(e3) {
            for (var t3 = this.tryEntries.length - 1; t3 >= 0; --t3) {
              var n3 = this.tryEntries[t3];
              if (n3.finallyLoc === e3) return this.complete(n3.completion, n3.afterLoc), T(n3), c;
            }
          }, catch: function(e3) {
            for (var t3 = this.tryEntries.length - 1; t3 >= 0; --t3) {
              var n3 = this.tryEntries[t3];
              if (n3.tryLoc === e3) {
                var r3 = n3.completion;
                if ("throw" === r3.type) {
                  var i2 = r3.arg;
                  T(n3);
                }
                return i2;
              }
            }
            throw new Error("illegal catch attempt");
          }, delegateYield: function(e3, t3, n3) {
            return this.delegate = { iterator: P(e3), resultName: t3, nextLoc: n3 }, "next" === this.method && (this.arg = void 0), c;
          } }, e2;
        }(e.exports);
        try {
          regeneratorRuntime = r;
        } catch (i) {
          Function("r", "regeneratorRuntime = r")(r);
        }
      }, 47: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(4), i = n.n(r), a = n(15), o = n(41), u = n(14);
        n(2), n(12);
        function s(e2, t2, n2, r2, i2, a2, o2) {
          try {
            var u2 = e2[a2](o2), s2 = u2.value;
          } catch (l2) {
            return void n2(l2);
          }
          u2.done ? t2(s2) : Promise.resolve(s2).then(r2, i2);
        }
        function l(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function c(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function f(e2, t2, n2) {
          return (f = "undefined" !== typeof Reflect && Reflect.get ? Reflect.get : function(e3, t3, n3) {
            var r2 = function(e4, t4) {
              for (; !Object.prototype.hasOwnProperty.call(e4, t4) && null !== (e4 = h(e4)); ) ;
              return e4;
            }(e3, t3);
            if (r2) {
              var i2 = Object.getOwnPropertyDescriptor(r2, t3);
              return i2.get ? i2.get.call(n3) : i2.value;
            }
          })(e2, t2, n2 || e2);
        }
        function _(e2, t2) {
          return (_ = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function p(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = h(e2);
            if (t2) {
              var i2 = h(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return d(this, n2);
          };
        }
        function d(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function h(e2) {
          return (h = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var y = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && _(e3, t3);
          }(v, e2);
          var t2, n2, r2, a2, d2, y2 = p(v);
          function v() {
            return l(this, v), y2.apply(this, arguments);
          }
          return t2 = v, n2 = [{ key: "initialize", value: function(e3) {
            var t3 = this;
            f(h(v.prototype), "initialize", this).call(this, e3), e3.seekToPrevBar = function() {
              var t4 = u.default.findPrevBar(e3);
              t4 && e3.seekTo(t4.start);
            }, e3.seekToNextBar = function() {
              var t4 = u.default.findNextBar(e3);
              t4 && e3.seekTo(t4.start);
            }, this.on(["play", "pause", "mediaSeek", "seek"], function(e4) {
              t3.__resetBarLeaveTrap__(), t3.__resetBeatLeaveTrap__(), t3.__resetBarEnterTrap__(), t3.__resetBeatEnterTrap__();
            }), function e4() {
              t3.mapTrapsHasNotData(["barEnter", "barLeave", "beatEnter", "beatLeave"]).forEach(function(e5) {
                return e5.data = new o.default(t3.player);
              }), setTimeout(function() {
                t3.player.isPlaying && (t3.__invokeBarLeaveTrap__(), t3.__invokeBeatLeaveTrap__(), t3.__invokeBarEnterTrap__(), t3.__invokeBeatEnterTrap__()), e4();
              }, t3.pollingInterval);
            }();
          } }, { key: "mediaDidMount", value: (a2 = i.a.mark(function e3(t3) {
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  return f(h(v.prototype), "mediaDidMount", this).call(this, t3), e4.next = 3, t3.media.loadBeat();
                case 3:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          }), d2 = function() {
            var e3 = this, t3 = arguments;
            return new Promise(function(n3, r3) {
              var i2 = a2.apply(e3, t3);
              function o2(e4) {
                s(i2, n3, r3, o2, u2, "next", e4);
              }
              function u2(e4) {
                s(i2, n3, r3, o2, u2, "throw", e4);
              }
              o2(void 0);
            });
          }, function(e3) {
            return d2.apply(this, arguments);
          }) }, { key: "__resetBarEnterTrap__", value: function() {
            this.mapTrapsHasAnyData("barEnter").forEach(function(e3) {
              return e3.data.reset();
            });
          } }, { key: "__resetBarLeaveTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("barLeave").forEach(function(t3) {
              return t3.data.reset({ leave: function(n3) {
                return e3.__invokeTrap__(t3, n3);
              } });
            });
          } }, { key: "__resetBeatEnterTrap__", value: function() {
            this.mapTrapsHasAnyData("beatEnter").forEach(function(e3) {
              return e3.data.reset();
            });
          } }, { key: "__resetBeatLeaveTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("beatLeave").forEach(function(t3) {
              return t3.data.reset({ leave: function(n3) {
                return e3.__invokeTrap__(t3, n3);
              } });
            });
          } }, { key: "__invokeBarEnterTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("barEnter").forEach(function(t3) {
              return t3.data.find({ enter: function(n3) {
                1 === n3.beat.number && e3.__invokeTrap__(t3, n3);
              } }, { offset: t3.options.offset + e3.offset });
            });
          } }, { key: "__invokeBarLeaveTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("barLeave").forEach(function(t3) {
              return t3.data.find({ leave: function(n3) {
                1 === n3.beat.number && e3.__invokeTrap__(t3, n3);
              } }, { offset: t3.options.offset + e3.offset });
            });
          } }, { key: "__invokeBeatEnterTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("beatEnter").forEach(function(t3) {
              return t3.data.find({ enter: function(n3) {
                return e3.__invokeTrap__(t3, n3);
              } }, { offset: t3.options.offset + e3.offset });
            });
          } }, { key: "__invokeBeatLeaveTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("beatLeave").forEach(function(t3) {
              return t3.data.find({ leave: function(n3) {
                return e3.__invokeTrap__(t3, n3);
              } }, { offset: t3.options.offset + e3.offset });
            });
          } }, { key: "dispatcherName", get: function() {
            return v.Name;
          } }], r2 = [{ key: "Name", get: function() {
            return "songle-api-plugin-beat";
          } }, { key: "BarEnterTrapName", get: function() {
            return "barEnter";
          } }, { key: "BarLeaveTrapName", get: function() {
            return "barLeave";
          } }, { key: "BeatEnterTrapName", get: function() {
            return "beatEnter";
          } }, { key: "BeatLeaveTrapName", get: function() {
            return "beatLeave";
          } }], n2 && c(t2.prototype, n2), r2 && c(t2, r2), v;
        }(a.default);
        t.default = y;
      }, 48: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(4), i = n.n(r), a = n(15), o = n(42);
        n(14), n(2), n(12);
        function u(e2, t2, n2, r2, i2, a2, o2) {
          try {
            var u2 = e2[a2](o2), s2 = u2.value;
          } catch (l2) {
            return void n2(l2);
          }
          u2.done ? t2(s2) : Promise.resolve(s2).then(r2, i2);
        }
        function s(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function l(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function c(e2, t2, n2) {
          return (c = "undefined" !== typeof Reflect && Reflect.get ? Reflect.get : function(e3, t3, n3) {
            var r2 = function(e4, t4) {
              for (; !Object.prototype.hasOwnProperty.call(e4, t4) && null !== (e4 = d(e4)); ) ;
              return e4;
            }(e3, t3);
            if (r2) {
              var i2 = Object.getOwnPropertyDescriptor(r2, t3);
              return i2.get ? i2.get.call(n3) : i2.value;
            }
          })(e2, t2, n2 || e2);
        }
        function f(e2, t2) {
          return (f = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function _(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = d(e2);
            if (t2) {
              var i2 = d(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return p(this, n2);
          };
        }
        function p(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function d(e2) {
          return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var h = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && f(e3, t3);
          }(y, e2);
          var t2, n2, r2, a2, p2, h2 = _(y);
          function y() {
            return s(this, y), h2.apply(this, arguments);
          }
          return t2 = y, n2 = [{ key: "initialize", value: function(e3) {
            var t3 = this;
            c(d(y.prototype), "initialize", this).call(this, e3), this.on(["play", "pause", "mediaSeek", "seek"], function(e4) {
              t3.__resetChordLeaveTrap__(), t3.__resetChordEnterTrap__();
            }), function e4() {
              t3.mapTrapsHasNotData(["chordEnter", "chordLeave"]).forEach(function(e5) {
                return e5.data = new o.default(t3.player);
              }), setTimeout(function() {
                t3.player.isPlaying && (t3.__runChordLeaveTrap__(), t3.__runChordEnterTrap__()), e4();
              }, t3.pollingInterval);
            }();
          } }, { key: "mediaDidMount", value: (a2 = i.a.mark(function e3(t3) {
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  return c(d(y.prototype), "mediaDidMount", this).call(this, t3), e4.next = 3, t3.media.loadChord();
                case 3:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          }), p2 = function() {
            var e3 = this, t3 = arguments;
            return new Promise(function(n3, r3) {
              var i2 = a2.apply(e3, t3);
              function o2(e4) {
                u(i2, n3, r3, o2, s2, "next", e4);
              }
              function s2(e4) {
                u(i2, n3, r3, o2, s2, "throw", e4);
              }
              o2(void 0);
            });
          }, function(e3) {
            return p2.apply(this, arguments);
          }) }, { key: "__resetChordEnterTrap__", value: function() {
            this.mapTrapsHasAnyData("chordEnter").forEach(function(e3) {
              return e3.data.reset();
            });
          } }, { key: "__resetChordLeaveTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("chordLeave").forEach(function(t3) {
              return t3.data.reset({ leave: function(n3) {
                return e3.__invokeTrap__(t3, n3);
              } });
            });
          } }, { key: "__runChordEnterTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("chordEnter").forEach(function(t3) {
              return t3.data.find({ enter: function(n3) {
                return e3.__invokeTrap__(t3, n3);
              } }, { offset: t3.options.offset + e3.offset });
            });
          } }, { key: "__runChordLeaveTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("chordLeave").forEach(function(t3) {
              return t3.data.find({ leave: function(n3) {
                return e3.__invokeTrap__(t3, n3);
              } }, { offset: t3.options.offset + e3.offset });
            });
          } }, { key: "dispatcherName", get: function() {
            return y.Name;
          } }], r2 = [{ key: "Name", get: function() {
            return "songle-api-plugin-chord";
          } }, { key: "ChordEnterTrapName", get: function() {
            return "chordEnter";
          } }, { key: "ChordLeaveTrapName", get: function() {
            return "chordLeave";
          } }], n2 && l(t2.prototype, n2), r2 && l(t2, r2), y;
        }(a.default);
        t.default = h;
      }, 49: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(4), i = n.n(r), a = n(15), o = n(43);
        n(14), n(2), n(12);
        function u(e2, t2, n2, r2, i2, a2, o2) {
          try {
            var u2 = e2[a2](o2), s2 = u2.value;
          } catch (l2) {
            return void n2(l2);
          }
          u2.done ? t2(s2) : Promise.resolve(s2).then(r2, i2);
        }
        function s(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function l(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function c(e2, t2, n2) {
          return (c = "undefined" !== typeof Reflect && Reflect.get ? Reflect.get : function(e3, t3, n3) {
            var r2 = function(e4, t4) {
              for (; !Object.prototype.hasOwnProperty.call(e4, t4) && null !== (e4 = d(e4)); ) ;
              return e4;
            }(e3, t3);
            if (r2) {
              var i2 = Object.getOwnPropertyDescriptor(r2, t3);
              return i2.get ? i2.get.call(n3) : i2.value;
            }
          })(e2, t2, n2 || e2);
        }
        function f(e2, t2) {
          return (f = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function _(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = d(e2);
            if (t2) {
              var i2 = d(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return p(this, n2);
          };
        }
        function p(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function d(e2) {
          return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var h = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && f(e3, t3);
          }(y, e2);
          var t2, n2, r2, a2, p2, h2 = _(y);
          function y() {
            return s(this, y), h2.apply(this, arguments);
          }
          return t2 = y, n2 = [{ key: "initialize", value: function(e3) {
            var t3 = this;
            c(d(y.prototype), "initialize", this).call(this, e3), this.on(["play", "pause", "mediaSeek", "seek"], function(e4) {
              t3.__resetMelodyLeaveTrap__(), t3.__resetMelodyEnterTrap__();
            }), function e4() {
              t3.mapTrapsHasNotData(["melodyEnter", "melodyLeave"]).forEach(function(e5) {
                return e5.data = new o.default(t3.player);
              }), setTimeout(function() {
                t3.player.isPlaying && (t3.__runMelodyLeaveTrap__(), t3.__runMelodyEnterTrap__()), e4();
              }, t3.pollingInterval);
            }();
          } }, { key: "mediaDidMount", value: (a2 = i.a.mark(function e3(t3) {
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  return c(d(y.prototype), "mediaDidMount", this).call(this, t3), e4.next = 3, t3.media.loadMelody();
                case 3:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          }), p2 = function() {
            var e3 = this, t3 = arguments;
            return new Promise(function(n3, r3) {
              var i2 = a2.apply(e3, t3);
              function o2(e4) {
                u(i2, n3, r3, o2, s2, "next", e4);
              }
              function s2(e4) {
                u(i2, n3, r3, o2, s2, "throw", e4);
              }
              o2(void 0);
            });
          }, function(e3) {
            return p2.apply(this, arguments);
          }) }, { key: "__resetMelodyEnterTrap__", value: function() {
            this.mapTrapsHasAnyData("melodyEnter").forEach(function(e3) {
              return e3.data.reset();
            });
          } }, { key: "__resetMelodyLeaveTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("melodyLeave").forEach(function(t3) {
              return t3.data.reset({ leave: function(n3) {
                return e3.__invokeTrap__(t3, n3);
              } });
            });
          } }, { key: "__runMelodyEnterTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("melodyEnter").forEach(function(t3) {
              return t3.data.find({ enter: function(n3) {
                return e3.__invokeTrap__(t3, n3);
              } }, { offset: t3.options.offset + e3.offset });
            });
          } }, { key: "__runMelodyLeaveTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("melodyLeave").forEach(function(t3) {
              return t3.data.find({ leave: function(n3) {
                return e3.__invokeTrap__(t3, n3);
              } }, { offset: t3.options.offset + e3.offset });
            });
          } }, { key: "dispatcherName", get: function() {
            return y.Name;
          } }], r2 = [{ key: "Name", get: function() {
            return "sw-plugin-melody";
          } }, { key: "MelodyEnterTrapName", get: function() {
            return "melodyEnter";
          } }, { key: "MelodyLeaveTrapName", get: function() {
            return "melodyLeave";
          } }], n2 && l(t2.prototype, n2), r2 && l(t2, r2), y;
        }(a.default);
        t.default = h;
      }, 5: function(e, t, n) {
        "use strict";
        function r(e2, t2) {
          var n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          return new Promise(function(r2, i2) {
            var a2 = null != n2.method ? n2.method : "GET", o2 = null != n2.responseType ? n2.responseType : "", u = new XMLHttpRequest();
            switch (u.addEventListener("abort", function(e3) {
              i2(u);
            }, false), u.addEventListener("error", function(e3) {
              i2(u);
            }, false), u.addEventListener("load", function(e3) {
              r2(u);
            }, false), u.open(a2, e2, true), u.responseType = o2, a2) {
              case "GET":
                u.send();
                break;
              default:
                u.setRequestHeader("Content-Type", "application/json"), u.send(JSON.stringify(t2));
            }
          });
        }
        function i(e2, t2) {
          var n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          return new Promise(function(i2, o2) {
            r(e2, t2, { method: n2.method, responseType: n2.responseType }).then(function(e3) {
              var t3 = a(e3);
              i2(t3);
            }, function(e3) {
              var t3 = a(e3);
              o2(t3);
            });
          });
        }
        function a(e2) {
          var t2 = e2.responseText || e2.response || "null";
          return JSON.parse(t2);
        }
        n.r(t);
        var o = { ajax: r, ajaxJSON: i, getJSON: function(e2) {
          var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          return t2.method = "GET", i(e2, null, t2);
        }, postJSON: function(e2, t2) {
          var n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          return n2.method = "POST", i(e2, t2, n2);
        }, putJSON: function(e2, t2) {
          var n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          return n2.method = "PUT", i(e2, t2, n2);
        }, deleteJSON: function(e2, t2) {
          var n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          return n2.method = "DELETE", i(e2, t2, n2);
        } };
        t.default = o;
      }, 50: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(4), i = n.n(r), a = n(15), o = n(44), u = n(14);
        n(2), n(12);
        function s(e2, t2, n2, r2, i2, a2, o2) {
          try {
            var u2 = e2[a2](o2), s2 = u2.value;
          } catch (l2) {
            return void n2(l2);
          }
          u2.done ? t2(s2) : Promise.resolve(s2).then(r2, i2);
        }
        function l(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function c(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function f(e2, t2, n2) {
          return (f = "undefined" !== typeof Reflect && Reflect.get ? Reflect.get : function(e3, t3, n3) {
            var r2 = function(e4, t4) {
              for (; !Object.prototype.hasOwnProperty.call(e4, t4) && null !== (e4 = h(e4)); ) ;
              return e4;
            }(e3, t3);
            if (r2) {
              var i2 = Object.getOwnPropertyDescriptor(r2, t3);
              return i2.get ? i2.get.call(n3) : i2.value;
            }
          })(e2, t2, n2 || e2);
        }
        function _(e2, t2) {
          return (_ = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function p(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = h(e2);
            if (t2) {
              var i2 = h(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return d(this, n2);
          };
        }
        function d(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function h(e2) {
          return (h = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var y = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && _(e3, t3);
          }(v, e2);
          var t2, n2, r2, a2, d2, y2 = p(v);
          function v() {
            return l(this, v), y2.apply(this, arguments);
          }
          return t2 = v, n2 = [{ key: "initialize", value: function(e3) {
            var t3 = this;
            f(h(v.prototype), "initialize", this).call(this, e3), e3.seekToPrevChorusSection = function() {
              var t4 = u.default.findPrevRepeatedSectionItem(e3, { chorusOnly: true });
              t4 && e3.seekTo(t4.start);
            }, e3.seekToPrevChorusSectionItem = e3.seekToPrevChorusSection, e3.seekToNextChorusSection = function() {
              var t4 = u.default.findNextRepeatedSectionItem(e3, { chorusOnly: true });
              t4 && e3.seekTo(t4.start);
            }, e3.seekToNextChorusSectionItem = e3.seekToNextChorusSection, e3.seekToPrevRepeatedSection = function() {
              var t4 = u.default.findPrevRepeatedSectionItem(e3);
              t4 && e3.seekTo(t4.start);
            }, e3.seekToPrevRepeatedSectionItem = e3.seekToPrevRepeatedSection, e3.seekToNextRepeatedSection = function() {
              var t4 = u.default.findNextRepeatedSectionItem(e3);
              t4 && e3.seekTo(t4.start);
            }, e3.seekToNextRepeatedSectionItem = e3.seekToNextRepeatedSection, this.on(["play", "pause", "mediaSeek", "seek"], function(e4) {
              t3.__resetChorusSectionLeaveTrap__(), t3.__resetChorusSectionEnterTrap__(), t3.__resetRepeatedSectionLeaveTrap__(), t3.__resetRepeatedSectionEnterTrap__();
            }), function e4() {
              t3.mapTrapsHasNotData(["chorusSectionEnter", "chorusSectionLeave", "repeatedSectionEnter", "repeatedSectionLeave"]).forEach(function(e5) {
                return e5.data = new o.default(t3.player);
              }), setTimeout(function() {
                t3.player.isPlaying && (t3.__runChorusSectionLeaveTrap__(), t3.__runChorusSectionEnterTrap__(), t3.__runRepeatedSectionLeaveTrap__(), t3.__runRepeatedSectionEnterTrap__()), e4();
              }, t3.pollingInterval);
            }();
          } }, { key: "mediaDidMount", value: (a2 = i.a.mark(function e3(t3) {
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  return f(h(v.prototype), "mediaDidMount", this).call(this, t3), e4.next = 3, t3.media.loadChorus();
                case 3:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          }), d2 = function() {
            var e3 = this, t3 = arguments;
            return new Promise(function(n3, r3) {
              var i2 = a2.apply(e3, t3);
              function o2(e4) {
                s(i2, n3, r3, o2, u2, "next", e4);
              }
              function u2(e4) {
                s(i2, n3, r3, o2, u2, "throw", e4);
              }
              o2(void 0);
            });
          }, function(e3) {
            return d2.apply(this, arguments);
          }) }, { key: "__resetChorusSectionEnterTrap__", value: function() {
            this.mapTrapsHasAnyData("chorusSectionEnter").forEach(function(e3) {
              return e3.data.reset();
            });
          } }, { key: "__resetChorusSectionLeaveTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("chorusSectionLeave").forEach(function(t3) {
              return t3.data.reset({ leave: function(n3) {
                n3.section.isChorus && e3.__invokeTrap__(t3, n3);
              } });
            });
          } }, { key: "__resetRepeatedSectionEnterTrap__", value: function() {
            this.mapTrapsHasAnyData("repeatedSectionEnter").forEach(function(e3) {
              return e3.data.reset();
            });
          } }, { key: "__resetRepeatedSectionLeaveTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("repeatedSectionLeave").forEach(function(t3) {
              return t3.data.reset({ leave: function(n3) {
                return e3.__invokeTrap__(t3, n3);
              } });
            });
          } }, { key: "__runChorusSectionEnterTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("chorusSectionEnter").forEach(function(t3) {
              return t3.data.find({ enter: function(n3) {
                n3.section.isChorus && e3.__invokeTrap__(t3, n3);
              } }, { offset: t3.options.offset + e3.offset });
            });
          } }, { key: "__runChorusSectionLeaveTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("chorusSectionLeave").forEach(function(t3) {
              return t3.data.find({ leave: function(n3) {
                n3.section.isChorus && e3.__invokeTrap__(t3, n3);
              } }, { offset: t3.options.offset + e3.offset });
            });
          } }, { key: "__runRepeatedSectionEnterTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("repeatedSectionEnter").forEach(function(t3) {
              return t3.data.find({ enter: function(n3) {
                return e3.__invokeTrap__(t3, n3);
              } }, { offset: t3.options.offset + e3.offset });
            });
          } }, { key: "__runRepeatedSectionLeaveTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("repeatedSectionLeave").forEach(function(t3) {
              return t3.data.find({ leave: function(n3) {
                return e3.__invokeTrap__(t3, n3);
              } }, { offset: t3.options.offset + e3.offset });
            });
          } }, { key: "dispatcherName", get: function() {
            return v.Name;
          } }], r2 = [{ key: "Name", get: function() {
            return "sw-plugin-chorus";
          } }, { key: "ChorusSectionEnterTrapName", get: function() {
            return "chorusSectionEnter";
          } }, { key: "ChorusSectionLeaveTrapName", get: function() {
            return "chorusSectionLeave";
          } }, { key: "RepeatedSectionEnterTrapName", get: function() {
            return "repeatedSectionEnter";
          } }, { key: "RepeatedSectionLeaveTrapName", get: function() {
            return "repeatedSectionLeave";
          } }], n2 && c(t2.prototype, n2), r2 && c(t2, r2), v;
        }(a.default);
        t.default = y;
      }, 51: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(4), i = n.n(r), a = n(15), o = n(45);
        n(14), n(2), n(12);
        function u(e2, t2, n2, r2, i2, a2, o2) {
          try {
            var u2 = e2[a2](o2), s2 = u2.value;
          } catch (l2) {
            return void n2(l2);
          }
          u2.done ? t2(s2) : Promise.resolve(s2).then(r2, i2);
        }
        function s(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function l(e2, t2, n2) {
          return (l = "undefined" !== typeof Reflect && Reflect.get ? Reflect.get : function(e3, t3, n3) {
            var r2 = function(e4, t4) {
              for (; !Object.prototype.hasOwnProperty.call(e4, t4) && null !== (e4 = h(e4)); ) ;
              return e4;
            }(e3, t3);
            if (r2) {
              var i2 = Object.getOwnPropertyDescriptor(r2, t3);
              return i2.get ? i2.get.call(n3) : i2.value;
            }
          })(e2, t2, n2 || e2);
        }
        function c(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function f(e2, t2, n2) {
          return t2 && c(e2.prototype, t2), n2 && c(e2, n2), e2;
        }
        function _(e2, t2) {
          return (_ = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function p(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = h(e2);
            if (t2) {
              var i2 = h(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return d(this, n2);
          };
        }
        function d(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function h(e2) {
          return (h = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var y = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && _(e3, t3);
          }(a2, e2);
          var t2, n2, r2 = p(a2);
          function a2() {
            var e3, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return s(this, a2), (e3 = r2.call(this, t3)).__groupCount__ = null != t3.groupCount ? t3.groupCount : 2, e3.__groupCount__ < 2 && (e3.__groupCount__ = 2), e3.__groupCount__ > 10 && (e3.__groupCount__ = 10), e3;
          }
          return f(a2, null, [{ key: "Name", get: function() {
            return "sw-plugin-variation";
          } }, { key: "MinGroupCount", get: function() {
            return 2;
          } }, { key: "MaxGroupCount", get: function() {
            return 10;
          } }, { key: "VariationEnterTrapName", get: function() {
            return "variationEnter";
          } }, { key: "VariationLeaveTrapName", get: function() {
            return "variationLeave";
          } }]), f(a2, [{ key: "initialize", value: function(e3) {
            var t3 = this;
            l(h(a2.prototype), "initialize", this).call(this, e3), this.on(["play", "pause", "mediaSeek", "seek"], function(e4) {
              t3.__resetVariationLeaveTrap__(), t3.__resetVariationEnterTrap__();
            });
            !function e4() {
              t3.mapTrapsHasNotData(["variationEnter", "variationLeave"]).forEach(function(e5) {
                return e5.data = new o.default(t3.player);
              }), setTimeout(function() {
                t3.player.isPlaying && (t3.__runVariationLeaveTrap__(), t3.__runVariationEnterTrap__()), e4();
              }, t3.pollingInterval);
            }();
          } }, { key: "mediaDidMount", value: (t2 = i.a.mark(function e3(t3) {
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  return l(h(a2.prototype), "mediaDidMount", this).call(this, t3), e4.next = 3, t3.media.loadVariation();
                case 3:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          }), n2 = function() {
            var e3 = this, n3 = arguments;
            return new Promise(function(r3, i2) {
              var a3 = t2.apply(e3, n3);
              function o2(e4) {
                u(a3, r3, i2, o2, s2, "next", e4);
              }
              function s2(e4) {
                u(a3, r3, i2, o2, s2, "throw", e4);
              }
              o2(void 0);
            });
          }, function(e3) {
            return n2.apply(this, arguments);
          }) }, { key: "__resetVariationEnterTrap__", value: function() {
            this.mapTrapsHasAnyData("variationEnter").forEach(function(e3) {
              return e3.data.reset();
            });
          } }, { key: "__resetVariationLeaveTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("variationLeave").forEach(function(t3) {
              return t3.data.reset({ leave: function(n3) {
                return e3.__invokeTrap__(t3, n3);
              } });
            });
          } }, { key: "__runVariationEnterTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("variationEnter").forEach(function(t3) {
              return t3.data.find({ enter: function(n3) {
                return e3.__invokeTrap__(t3, n3);
              } }, { offset: t3.options.offset + e3.offset });
            });
          } }, { key: "__runVariationLeaveTrap__", value: function() {
            var e3 = this;
            this.mapTrapsHasAnyData("variationLeave").forEach(function(t3) {
              return t3.data.find({ leave: function(n3) {
                return e3.__invokeTrap__(t3, n3);
              } }, { offset: t3.options.offset + e3.offset });
            });
          } }, { key: "dispatcherName", get: function() {
            return a2.Name;
          } }]), a2;
        }(a.default);
        t.default = y;
      }, 52: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(5), i = n(1);
        var a = { getClock: function(e2) {
          return new Promise(function(t2, n2) {
            var a2 = e2.accessToken, o = [];
            o.push("syntax=camelcase"), r.default.getJSON("".concat(i.default.defaultAppServerEndpoint, "/api/v2/stages/").concat(a2, "/clock.json?").concat(o.join("&"))).then(function(e3) {
              var r2 = e3.meta, i2 = e3.data;
              return 200 != r2.status ? n2(e3) : t2(i2.attributes.time);
            }, function(e3) {
              return n2(e3);
            });
          });
        } };
        t.default = a;
      }, 53: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(5), i = n(1);
        var a = { createHistory: function(e2) {
          return new Promise(function(t2, n2) {
            var a2 = {};
            a2.stage_id = e2.stageId, a2.node_id = e2.nodeId, a2.is_master = e2.isMaster, a2.is_slave = e2.isSalve, a2.referer = i.default.referer, a2.user_agent = i.default.userAgent, r.default.postJSON("".concat(i.default.defaultLogServerEndpoint, "/songle-api.stage-logs"), a2).then(function(e3) {
              return t2(e3);
            }, function(e3) {
              return n2(e3);
            });
          });
        } };
        t.default = a;
      }, 54: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(5), i = n(1);
        var a = { getMessage: function(e2) {
          return new Promise(function(t2, n2) {
            var a2 = e2.accessToken, o = [];
            o.push("syntax=camelcase"), r.default.getJSON("".concat(i.default.defaultAppServerEndpoint, "/api/v2/stages/").concat(a2, "/message.json?").concat(o.join("&"))).then(function(e3) {
              var r2 = e3.meta, i2 = e3.data;
              return 200 != r2.status ? n2(e3) : t2(i2);
            }, function(e3) {
              return n2(e3);
            });
          });
        }, updateMessage: function(e2, t2) {
          return new Promise(function(n2, a2) {
            var o = e2.accessToken, u = e2.secretToken, s = { syntax: "camelcase" };
            s.access_token = o, s.secret_token = u, s.data = t2, r.default.putJSON("".concat(i.default.defaultAppServerEndpoint, "/api/v2/stages/").concat(o, "/message.json"), s).then(function(e3) {
              var t3 = e3.meta, r2 = e3.data;
              return 200 != t3.status ? a2(e3) : n2(r2);
            }, function(e3) {
              return a2(e3);
            });
          });
        } };
        t.default = a;
      }, 55: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(5), i = n(1);
        function a(e2) {
          var t2 = e2.map(function(e3) {
            var t3 = e3.attributes;
            return Object.defineProperties(t3, { relativeStartTime: { get: function() {
              return e3.attributes.relativeStartTimeMs;
            } }, relativeEndTime: { get: function() {
              return e3.attributes.relativeEndTimeMs;
            } }, durationTime: { get: function() {
              return e3.attributes.durationTimeMs;
            } }, startTime: { get: function() {
              return e3.attributes.relativeStartTimeMs;
            } }, endTime: { get: function() {
              return e3.attributes.relativeEndTimeMs;
            } }, mediaRelativeStartTime: { get: function() {
              return e3.attributes.mediaRelativeStartTimeMs;
            } }, mediaRelativeEndTime: { get: function() {
              return e3.attributes.mediaRelativeEndTimeMs;
            } }, mediaDurationTime: { get: function() {
              return e3.attributes.mediaDurationTimeMs;
            } }, mediaStartTime: { get: function() {
              return e3.attributes.relativeStartTimeMs + e3.attributes.mediaRelativeStartTimeMs;
            } }, mediaEndTime: { get: function() {
              return e3.attributes.relativeEndTimeMs + e3.attributes.mediaRelativeEndTimeMs;
            } } }), t3;
          });
          return t2.forEach(function(e3, n2) {
            Object.defineProperties(e3, { prev: { get: function() {
              return t2[n2 - 1] || null;
            } }, next: { get: function() {
              return t2[n2 + 1] || null;
            } } });
          }), t2.sort(function(e3, t3) {
            return e3.index - t3.index;
          });
        }
        var o = { getPlaylist: function(e2) {
          return new Promise(function(t2, n2) {
            var o2 = e2.accessToken, u = [];
            u.push("syntax=camelcase"), r.default.getJSON("".concat(i.default.defaultAppServerEndpoint, "/api/v2/stages/").concat(o2, "/playlist.json?").concat(u.join("&"))).then(function(e3) {
              var r2 = e3.meta, i2 = e3.data;
              return 200 != r2.status ? n2(e3) : t2(a(i2));
            }, function(e3) {
              return n2(e3);
            });
          });
        }, createPlaylist: function(e2, t2) {
          return new Promise(function(n2, o2) {
            var u = e2.accessToken, s = e2.secretToken, l = { syntax: "camelcase" };
            l.access_token = u, l.secret_token = s, l.items = t2, r.default.postJSON("".concat(i.default.defaultAppServerEndpoint, "/api/v2/stages/").concat(u, "/playlist.json"), l).then(function(e3) {
              var t3 = e3.meta, r2 = e3.data;
              return 200 != t3.status ? o2(e3) : n2(a(r2));
            }, function(e3) {
              return o2(e3);
            });
          });
        }, deletePlaylist: function(e2) {
          return new Promise(function(t2, n2) {
            var o2 = e2.accessToken, u = e2.secretToken, s = { syntax: "camelcase" };
            s.access_token = o2, s.secret_token = u, r.default.deleteJSON("".concat(i.default.defaultAppServerEndpoint, "/api/v2/stages/").concat(o2, "/playlist.json"), s).then(function(e3) {
              var r2 = e3.meta, i2 = e3.data;
              return 200 != r2.status ? n2(e3) : t2(a(i2));
            }, function(e3) {
              return n2(e3);
            });
          });
        } };
        t.default = o;
      }, 56: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(5), i = n(1);
        var a = { getStage: function(e2) {
          var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          return new Promise(function(n2, a2) {
            var o = e2.accessToken, u = null != t2.nodeTimeoutSec ? t2.nodeTimeoutSec : e2.nodeTimeoutSec, s = [];
            s.push("syntax=camelcase"), null != u && s.push("node_timeout_sec=" + u), r.default.getJSON("".concat(i.default.defaultAppServerEndpoint, "/api/v2/stages/").concat(o, ".json?").concat(s.join("&"))).then(function(e3) {
              var t3 = e3.meta, r2 = e3.data;
              return 200 != t3.status ? a2(e3) : n2(r2);
            }, function(e3) {
              return a2(e3);
            });
          });
        }, updateStage: function(e2) {
          var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          return new Promise(function(n2, a2) {
            var o = e2.accessToken, u = e2.secretToken, s = null != t2.absoluteStartTime ? t2.absoluteStartTime : null, l = null != t2.absolutePauseTime ? t2.absolutePauseTime : null, c = null != t2.stateId ? t2.stateId : null, f = null != t2.nodeTimeoutSec ? t2.nodeTimeoutSec : e2.nodeTimeoutSec, _ = { syntax: "camelcase" };
            _.access_token = o, _.secret_token = u, null != s && (_.absolute_start_time_ms = s), null != l && (_.absolute_pause_time_ms = l), null != c && (_.state_id = c), null != f && (_.node_timeout_sec = f), r.default.putJSON("".concat(i.default.defaultAppServerEndpoint, "/api/v2/stages/").concat(o, ".json"), _).then(function(e3) {
              var t3 = e3.meta, r2 = e3.data;
              return 200 != t3.status ? a2(e3) : n2(r2);
            }, function(e3) {
              return a2(e3);
            });
          });
        } };
        t.default = a;
      }, 57: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(4), i = n.n(r), a = n(6);
        function o(e2, t2, n2, r2, i2, a2, o2) {
          try {
            var u2 = e2[a2](o2), s2 = u2.value;
          } catch (l2) {
            return void n2(l2);
          }
          u2.done ? t2(s2) : Promise.resolve(s2).then(r2, i2);
        }
        function u(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function s(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function l(e2, t2, n2) {
          return (l = "undefined" !== typeof Reflect && Reflect.get ? Reflect.get : function(e3, t3, n3) {
            var r2 = function(e4, t4) {
              for (; !Object.prototype.hasOwnProperty.call(e4, t4) && null !== (e4 = p(e4)); ) ;
              return e4;
            }(e3, t3);
            if (r2) {
              var i2 = Object.getOwnPropertyDescriptor(r2, t3);
              return i2.get ? i2.get.call(n3) : i2.value;
            }
          })(e2, t2, n2 || e2);
        }
        function c(e2, t2) {
          return (c = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function f(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = p(e2);
            if (t2) {
              var i2 = p(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return _(this, n2);
          };
        }
        function _(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function p(e2) {
          return (p = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var d = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && c(e3, t3);
          }(y, e2);
          var t2, n2, r2, _2, d2, h = f(y);
          function y() {
            return u(this, y), h.apply(this, arguments);
          }
          return t2 = y, n2 = [{ key: "initialize", value: (_2 = i.a.mark(function e3(t3) {
            var n3 = this;
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  if (null == this.player) {
                    e4.next = 2;
                    break;
                  }
                  return e4.abrupt("return");
                case 2:
                  return e4.next = 4, l(p(y.prototype), "initialize", this).call(this, t3);
                case 4:
                  this.originalPlayer.addEventListener("statusChange", function(e5) {
                    switch (n3.__invokeMediaStateChangeTrap__(n3, a.default.StateTimeUpdate), e5.playerStatus << 4 | e5.seekStatus << 0) {
                      case 32:
                        n3.__invokeMediaStateChangeTrap__(n3, a.default.StatePlaying);
                        break;
                      case 48:
                        if (n3.isSeeking) return;
                        n3.__invokeMediaStateChangeTrap__(n3, a.default.StatePaused);
                        break;
                      case 50:
                        n3.__invokeMediaStateChangeTrap__(n3, a.default.StateSeeking);
                        break;
                      case 64:
                        n3.__invokeMediaStateChangeTrap__(n3, a.default.StateFinished);
                    }
                  });
                case 5:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          }), d2 = function() {
            var e3 = this, t3 = arguments;
            return new Promise(function(n3, r3) {
              var i2 = _2.apply(e3, t3);
              function a2(e4) {
                o(i2, n3, r3, a2, u2, "next", e4);
              }
              function u2(e4) {
                o(i2, n3, r3, a2, u2, "throw", e4);
              }
              a2(void 0);
            });
          }, function(e3) {
            return d2.apply(this, arguments);
          }) }, { key: "dispose", value: function() {
            l(p(y.prototype), "dispose", this).call(this), this.originalPlayer.dispose();
          } }, { key: "activate", value: function() {
            var e3 = this;
            return new Promise(function(t3, n3) {
              e3.__play__(), setTimeout(function() {
                return e3.__seekTo__(0), e3.__pause__(), t3();
              }, 500);
            });
          } }, { key: "play", value: function() {
            this.isPlaying || this.__play__();
          } }, { key: "pause", value: function() {
            this.isPaused || this.__pause__();
          } }, { key: "stop", value: function() {
            this.__seekTo__(0), this.__pause__();
          } }, { key: "seekTo", value: function(e3) {
            l(p(y.prototype), "seekTo", this).call(this, e3), this.__seekTo__(e3);
          } }, { key: "__play__", value: function() {
            this.originalPlayer.play();
          } }, { key: "__pause__", value: function() {
            this.originalPlayer.pause();
          } }, { key: "__seekTo__", value: function(e3) {
            this.originalPlayer.currentTime(e3);
          } }, { key: "dispatcherName", get: function() {
            return y.Name;
          } }, { key: "originalPositionTime", get: function() {
            return this.originalPlayer.currentTime() || 0;
          } }, { key: "muted", get: function() {
            return this.originalPlayer.muted();
          }, set: function(e3) {
            this.originalPlayer.muted(!!e3);
          } }, { key: "volume", get: function() {
            return 100 * this.originalPlayer.volume();
          }, set: function(e3) {
            var t3 = e3 / 100;
            return t3 < 0 ? this.originalPlayer.volume(0) : t3 > 1 ? this.originalPlayer.volume(1) : void this.originalPlayer.volume(t3);
          } }], r2 = [{ key: "Name", get: function() {
            return "songle-api-nn-media";
          } }], n2 && s(t2.prototype, n2), r2 && s(t2, r2), y;
        }(a.default.SuperClass);
        t.default = d;
      }, 58: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(4), i = n.n(r), a = n(6);
        function o(e2, t2, n2, r2, i2, a2, o2) {
          try {
            var u2 = e2[a2](o2), s2 = u2.value;
          } catch (l2) {
            return void n2(l2);
          }
          u2.done ? t2(s2) : Promise.resolve(s2).then(r2, i2);
        }
        function u(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function s(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function l(e2, t2, n2) {
          return (l = "undefined" !== typeof Reflect && Reflect.get ? Reflect.get : function(e3, t3, n3) {
            var r2 = function(e4, t4) {
              for (; !Object.prototype.hasOwnProperty.call(e4, t4) && null !== (e4 = p(e4)); ) ;
              return e4;
            }(e3, t3);
            if (r2) {
              var i2 = Object.getOwnPropertyDescriptor(r2, t3);
              return i2.get ? i2.get.call(n3) : i2.value;
            }
          })(e2, t2, n2 || e2);
        }
        function c(e2, t2) {
          return (c = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function f(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = p(e2);
            if (t2) {
              var i2 = p(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return _(this, n2);
          };
        }
        function _(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function p(e2) {
          return (p = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var d = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && c(e3, t3);
          }(y, e2);
          var t2, n2, r2, _2, d2, h = f(y);
          function y() {
            return u(this, y), h.apply(this, arguments);
          }
          return t2 = y, n2 = [{ key: "initialize", value: (_2 = i.a.mark(function e3(t3) {
            var n3 = this;
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  if (null == this.player) {
                    e4.next = 2;
                    break;
                  }
                  return e4.abrupt("return");
                case 2:
                  return e4.next = 4, l(p(y.prototype), "initialize", this).call(this, t3);
                case 4:
                  this.originalPlayer.addEventListener("onStateChange", function(e5) {
                    switch (n3.__invokeMediaStateChangeTrap__(n3, a.default.StateTimeUpdate), e5.data) {
                      case 1:
                        n3.__invokeMediaStateChangeTrap__(n3, a.default.StatePlaying);
                        break;
                      case 2:
                        n3.__invokeMediaStateChangeTrap__(n3, a.default.StatePaused);
                        break;
                      case 3:
                        n3.__invokeMediaStateChangeTrap__(n3, a.default.StateSeeking);
                        break;
                      case 0:
                        n3.__invokeMediaStateChangeTrap__(n3, a.default.StateFinished);
                    }
                  });
                case 5:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          }), d2 = function() {
            var e3 = this, t3 = arguments;
            return new Promise(function(n3, r3) {
              var i2 = _2.apply(e3, t3);
              function a2(e4) {
                o(i2, n3, r3, a2, u2, "next", e4);
              }
              function u2(e4) {
                o(i2, n3, r3, a2, u2, "throw", e4);
              }
              a2(void 0);
            });
          }, function(e3) {
            return d2.apply(this, arguments);
          }) }, { key: "dispose", value: function() {
            l(p(y.prototype), "dispose", this).call(this), this.originalPlayer.destroy();
          } }, { key: "activate", value: function() {
            var e3 = this;
            return new Promise(function(t3, n3) {
              e3.__play__(), setTimeout(function() {
                return e3.__seekTo__(0), e3.__pause__(), t3();
              }, 500);
            });
          } }, { key: "play", value: function() {
            this.isPlaying || this.__play__();
          } }, { key: "pause", value: function() {
            this.isPaused || this.__pause__();
          } }, { key: "stop", value: function() {
            this.__seekTo__(0), this.__pause__();
          } }, { key: "seekTo", value: function(e3) {
            l(p(y.prototype), "seekTo", this).call(this, e3), this.__seekTo__(e3);
          } }, { key: "__play__", value: function() {
            this.originalPlayer.playVideo();
          } }, { key: "__pause__", value: function() {
            this.originalPlayer.pauseVideo();
          } }, { key: "__seekTo__", value: function(e3) {
            this.originalPlayer.seekTo(e3 / 1e3);
          } }, { key: "dispatcherName", get: function() {
            return y.Name;
          } }, { key: "originalPositionTime", get: function() {
            return 1e3 * this.originalPlayer.getCurrentTime();
          } }, { key: "muted", get: function() {
            return this.originalPlayer.isMuted();
          }, set: function(e3) {
            e3 ? this.originalPlayer.mute() : this.originalPlayer.unMute();
          } }, { key: "volume", get: function() {
            return this.originalPlayer.getVolume();
          }, set: function(e3) {
            var t3 = e3;
            return t3 < 0 ? this.originalPlayer.setVolume(0) : t3 > 100 ? this.originalPlayer.setVolume(100) : void this.originalPlayer.setVolume(t3);
          } }], r2 = [{ key: "Name", get: function() {
            return "songle-api-yt-media";
          } }], n2 && s(t2.prototype, n2), r2 && s(t2, r2), y;
        }(a.default.SuperClass);
        t.default = d;
      }, 59: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(4), i = n.n(r), a = n(6);
        function o(e2, t2, n2, r2, i2, a2, o2) {
          try {
            var u2 = e2[a2](o2), s2 = u2.value;
          } catch (l2) {
            return void n2(l2);
          }
          u2.done ? t2(s2) : Promise.resolve(s2).then(r2, i2);
        }
        function u(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function s(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function l(e2, t2, n2) {
          return (l = "undefined" !== typeof Reflect && Reflect.get ? Reflect.get : function(e3, t3, n3) {
            var r2 = function(e4, t4) {
              for (; !Object.prototype.hasOwnProperty.call(e4, t4) && null !== (e4 = p(e4)); ) ;
              return e4;
            }(e3, t3);
            if (r2) {
              var i2 = Object.getOwnPropertyDescriptor(r2, t3);
              return i2.get ? i2.get.call(n3) : i2.value;
            }
          })(e2, t2, n2 || e2);
        }
        function c(e2, t2) {
          return (c = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function f(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = p(e2);
            if (t2) {
              var i2 = p(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return _(this, n2);
          };
        }
        function _(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function p(e2) {
          return (p = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var d = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && c(e3, t3);
          }(y, e2);
          var t2, n2, r2, _2, d2, h = f(y);
          function y() {
            return u(this, y), h.apply(this, arguments);
          }
          return t2 = y, n2 = [{ key: "initialize", value: (_2 = i.a.mark(function e3(t3) {
            var n3 = this;
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  if (null == this.player) {
                    e4.next = 2;
                    break;
                  }
                  return e4.abrupt("return");
                case 2:
                  return e4.next = 4, l(p(y.prototype), "initialize", this).call(this, t3);
                case 4:
                  this.originalPlayer.addEventListener("play", function(e5) {
                    n3.__invokeMediaStateChangeTrap__(n3, a.default.StatePlaying);
                  }), this.originalPlayer.addEventListener("pause", function(e5) {
                    n3.__invokeMediaStateChangeTrap__(n3, a.default.StatePaused);
                  }), this.originalPlayer.addEventListener("seeking", function(e5) {
                    n3.__invokeMediaStateChangeTrap__(n3, a.default.StateSeeking);
                  }), this.originalPlayer.addEventListener("ended", function(e5) {
                    n3.__invokeMediaStateChangeTrap__(n3, a.default.StateFinished);
                  }), this.originalPlayer.addEventListener("timeupdate", function(e5) {
                    n3.__invokeMediaStateChangeTrap__(n3, a.default.StateTimeUpdate);
                  });
                case 9:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          }), d2 = function() {
            var e3 = this, t3 = arguments;
            return new Promise(function(n3, r3) {
              var i2 = _2.apply(e3, t3);
              function a2(e4) {
                o(i2, n3, r3, a2, u2, "next", e4);
              }
              function u2(e4) {
                o(i2, n3, r3, a2, u2, "throw", e4);
              }
              a2(void 0);
            });
          }, function(e3) {
            return d2.apply(this, arguments);
          }) }, { key: "dispose", value: function() {
            l(p(y.prototype), "dispose", this).call(this), this.originalPlayer.remove();
          } }, { key: "activate", value: function() {
            var e3 = this;
            return new Promise(function(t3, n3) {
              e3.__play__(), setTimeout(function() {
                return e3.__seekTo__(0), e3.__pause__(), t3();
              }, 500);
            });
          } }, { key: "play", value: function() {
            this.isPlaying || this.__play__();
          } }, { key: "pause", value: function() {
            this.isPaused || this.__pause__();
          } }, { key: "stop", value: function() {
            this.__seekTo__(0), this.__pause__();
          } }, { key: "seekTo", value: function(e3) {
            l(p(y.prototype), "seekTo", this).call(this, e3), this.__seekTo__(e3);
          } }, { key: "__play__", value: function() {
            this.originalPlayer.play();
          } }, { key: "__pause__", value: function() {
            this.originalPlayer.pause();
          } }, { key: "__seekTo__", value: function(e3) {
            this.originalPlayer.currentTime = e3 / 1e3;
          } }, { key: "dispatcherName", get: function() {
            return y.Name;
          } }, { key: "originalPositionTime", get: function() {
            return 1e3 * this.originalPlayer.currentTime;
          } }, { key: "muted", get: function() {
            return this.originalPlayer.muted;
          }, set: function(e3) {
            this.originalPlayer.muted = !!e3;
          } }, { key: "volume", get: function() {
            return 100 * this.originalPlayer.volume;
          }, set: function(e3) {
            var t3 = e3 / 100;
            return t3 < 0 ? this.originalPlayer.volume = 0 : t3 > 1 ? this.originalPlayer.volume = 1 : void (this.originalPlayer.volume = t3);
          } }], r2 = [{ key: "Name", get: function() {
            return "songle-api-html-media-element-media";
          } }], n2 && s(t2.prototype, n2), r2 && s(t2, r2), y;
        }(a.default.SuperClass);
        t.default = d;
      }, 6: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(4), i = n.n(r), a = n(19), o = n(47), u = n(48), s = n(49), l = n(50), c = n(51), f = n(2), _ = n(1), p = n(12);
        function d(e2, t2, n2, r2, i2, a2, o2) {
          try {
            var u2 = e2[a2](o2), s2 = u2.value;
          } catch (l2) {
            return void n2(l2);
          }
          u2.done ? t2(s2) : Promise.resolve(s2).then(r2, i2);
        }
        function h(e2) {
          return function() {
            var t2 = this, n2 = arguments;
            return new Promise(function(r2, i2) {
              var a2 = e2.apply(t2, n2);
              function o2(e3) {
                d(a2, r2, i2, o2, u2, "next", e3);
              }
              function u2(e3) {
                d(a2, r2, i2, o2, u2, "throw", e3);
              }
              o2(void 0);
            });
          };
        }
        function y(e2, t2, n2) {
          return (y = "undefined" !== typeof Reflect && Reflect.get ? Reflect.get : function(e3, t3, n3) {
            var r2 = function(e4, t4) {
              for (; !Object.prototype.hasOwnProperty.call(e4, t4) && null !== (e4 = T(e4)); ) ;
              return e4;
            }(e3, t3);
            if (r2) {
              var i2 = Object.getOwnPropertyDescriptor(r2, t3);
              return i2.get ? i2.get.call(n3) : i2.value;
            }
          })(e2, t2, n2 || e2);
        }
        function v(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function g(e2, t2, n2) {
          return t2 && v(e2.prototype, t2), n2 && v(e2, n2), e2;
        }
        function m(e2, t2) {
          return (m = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function b(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = T(e2);
            if (t2) {
              var i2 = T(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return k(this, n2);
          };
        }
        function k(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function T(e2) {
          return (T = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var S = { DefaultStateReady: false, DefaultStatePlaying: false, DefaultStatePaused: true, DefaultStateSeeking: false, StateReady: 0, StatePlaying: 1, StatePaused: 2, StateSeeking: 3, StateFinished: 4, StateTimeUpdate: 5, SuperClass: function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && m(e3, t3);
          }(P, e2);
          var t2, n2, r2, a2, d2, v2, k2, S2 = b(P);
          function P(e3, t3, n3) {
            var r3;
            return function(e4, t4) {
              if (!(e4 instanceof t4)) throw new TypeError("Cannot call a class as a function");
            }(this, P), (r3 = S2.call(this)).__stateIsReady__ = false, r3.__stateIsPlaying__ = false, r3.__stateIsPaused__ = true, r3.__stateIsSeeking__ = false, r3.__seekTimeHistories__ = [], r3.__adjustedTime__ = 0, r3.__positionTime__ = 0, r3.__musicMap__ = {}, r3.__element__ = e3, r3.__originalPlayer__ = t3, r3.__songleSong__ = n3, r3.__sourceUrl__ = "string" == _.default.typeOf(n3) ? n3 : n3.attributes.permalink, r3;
          }
          return g(P, null, [{ key: "Name", get: function() {
            return "media";
          } }, { key: "Type", get: function() {
            return "media";
          } }]), g(P, [{ key: "initialize", value: (k2 = h(i.a.mark(function e3(t3) {
            var n3, r3, a3, o2 = this;
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  if (null == this.player) {
                    e4.next = 2;
                    break;
                  }
                  return e4.abrupt("return");
                case 2:
                  return y(T(P.prototype), "initialize", this).call(this, t3), n3 = 0, r3 = 0, a3 = 0, this.on("mediaStateChange", function(e5) {
                    switch (e5.data.mediaStateId) {
                      case 1:
                        f.default.debug("Media state change to 'playing'"), r3 = _.default.currentClockTime, a3 = 0 == n3 ? 0 : r3 - n3, o2.__seekTimeHistories__.push(a3), o2.isMounted && o2.player.invokeTrap("mediaSeek", { target: e5.target, data: { positionTime: o2.originalPositionTime, seekTime: a3 } }), n3 = 0, r3 = 0, a3 = 0, o2.isMounted && o2.isPaused && o2.player.invokeTrap("mediaPlay", { target: e5.target }), o2.__setMediaState__(1);
                        break;
                      case 2:
                        f.default.debug("Media state change to 'paused'"), r3 = _.default.currentClockTime, a3 = 0 == n3 ? 0 : r3 - n3, o2.__seekTimeHistories__.push(a3), o2.isMounted && o2.player.invokeTrap("mediaSeek", { target: e5.target, data: { positionTime: o2.originalPositionTime, seekTime: a3 } }), n3 = 0, r3 = 0, a3 = 0, o2.isMounted && !o2.isPaused && o2.player.invokeTrap("mediaPause", { target: e5.target }), o2.__setMediaState__(2);
                        break;
                      case 3:
                        f.default.debug("Media state change to 'seeking'"), n3 = _.default.currentClockTime, o2.__setMediaState__(3);
                        break;
                      case 4:
                        f.default.debug("Media state change to 'finished'"), o2.isMounted && o2.player.invokeTrap("mediaFinish", { target: e5.target }), o2.stop();
                        break;
                      case 5:
                        o2.__seekMediaTo__(o2.originalPositionTime);
                        break;
                      default:
                        f.default.error("Unknown media state (ID: ".concat(e5.data.mediaStateId, ")"));
                    }
                  }), this.on("mediaReady", function(e5) {
                    f.default.debug("Invoke 'mediaReady'", e5.data), o2.player.invokeTrap("ready", e5);
                  }), this.on("mediaPlay", function(e5) {
                    f.default.debug("Invoke 'mediaPlay'", e5.data), o2.player.invokeTrap("play", e5);
                  }), this.on("mediaPause", function(e5) {
                    f.default.debug("Invoke 'mediaPause'", e5.data), o2.player.invokeTrap("pause", e5);
                  }), this.on("mediaSeek", function(e5) {
                    f.default.debug("Invoke 'mediaSeek'", e5.data);
                  }), this.on("mediaFinish", function(e5) {
                    f.default.debug("Invoke 'mediaFinish'", e5.data), o2.player.invokeTrap("finish", e5);
                  }), this.on("seek", function(e5) {
                    f.default.debug("Invoke 'seek'", e5.data), o2.seekTo(e5.data.positionTime);
                  }), [{ source: "originalDurationTime", target: "originalDuration", warning: true }, { source: "originalPositionTime", target: "originalPosition", warning: true }, { source: "durationTime", target: "duration", warning: true }, { source: "positionTime", target: "position", warning: true }].forEach(function(e5) {
                    Object.defineProperty(o2, e5.target, { get: function() {
                      return e5.warning && f.default.warn("'Media.".concat(e5.target, "' is deprecated API, please use 'Media.").concat(e5.source, "'")), o2[e5.source];
                    } });
                  }), e4.next = 17, Promise.all([this.loadBeat(), this.loadChord(), this.loadMelody(), this.loadChorus(), this.loadVariation()]);
                case 17:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          })), function(e3) {
            return k2.apply(this, arguments);
          }) }, { key: "dispose", value: (v2 = h(i.a.mark(function e3() {
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  null != this.element && this.element.remove();
                case 1:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          })), function() {
            return v2.apply(this, arguments);
          }) }, { key: "loadBeat", value: (d2 = h(i.a.mark(function e3() {
            var t3, n3, r3 = arguments;
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  if (t3 = r3.length > 0 && void 0 !== r3[0] ? r3[0] : {}, this.player.hasPlugin(o.default.Name)) {
                    e4.next = 3;
                    break;
                  }
                  return e4.abrupt("return");
                case 3:
                  if (null == this.musicMap.beats) {
                    e4.next = 5;
                    break;
                  }
                  return e4.abrupt("return");
                case 5:
                  return e4.prev = 5, e4.next = 8, p.BeatAPI.get(this.sourceUrl, t3);
                case 8:
                  n3 = e4.sent, Object.defineProperties(this.__musicMap__, { beatRevisionId: { get: function() {
                    return n3.revisionId;
                  } }, beats: { get: function() {
                    return n3.data;
                  } } }), e4.next = 14;
                  break;
                case 12:
                  e4.prev = 12, e4.t0 = e4.catch(5);
                case 14:
                case "end":
                  return e4.stop();
              }
            }, e3, this, [[5, 12]]);
          })), function() {
            return d2.apply(this, arguments);
          }) }, { key: "loadChord", value: (a2 = h(i.a.mark(function e3() {
            var t3, n3, r3 = arguments;
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  if (t3 = r3.length > 0 && void 0 !== r3[0] ? r3[0] : {}, this.player.hasPlugin(u.default.Name)) {
                    e4.next = 3;
                    break;
                  }
                  return e4.abrupt("return");
                case 3:
                  if (null == this.musicMap.chords) {
                    e4.next = 5;
                    break;
                  }
                  return e4.abrupt("return");
                case 5:
                  return e4.prev = 5, e4.next = 8, p.ChordAPI.get(this.sourceUrl, t3);
                case 8:
                  n3 = e4.sent, Object.defineProperties(this.__musicMap__, { chordRevisionId: { get: function() {
                    return n3.revisionId;
                  } }, chords: { get: function() {
                    return n3.data;
                  } } }), e4.next = 14;
                  break;
                case 12:
                  e4.prev = 12, e4.t0 = e4.catch(5);
                case 14:
                case "end":
                  return e4.stop();
              }
            }, e3, this, [[5, 12]]);
          })), function() {
            return a2.apply(this, arguments);
          }) }, { key: "loadMelody", value: (r2 = h(i.a.mark(function e3() {
            var t3, n3, r3 = arguments;
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  if (t3 = r3.length > 0 && void 0 !== r3[0] ? r3[0] : {}, this.player.hasPlugin(s.default.Name)) {
                    e4.next = 3;
                    break;
                  }
                  return e4.abrupt("return");
                case 3:
                  if (null == this.musicMap.melodies) {
                    e4.next = 5;
                    break;
                  }
                  return e4.abrupt("return");
                case 5:
                  return e4.prev = 5, e4.next = 8, p.MelodyAPI.get(this.sourceUrl, t3);
                case 8:
                  n3 = e4.sent, Object.defineProperties(this.__musicMap__, { melodyRevisionId: { get: function() {
                    return n3.revisionId;
                  } }, melodies: { get: function() {
                    return n3.data;
                  } } }), e4.next = 14;
                  break;
                case 12:
                  e4.prev = 12, e4.t0 = e4.catch(5);
                case 14:
                case "end":
                  return e4.stop();
              }
            }, e3, this, [[5, 12]]);
          })), function() {
            return r2.apply(this, arguments);
          }) }, { key: "loadChorus", value: (n2 = h(i.a.mark(function e3() {
            var t3, n3, r3 = arguments;
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  if (t3 = r3.length > 0 && void 0 !== r3[0] ? r3[0] : {}, this.player.hasPlugin(l.default.Name)) {
                    e4.next = 3;
                    break;
                  }
                  return e4.abrupt("return");
                case 3:
                  if (null == this.musicMap.chorus) {
                    e4.next = 5;
                    break;
                  }
                  return e4.abrupt("return");
                case 5:
                  return e4.prev = 5, e4.next = 8, p.ChorusAPI.get(this.sourceUrl, t3);
                case 8:
                  n3 = e4.sent, Object.defineProperties(this.__musicMap__, { chorusRevisionId: { get: function() {
                    return n3.revisionId;
                  } }, chorus: { get: function() {
                    return n3.data;
                  } }, chorusSetcions: { get: function() {
                    return f.default.warn("'Player.musicMap.chorusSections' is deprecated API, please use 'Player.musicMap.chorus'"), n3.data.filter(function(e5) {
                      return e5.isChorus;
                    });
                  } }, repeatSections: { get: function() {
                    return f.default.warn("'Player.musicMap.repeatSections' is deprecated API, please use 'Player.musicMap.chorus'"), n3.data;
                  } } }), e4.next = 14;
                  break;
                case 12:
                  e4.prev = 12, e4.t0 = e4.catch(5);
                case 14:
                case "end":
                  return e4.stop();
              }
            }, e3, this, [[5, 12]]);
          })), function() {
            return n2.apply(this, arguments);
          }) }, { key: "loadVariation", value: (t2 = h(i.a.mark(function e3() {
            var t3, n3, r3 = arguments;
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  if (t3 = r3.length > 0 && void 0 !== r3[0] ? r3[0] : {}, this.player.hasPlugin(c.default.Name)) {
                    e4.next = 3;
                    break;
                  }
                  return e4.abrupt("return");
                case 3:
                  if (null == this.musicMap.variations) {
                    e4.next = 5;
                    break;
                  }
                  return e4.abrupt("return");
                case 5:
                  return e4.prev = 5, e4.next = 8, p.VariationAPI.get(this.sourceUrl, t3);
                case 8:
                  n3 = e4.sent, Object.defineProperties(this.__musicMap__, { variationRevisionId: { get: function() {
                    return n3.revisionId;
                  } }, variations: { get: function() {
                    return n3.data;
                  } } }), e4.next = 14;
                  break;
                case 12:
                  e4.prev = 12, e4.t0 = e4.catch(5);
                case 14:
                case "end":
                  return e4.stop();
              }
            }, e3, this, [[5, 12]]);
          })), function() {
            return t2.apply(this, arguments);
          }) }, { key: "activate", value: function() {
            var e3 = this;
            return new Promise(function(t3, n3) {
              return e3.__setMediaState__(2), t3();
            });
          } }, { key: "play", value: function() {
          } }, { key: "pause", value: function() {
          } }, { key: "stop", value: function() {
            this.seekTo(0), this.pause();
          } }, { key: "seekTo", value: function(e3) {
            this.__seekMediaTo__(e3);
          } }, { key: "showElement", value: function() {
            var e3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            if (null != this.element) {
              var t3 = null != e3.width ? e3.width : 256, n3 = null != e3.height ? e3.height : 144;
              this.element.style.position = "", this.element.style.opacity = 1, this.element.style.left = "", this.element.style.top = "", this.element.style.width = "number" === _.default.typeOf(t3) ? t3 + "px" : t3, this.element.style.height = "number" === _.default.typeOf(n3) ? n3 + "px" : n3;
            }
          } }, { key: "hideElement", value: function() {
            null != this.element && (this.element.style.position = "absolute", this.element.style.opacity = 0, this.element.style.left = "0px", this.element.style.top = "0px", this.element.style.width = "1px", this.element.style.height = "1px");
          } }, { key: "__seekMediaTo__", value: function(e3) {
            this.__adjustedTime__ = _.default.currentClockTime, this.__positionTime__ = e3;
          } }, { key: "__invokeMediaStateChangeTrap__", value: function(e3, t3) {
            this.isMounted ? this.player.invokeTrap("mediaStateChange", { target: e3, data: { mediaStateId: t3, positionTime: this.originalPositionTime } }) : this.invokeSelfTrap("mediaStateChange", { target: e3, data: { mediaStateId: t3, positionTime: this.originalPositionTime } });
          } }, { key: "__setMediaState__", value: function(e3) {
            switch (e3) {
              case 0:
                this.__stateIsReady__ = false, this.__stateIsPlaying__ = false, this.__stateIsPaused__ = true, this.__stateIsSeeking__ = false;
                break;
              case 1:
                this.__stateIsReady__ = true, this.__stateIsPlaying__ = true, this.__stateIsPaused__ = false, this.__stateIsSeeking__ = false;
                break;
              case 2:
                this.__stateIsReady__ = true, this.__stateIsPlaying__ = false, this.__stateIsPaused__ = true, this.__stateIsSeeking__ = false;
                break;
              case 3:
                this.__stateIsReady__ = true, this.__stateIsSeeking__ = true;
            }
          } }, { key: "dispatcherName", get: function() {
            return P.Name;
          } }, { key: "dispatcherType", get: function() {
            return P.Type;
          } }, { key: "element", get: function() {
            return this.__element__;
          } }, { key: "originalPlayer", get: function() {
            return this.__originalPlayer__;
          } }, { key: "sourceUrl", get: function() {
            return this.__sourceUrl__;
          } }, { key: "name", get: function() {
            return this.__songleSong__.attributes.name;
          } }, { key: "artistId", get: function() {
            return this.__songleSong__.relationships.artist.data.id;
          } }, { key: "artistName", get: function() {
            return this.__songleSong__.relationships.artist.data.attributes.name;
          } }, { key: "isMounted", get: function() {
            return this.player.media == this;
          } }, { key: "isReady", get: function() {
            return this.__stateIsReady__;
          } }, { key: "isPlaying", get: function() {
            return this.__stateIsPlaying__;
          } }, { key: "isPaused", get: function() {
            return this.__stateIsPaused__;
          } }, { key: "isSeeking", get: function() {
            return this.__stateIsSeeking__;
          } }, { key: "medianSeekTime", get: function() {
            var e3 = this.__seekTimeHistories__.sort(function(e4, t3) {
              return e4 - t3;
            });
            return Math.abs(e3[Math.floor(e3.length / 2)] || 0);
          } }, { key: "durationTime", get: function() {
            return this.__songleSong__.attributes.durationTimeMs;
          } }, { key: "originalDurationTime", get: function() {
            return this.durationTime;
          } }, { key: "positionTime", get: function() {
            var e3 = this.__positionTime__ + (this.isPlaying ? _.default.currentClockTime - this.__adjustedTime__ : 0);
            return e3 < 0 ? e3 : e3 > this.durationTime ? this.durationTime : e3;
          } }, { key: "originalPositionTime", get: function() {
            return this.positionTime;
          } }, { key: "loadedRatio", get: function() {
            return 0;
          } }, { key: "playedRatio", get: function() {
            return 0 == this.durationTime ? 0 : this.positionTime / this.durationTime;
          } }, { key: "muted", get: function() {
            return false;
          }, set: function(e3) {
          } }, { key: "volume", get: function() {
            return 0;
          }, set: function(e3) {
          } }, { key: "musicMap", get: function() {
            return this.__musicMap__;
          } }]), P;
        }(a.default) };
        t.default = S;
      }, 62: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(4), i = n.n(r), a = n(21), o = (n(32), n(59), n(57), n(58), n(69)), u = n(2), s = n(1), l = n(78), c = n.n(l), f = n(70), _ = n(71), p = n(72), d = n(73), h = n(74), y = n(20);
        function v(e2, t2, n2, r2, i2, a2, o2) {
          try {
            var u2 = e2[a2](o2), s2 = u2.value;
          } catch (l2) {
            return void n2(l2);
          }
          u2.done ? t2(s2) : Promise.resolve(s2).then(r2, i2);
        }
        function g(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function m(e2, t2, n2) {
          return (m = "undefined" !== typeof Reflect && Reflect.get ? Reflect.get : function(e3, t3, n3) {
            var r2 = function(e4, t4) {
              for (; !Object.prototype.hasOwnProperty.call(e4, t4) && null !== (e4 = O(e4)); ) ;
              return e4;
            }(e3, t3);
            if (r2) {
              var i2 = Object.getOwnPropertyDescriptor(r2, t3);
              return i2.get ? i2.get.call(n3) : i2.value;
            }
          })(e2, t2, n2 || e2);
        }
        function b(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function k(e2, t2, n2) {
          return t2 && b(e2.prototype, t2), n2 && b(e2, n2), e2;
        }
        function T(e2, t2) {
          return (T = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function S(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = O(e2);
            if (t2) {
              var i2 = O(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return P(this, n2);
          };
        }
        function P(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? w(e2) : t2;
        }
        function w(e2) {
          if (void 0 === e2) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          return e2;
        }
        function O(e2) {
          return (O = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var C = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && T(e3, t3);
          }(a2, e2);
          var t2, n2, r2 = S(a2);
          function a2() {
            var e3, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return g(this, a2), (e3 = r2.call(this)).__nodeTimeoutSec__ = 60, e3.__localAbsoluteClockJitterTime__ = 0, e3.__cachedCurrentPlaylistItem__ = null, e3.__autoUseMedia__ = null == t3.autoUseMedia || t3.autoUseMedia, e3.__autoUseMediaOptions__ = null != t3.autoUseMediaOptions ? t3.autoUseMediaOptions : null, e3.__clockWorker__ = new f.default(w(e3), { intervalTime: t3.clockWorkerIntervalTime }), e3.__stageWorker__ = new _.default(w(e3), { intervalTime: t3.stageWorkerIntervalTime }), e3.__stateWorker__ = new p.default(w(e3), { intervalTime: t3.stateWorkerIntervalTime }), e3.__mediaWorker__ = new d.default(w(e3), { intervalTime: t3.mediaWorkerIntervalTime }), e3.__historyWorker__ = new h.default(w(e3), { intervalTime: t3.historyWorkerIntervalTime }), e3;
          }
          return k(a2, null, [{ key: "Name", get: function() {
            return "songle-api-plugin-songle-sync";
          } }]), k(a2, [{ key: "initialize", value: function(e3) {
            var t3 = this;
            m(O(a2.prototype), "initialize", this).call(this, e3), Object.defineProperties(e3, { localAbsoluteClockTime: { get: function() {
              return t3.localAbsoluteClockTime;
            } }, localAbsoluteClockJitterTime: { get: function() {
              return t3.localAbsoluteClockJitterTime;
            }, set: function(e4) {
              return t3.localAbsoluteClockJitterTime = e4;
            } }, stageStateId: { get: function() {
              return t3.stageStateId;
            } }, stageActiveNodeCount: { get: function() {
              return t3.stageActiveNodeCount;
            } }, stageMasterNodeCount: { get: function() {
              return t3.stageMasterNodeCount;
            } }, stageIsStopped: { get: function() {
              return t3.stageIsStopped;
            } }, stageIsPlaying: { get: function() {
              return t3.stageIsPlaying;
            } }, stageIsPaused: { get: function() {
              return t3.stageIsPaused;
            } }, stageInitialAbsoluteStartTime: { get: function() {
              return t3.stageInitialAbsoluteStartTime;
            } }, stageAbsoluteStartTime: { get: function() {
              return t3.stageAbsoluteStartTime;
            } }, stageAbsolutePauseTime: { get: function() {
              return t3.stageAbsolutePauseTime;
            } }, nodeId: { get: function() {
              return t3.nodeId;
            } }, nodeTimeoutSec: { get: function() {
              return t3.nodeTimeoutSec;
            }, set: function(e4) {
              return t3.nodeTimeoutSec = e4;
            } }, isMaster: { get: function() {
              return t3.isMaster;
            } }, isSlave: { get: function() {
              return t3.isSlave;
            } }, message: { get: function() {
              return t3.message;
            } }, playlist: { get: function() {
              return t3.playlist;
            } } }), e3.play = function() {
              return t3.__play__();
            }, e3.pause = function() {
              return t3.__pause__();
            }, e3.stop = function() {
              return t3.__stop__();
            }, e3.seekTo = function(e4) {
              return t3.__seekTo__(e4);
            }, e3.seekPlaylistTo = function(e4) {
              return t3.__seekPlaylistTo__(e4);
            }, e3.seekPlaylistPositionTo = function(e4) {
              return t3.__seekPlaylistTo__(e4);
            }, e3.seekToPrevPlaylistItem = function() {
              return t3.__seekToPrevPlaylistItem__();
            }, e3.seekToNextPlaylistItem = function() {
              return t3.__seekToNextPlaylistItem__();
            }, e3.sync = function(e4) {
              return t3.__sync__(e4);
            }, e3.setPlaylist = function(e4) {
              return t3.__setPlaylist__(e4);
            }, e3.setMessage = function(e4) {
              return t3.__setMessage__(e4);
            }, this.on("songleSyncStageNodeChange", function(e4) {
              u.default.debug("Invoke '".concat(e4.type, "'"), e4.data);
            }), this.on("songleSyncStageNodeEnter", function(e4) {
              u.default.debug("Invoke '".concat(e4.type, "'"), e4.data);
            }), this.on("songleSyncStageNodeLeave", function(e4) {
              u.default.debug("Invoke '".concat(e4.type, "'"), e4.data);
            }), this.on("songleSyncStageStateChange", function(e4) {
              u.default.debug("Invoke '".concat(e4.type, "'"), e4.data), t3.stageIsStopped && (t3.stateWorker.resetState({ force: true }), t3.__defaultMediaChange__());
            }), this.on("songleSyncStageAbsoluteStartTimeUpdate", function(e4) {
              u.default.debug("Invoke '".concat(e4.type, "'"), e4.data), t3.stageIsPaused || t3.stateWorker.resetState();
            }), this.on("songleSyncStageAbsolutePauseTimeUpdate", function(e4) {
              u.default.debug("Invoke '".concat(e4.type, "'"), e4.data), t3.stageIsPaused || t3.stateWorker.resetState();
            }), this.on("songleSyncMessage", function(e4) {
              u.default.debug("Invoke '".concat(e4.type, "'"), e4.data);
            }), this.on("songleSyncPlaylistUpdate", function(e4) {
              u.default.debug("Invoke '".concat(e4.type, "'"), e4.data), t3.stateWorker.resetState({ force: true }), t3.__defaultMediaChange__();
            }), this.on("songleSyncPlaylistItemEnter", function(e4) {
              u.default.debug("Invoke '".concat(e4.type, "'"), e4.data), t3.__defaultMediaChange__();
            }), this.on("songleSyncPlaylistItemLeave", function(e4) {
              u.default.debug("Invoke '".concat(e4.type, "'"), e4.data);
            }), this.on("songleSyncPlaylistFinish", function(e4) {
              u.default.debug("Invoke '".concat(e4.type, "'"), e4.data), t3.__stop__(), t3.player.mediaCaches.forEach(function(e5) {
                e5.stop();
              });
            }), Promise.resolve().then(function() {
              return t3.clockWorker.runTask();
            }).then(function() {
              return t3.stageWorker.runTask();
            }).then(function() {
              return t3.stateWorker.runTask();
            }).then(function() {
              return t3.mediaWorker.runTask();
            }).then(function() {
              return t3.historyWorker.runTask();
            }).then(function() {
              t3.clockWorker.start(), t3.stageWorker.start(), t3.stateWorker.start(), t3.mediaWorker.start(), t3.historyWorker.start();
            });
          } }, { key: "mediaTryMount", value: function(e3, t3) {
            m(O(a2.prototype), "mediaTryMount", this).call(this, e3), this.isSlave || 0 == this.playlist.items.length && (u.default.warn("If you want to change a media on the Songle Sync, please use 'SongleAPI.Player#setPlaylist' instead of 'SongleAPI.Player#useMedia'"), this.__setPlaylist__(t3.newMediaSourceUrl));
          } }, { key: "__defaultMediaChange__", value: function() {
            var e3 = this;
            if (this.__autoUseMedia__) {
              var t3 = this.__getCurrentPlaylistItem__();
              if (!this.player.media || this.player.media.sourceUrl !== t3.mediaSourceUrl) {
                var n3;
                switch (true) {
                  case (null != t3 && null != t3.options && null != t3.options.useMedia):
                    n3 = t3.options.useMedia;
                    break;
                  case null != this.__autoUseMediaOptions__:
                    n3 = this.__autoUseMediaOptions__;
                    break;
                  default:
                    n3 = { headless: null == this.player.mediaElement };
                }
                this.player.useMedia(t3, n3).then(function() {
                  e3.player.mediaCaches.forEach(function(e4) {
                    e4.isMounted || e4.stop();
                  });
                });
              }
            }
          } }, { key: "__getPlaylistDurationTime__", value: function() {
            var e3 = 0;
            return ((e3 = this.stageWorker.__playlistDurationTime__) < 0 || isNaN(e3)) && (e3 = 0), e3;
          } }, { key: "__getPlaylistPositionTime__", value: function() {
            var e3 = 0;
            switch (this.stageStateId) {
              case 0:
                e3 = 0;
                break;
              case 1:
                e3 = this.localAbsoluteClockTime - this.stageAbsoluteStartTime;
                break;
              case 2:
                e3 = this.stageAbsolutePauseTime - this.stageAbsoluteStartTime;
            }
            return (e3 < 0 || isNaN(e3)) && (e3 = 0), e3 > this.stageWorker.__playlistDurationTime__ && (e3 = this.stageWorker.__playlistDurationTime__), e3;
          } }, { key: "__getCurrentPlaylistItem__", value: function() {
            var e3 = this.__getPlaylistPositionTime__(), t3 = this.__cachedCurrentPlaylistItem__;
            if (null != t3 && e3 >= t3.relativeStartTime && e3 < t3.relativeEndTime) return t3;
            for (var n3 = 0, r3 = this.stageWorker.__playlistItems__.length - 1; n3 <= r3; ) {
              var i2 = Math.floor((n3 + r3) / 2), a3 = this.stageWorker.__playlistItems__[i2];
              if (e3 >= a3.relativeStartTime && e3 < a3.relativeEndTime) {
                this.__cachedCurrentPlaylistItem__ = a3;
                break;
              }
              e3 >= a3.relativeEndTime ? n3 = i2 + 1 : r3 = i2 - 1;
            }
            return this.__cachedCurrentPlaylistItem__;
          } }, { key: "__getPlaylistMediaState__", value: function() {
            var e3 = this.__getCurrentPlaylistItem__();
            if (null == e3) return 0;
            if (this.localAbsoluteClockTime - this.stageAbsoluteStartTime < 0) return 0;
            var t3 = this.__getPlaylistPositionTime__();
            if (this.stageIsPlaying) {
              if (t3 >= e3.mediaStartTime && t3 < e3.mediaStartTime + e3.mediaDurationTime) return 1;
            } else if (this.stageIsPaused && t3 >= e3.mediaStartTime && t3 < e3.mediaStartTime + e3.mediaDurationTime) return 2;
            return 0;
          } }, { key: "__getPlaylistMediaIsStopped__", value: function() {
            return 0 == this.__getPlaylistMediaState__();
          } }, { key: "__getPlaylistMediaIsPlaying__", value: function() {
            return 1 == this.__getPlaylistMediaState__();
          } }, { key: "__getPlaylistMediaIsPaused__", value: function() {
            return 2 == this.__getPlaylistMediaState__();
          } }, { key: "__getPlaylistMediaDurationTime__", value: function() {
            var e3 = this.__getCurrentPlaylistItem__();
            if (null == e3) return 0;
            var t3 = e3.mediaDurationTime;
            return t3 < 0 && (t3 = 0), t3;
          } }, { key: "__getPlaylistMediaPositionTime__", value: function() {
            var e3 = this.__getCurrentPlaylistItem__();
            if (null == e3) return 0;
            var t3 = this.__getPlaylistPositionTime__() - e3.mediaStartTime;
            return t3 < 0 && (t3 = 0), t3 > this.__getPlaylistMediaDurationTime__() && (t3 = this.__getPlaylistMediaDurationTime__()), t3;
          } }, { key: "__setPlaylist__", value: function(e3) {
            switch (s.default.typeOf(e3)) {
              case "array":
                e3 = e3.map(function(e4) {
                  return "string" == s.default.typeOf(e4) ? { mediaSourceUrl: e4 } : e4;
                });
                break;
              case "object":
                e3 = [e3];
                break;
              case "string":
                e3 = [{ mediaSourceUrl: e3 }];
            }
            return y.PlaylistAPI.createPlaylist(this, e3);
          } }, { key: "__setMessage__", value: function(e3) {
            if (!this.isSlave) return y.MessageAPI.updateMessage(this, e3);
          } }, { key: "__play__", value: function() {
            this.__sync__({ stateId: 1 });
          } }, { key: "__pause__", value: function() {
            this.__sync__({ stateId: 2 });
          } }, { key: "__stop__", value: function() {
            this.__sync__({ stateId: 0 });
          } }, { key: "__seekTo__", value: function(e3) {
            var t3 = this.__getCurrentPlaylistItem__();
            null != t3 && this.__seekPlaylistTo__(t3.mediaStartTime + e3);
          } }, { key: "__seekPlaylistTo__", value: function(e3) {
            this.stageIsPlaying ? this.__sync__({ absoluteStartTime: this.localAbsoluteClockTime - e3 }) : this.__sync__({ stateId: 2, absoluteStartTime: this.localAbsoluteClockTime, absolutePauseTime: this.localAbsoluteClockTime + e3 });
          } }, { key: "__seekToPrevPlaylistItem__", value: function() {
            var e3 = this.__getCurrentPlaylistItem__();
            e3.prev && this.__seekPlaylistTo__(e3.prev.startTime);
          } }, { key: "__seekToNextPlaylistItem__", value: function() {
            var e3 = this.__getCurrentPlaylistItem__();
            e3.next && this.__seekPlaylistTo__(e3.next.startTime);
          } }, { key: "__sync__", value: (t2 = i.a.mark(function e3() {
            var t3, n3 = arguments;
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  if (t3 = n3.length > 0 && void 0 !== n3[0] ? n3[0] : {}, !this.isSlave) {
                    e4.next = 3;
                    break;
                  }
                  return e4.abrupt("return");
                case 3:
                  return e4.t0 = this.stageWorker, e4.next = 6, y.StageAPI.updateStage(this, t3);
                case 6:
                  return e4.t1 = e4.sent, e4.next = 9, e4.t0.update.call(e4.t0, e4.t1);
                case 9:
                  this.stateWorker.update(), this.mediaWorker.update();
                case 11:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          }), n2 = function() {
            var e3 = this, n3 = arguments;
            return new Promise(function(r3, i2) {
              var a3 = t2.apply(e3, n3);
              function o2(e4) {
                v(a3, r3, i2, o2, u2, "next", e4);
              }
              function u2(e4) {
                v(a3, r3, i2, o2, u2, "throw", e4);
              }
              o2(void 0);
            });
          }, function() {
            return n2.apply(this, arguments);
          }) }, { key: "dispatcherName", get: function() {
            return a2.Name;
          } }, { key: "clockWorker", get: function() {
            return this.__clockWorker__;
          } }, { key: "stageWorker", get: function() {
            return this.__stageWorker__;
          } }, { key: "stateWorker", get: function() {
            return this.__stateWorker__;
          } }, { key: "mediaWorker", get: function() {
            return this.__mediaWorker__;
          } }, { key: "historyWorker", get: function() {
            return this.__historyWorker__;
          } }, { key: "localAbsoluteClockTime", get: function() {
            return s.default.currentClockTime + this.clockWorker.networkJitterTime + this.localAbsoluteClockJitterTime;
          } }, { key: "localAbsoluteClockJitterTime", get: function() {
            return this.__localAbsoluteClockJitterTime__;
          }, set: function(e3) {
            var t3 = -this.__getPlaylistDurationTime__(), n3 = this.__getPlaylistDurationTime__();
            e3 < t3 && (u.default.warn("Couldn't set 'SongleAPI.Player#localAbsoluteClockJitterTime' less than ".concat(t3, " seconds")), e3 = t3), e3 > n3 && (u.default.warn("Couldn't set 'SongleAPI.Player#localAbsoluteClockJitterTime' more than ".concat(n3, " seconds")), e3 = n3), this.__localAbsoluteClockJitterTime__ = e3;
          } }, { key: "stageId", get: function() {
            return this.stageWorker.__stageId__;
          } }, { key: "stageActiveNodeCount", get: function() {
            return this.stageWorker.__activeNodeCount__;
          } }, { key: "stageMasterNodeCount", get: function() {
            return this.stageWorker.__masterNodeCount__;
          } }, { key: "stageStateId", get: function() {
            return this.stageWorker.__stateId__;
          } }, { key: "stageIsStopped", get: function() {
            return 0 == this.stageWorker.__stateId__;
          } }, { key: "stageIsPlaying", get: function() {
            return 1 == this.stageWorker.__stateId__;
          } }, { key: "stageIsPaused", get: function() {
            return 2 == this.stageWorker.__stateId__;
          } }, { key: "stageInitialAbsoluteStartTime", get: function() {
            return this.stageWorker.__initialAbsoluteStartTime__;
          } }, { key: "stageAbsoluteStartTime", get: function() {
            return this.stageWorker.__absoluteStartTime__;
          } }, { key: "stageAbsolutePauseTime", get: function() {
            return this.stageWorker.__absolutePauseTime__;
          } }, { key: "nodeId", get: function() {
            return o.default.fetch("".concat(a2.Name, ".nodeId"), c()());
          } }, { key: "nodeTimeoutSec", get: function() {
            return this.__nodeTimeoutSec__;
          }, set: function(e3) {
            30 > e3 && (u.default.warn("Couldn't set 'SongleAPI.Player#nodeTimeoutSec' less than ".concat(30, " seconds")), e3 = 30), 3600 < e3 && (u.default.warn("Couldn't set 'SongleAPI.Player#nodeTimeoutSec' more than ".concat(3600, " seconds")), e3 = 3600), this.__nodeTimeoutSec__ = e3;
          } }, { key: "accessToken", get: function() {
            return this.player.accessToken;
          } }, { key: "secretToken", get: function() {
            return this.player.secretToken;
          } }, { key: "isMaster", get: function() {
            return !s.default.stringIsBlank(this.secretToken);
          } }, { key: "isSlave", get: function() {
            return s.default.stringIsBlank(this.secretToken);
          } }, { key: "message", get: function() {
            return this.stageWorker.__message__;
          } }, { key: "playlist", get: function() {
            var e3 = this.__getPlaylistDurationTime__(), t3 = this.__getPlaylistMediaDurationTime__(), n3 = this.__getPlaylistPositionTime__(), r3 = this.__getPlaylistMediaPositionTime__(), i2 = this.__getCurrentPlaylistItem__(), a3 = this.stageWorker.__playlistItems__;
            return { absoluteStartTime: this.stageAbsoluteStartTime, mediaDurationTime: t3, durationTime: e3, mediaPositionTime: r3, positionTime: n3, currentItem: i2, items: a3 };
          } }]), a2;
        }(a.default);
        t.default = C;
      }, 66: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(1), i = n(67), a = (n(83), n(68)), o = n(32), u = n(57), s = n(58), l = n(59);
        function c(e2, t2) {
          var n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          return new Promise(function(r2, a2) {
            var o2 = n2.controls, u2 = t2.relationships.uri.data.attributes.sourceId;
            i.default.importClass().then(function(t3) {
              t3.create(e2, u2, { autoplay: false, defaultNoComment: true, noController: !o2, noHeader: true, noLinkToNiconico: true, noRelatedVideo: true, noShare: true, noTags: true, width: "100%", height: "100%", onError: function(e3) {
                return a2(e3);
              }, onSuccess: function(e3) {
                return r2(e3);
              } });
            }, function() {
              a2();
            });
          });
        }
        function f(e2, t2) {
          var n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          return new Promise(function(i2, o2) {
            var u2 = !!n2.controls, s2 = !!n2.playsinline, l2 = t2.relationships.uri.data.attributes.sourceId;
            if (null != n2.altSourceUrl) {
              var c2 = n2.altSourceUrl.match(/watch\?v=(.+)/);
              l2 = c2[1];
            }
            a.default.importClass().then(function(t3) {
              var n3 = r.default.global.document.createElement("div");
              e2.appendChild(n3), new t3.Player(n3, { events: { onError: function(e3) {
                return o2(e3);
              }, onReady: function(e3) {
                return i2(e3.target);
              } }, playerVars: { autohide: "0", autoplay: "0", cc_load_policy: "0", controls: u2 ? "1" : "0", disablekb: "1", enablejsapi: "1", fs: u2 ? "1" : "0", hl: "0", html5: "1", iv_load_policy: "3", loop: "0", modestbranding: "1", playsinline: s2 ? "1" : "0", rel: "0", showinfo: "0", start: "0" }, videoId: l2, width: "100%", height: "100%" }, function() {
                o2();
              });
            });
          });
        }
        function _(e2, t2) {
          return new Promise(function(e3, t3) {
          });
        }
        function p(e2, t2) {
          var n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          return new Promise(function(i2, a2) {
            var o2 = n2.altSourceUrl, u2 = n2.controls, s2 = t2.relationships.uri.data.attributes.endpointScheme, l2 = t2.relationships.uri.data.attributes.endpointHost, c2 = t2.relationships.uri.data.attributes.endpointPath, f2 = r.default.global.document.createElement("audio");
            f2.autoplay = false, f2.controls = !!u2, f2.crossorigin = "anonymous", f2.loop = false, f2.muted = false, f2.preload = "auto", f2.src = o2 || "".concat(s2, "://").concat(l2).concat(c2).concat(t2.attributes.code, "/u"), f2.addEventListener("abort", function(e3) {
              return a2(e3);
            }), f2.addEventListener("error", function(e3) {
              return a2(e3);
            }), f2.addEventListener("loadstart", function(e3) {
              return i2(e3.target);
            }), e2.appendChild(f2);
          });
        }
        var d = { create: function(e2, t2) {
          var n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          return new Promise(function(i2, a2) {
            if (n2.headless) {
              var d2 = new o.default(t2);
              d2.initialize(e2).then(function() {
                return i2(d2);
              }, function() {
                return a2();
              });
            } else {
              var h = null != n2.element ? n2.element : r.default.global.document.body, y = r.default.global.document.createElement("div");
              y.style.position = "absolute", y.style.opacity = 0, y.style.left = "0px", y.style.top = "0px", y.style.width = "1px", y.style.height = "1px", y.style.zIndex = 0, h.appendChild(y);
              var v = t2.relationships.uri.data.attributes.sourceHost;
              if (null != n2.altSourceUrl) v = new RegExp("www.youtube.com").test(n2.altSourceUrl) ? "www.youtube.com" : "";
              switch (v) {
                case "www.nicovideo.jp":
                  return c(y, t2, n2).then(function(n3) {
                    var r2 = new u.default(y, n3, t2);
                    r2.initialize(e2).then(function() {
                      return i2(r2);
                    }, function() {
                      return a2();
                    });
                  }, function(e3) {
                    a2(e3);
                  });
                case "soundcloud.com":
                  return _(y, t2, n2).then(function(e3) {
                  }, function(e3) {
                    a2(e3);
                  });
                case "www.youtube.com":
                  return f(y, t2, n2).then(function(n3) {
                    var r2 = new s.default(y, n3, t2);
                    r2.initialize(e2).then(function() {
                      return i2(r2);
                    }, function() {
                      return a2();
                    });
                  }, function(e3) {
                    a2(e3);
                  });
                default:
                  return p(y, t2, n2).then(function(n3) {
                    var r2 = new l.default(y, n3, t2);
                    r2.initialize(e2).then(function() {
                      return i2(r2);
                    }, function() {
                      return a2();
                    });
                  }, function(e3) {
                    a2(e3);
                  });
              }
            }
          });
        } };
        t.default = d;
      }, 67: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(30), i = n(1), a = "https://secure-dcdn.cdn.nimg.jp/extplayerv/embed/js/api.js";
        var o = { importClass: function() {
          var e2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          return new Promise(function(t2, n2) {
            if (i.default.NnFactoryClass) return t2(i.default.NnFactoryClass);
            var o2 = e2.element || i.default.global.document.body;
            i.default.global.onNicoPlayerFactoryReady = function(e3) {
              i.default.NnFactoryClass = i.default.NnFactoryClass || i.default.global.NN || e3;
            }, o2.appendChild(r.default.createScriptElement(a, { onAbort: function(e3) {
              return n2();
            }, onError: function(e3) {
              return n2();
            }, onLoad: function(e3) {
              var n3 = setInterval(function() {
                i.default.NnFactoryClass && i.default.NnFactoryClass.create && (clearInterval(n3), t2(i.default.NnFactoryClass));
              }, 1);
            } }));
          });
        } };
        t.default = o;
      }, 68: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(30), i = n(1), a = "https://www.youtube.com/iframe_api";
        var o = { importClass: function() {
          var e2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          return new Promise(function(t2, n2) {
            if (i.default.YtFactoryClass) return t2(i.default.YtFactoryClass);
            var o2 = e2.element || i.default.global.document.body;
            i.default.global.onYouTubeIframeAPIReady = function(e3) {
              i.default.YtFactoryClass = i.default.YtFactoryClass || i.default.global.YT || e3;
            }, o2.appendChild(r.default.createScriptElement(a, { onAbort: function(e3) {
              return n2();
            }, onError: function(e3) {
              return n2();
            }, onLoad: function(e3) {
              var n3 = setInterval(function() {
                i.default.YtFactoryClass && i.default.YtFactoryClass.Player && (clearInterval(n3), t2(i.default.YtFactoryClass));
              }, 1);
            } }));
          });
        } };
        t.default = o;
      }, 69: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(2), i = n(1);
        function a(e2) {
          try {
            return i.default.isStandalone ? null : i.default.global.localStorage.getItem(e2);
          } catch (t2) {
            return r.default.error(t2), null;
          }
        }
        function o(e2, t2) {
          try {
            return i.default.isStandalone ? null : i.default.global.localStorage.setItem(e2, t2);
          } catch (n2) {
            return r.default.error(n2), null;
          }
        }
        var u = { fetch: function(e2, t2) {
          var n2 = a(e2) || t2;
          return o(e2, n2), n2;
        }, get: a, set: o };
        t.default = u;
      }, 70: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(4), i = n.n(r), a = n(28), o = (n(2), n(1)), u = n(20);
        function s(e2, t2, n2, r2, i2, a2, o2) {
          try {
            var u2 = e2[a2](o2), s2 = u2.value;
          } catch (l2) {
            return void n2(l2);
          }
          u2.done ? t2(s2) : Promise.resolve(s2).then(r2, i2);
        }
        function l(e2) {
          return function() {
            var t2 = this, n2 = arguments;
            return new Promise(function(r2, i2) {
              var a2 = e2.apply(t2, n2);
              function o2(e3) {
                s(a2, r2, i2, o2, u2, "next", e3);
              }
              function u2(e3) {
                s(a2, r2, i2, o2, u2, "throw", e3);
              }
              o2(void 0);
            });
          };
        }
        function c(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function f(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function _(e2, t2) {
          return (_ = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function p(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = h(e2);
            if (t2) {
              var i2 = h(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return d(this, n2);
          };
        }
        function d(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function h(e2) {
          return (h = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var y = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && _(e3, t3);
          }(h2, e2);
          var t2, n2, r2, a2, s2, d2 = p(h2);
          function h2() {
            var e3;
            c(this, h2);
            for (var t3 = arguments.length, n3 = new Array(t3), r3 = 0; r3 < t3; r3++) n3[r3] = arguments[r3];
            return (e3 = d2.call.apply(d2, [this].concat(n3))).__histories__ = [0], e3;
          }
          return t2 = h2, (n2 = [{ key: "runTask", value: (s2 = l(i.a.mark(function e3() {
            var t3;
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  return e4.next = 2, this.update();
                case 2:
                  (t3 = 2 * this.intervalTime + this.__random__(0, 1e3)) < this.minIntervalTime && (t3 = this.minIntervalTime), t3 > this.maxIntervalTime && (t3 = this.maxIntervalTime), this.intervalTime = t3;
                case 6:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          })), function() {
            return s2.apply(this, arguments);
          }) }, { key: "update", value: (a2 = l(i.a.mark(function e3() {
            var t3, n3, r3, a3;
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  t3 = 0;
                case 1:
                  if (!(t3 < 3)) {
                    e4.next = 11;
                    break;
                  }
                  return n3 = o.default.currentClockTime, e4.next = 5, u.ClockAPI.getClock(this.plugin);
                case 5:
                  r3 = e4.sent, a3 = o.default.currentClockTime, this.__histories__.push(r3 - (a3 + n3) / 2);
                case 8:
                  ++t3, e4.next = 1;
                  break;
                case 11:
                  this.__histories__ = this.__histories__.sort(function(e5, t4) {
                    return e5 - t4;
                  });
                case 12:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          })), function() {
            return a2.apply(this, arguments);
          }) }, { key: "__random__", value: function(e3, t3) {
            return Math.floor(Math.random() * (t3 - e3 + 1) + e3);
          } }, { key: "defaultIntervalTime", get: function() {
            return 1e3;
          } }, { key: "minIntervalTime", get: function() {
            return 1e3;
          } }, { key: "maxIntervalTime", get: function() {
            return 6e4;
          } }, { key: "networkJitterTime", get: function() {
            return this.__histories__[Math.floor(this.__histories__.length / 2)];
          } }]) && f(t2.prototype, n2), r2 && f(t2, r2), h2;
        }(a.default);
        t.default = y;
      }, 71: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(4), i = n.n(r), a = n(28), o = n(2), u = n(1), s = n(20);
        function l(e2, t2, n2, r2, i2, a2, o2) {
          try {
            var u2 = e2[a2](o2), s2 = u2.value;
          } catch (l2) {
            return void n2(l2);
          }
          u2.done ? t2(s2) : Promise.resolve(s2).then(r2, i2);
        }
        function c(e2) {
          return function() {
            var t2 = this, n2 = arguments;
            return new Promise(function(r2, i2) {
              var a2 = e2.apply(t2, n2);
              function o2(e3) {
                l(a2, r2, i2, o2, u2, "next", e3);
              }
              function u2(e3) {
                l(a2, r2, i2, o2, u2, "throw", e3);
              }
              o2(void 0);
            });
          };
        }
        function f(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function _(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function p(e2, t2) {
          return (p = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function d(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = y(e2);
            if (t2) {
              var i2 = y(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return h(this, n2);
          };
        }
        function h(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function y(e2) {
          return (y = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var v = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && p(e3, t3);
          }(y2, e2);
          var t2, n2, r2, a2, l2, h2 = d(y2);
          function y2() {
            var e3;
            f(this, y2);
            for (var t3 = arguments.length, n3 = new Array(t3), r3 = 0; r3 < t3; r3++) n3[r3] = arguments[r3];
            return (e3 = h2.call.apply(h2, [this].concat(n3))).__activeNodeCount__ = 0, e3.__masterNodeCount__ = 0, e3.__stateId__ = 0, e3.__initialAbsoluteStartTime__ = 0, e3.__absoluteStartTime__ = 0, e3.__absolutePauseTime__ = 0, e3.__playlistDurationTime__ = 0, e3.__playlistPositionTime__ = 0, e3.__playlistItems__ = [], e3;
          }
          return t2 = y2, (n2 = [{ key: "runTask", value: (l2 = c(i.a.mark(function e3() {
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  return e4.t0 = this, e4.next = 3, s.StageAPI.getStage(this.plugin);
                case 3:
                  return e4.t1 = e4.sent, e4.next = 6, e4.t0.update.call(e4.t0, e4.t1);
                case 6:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          })), function() {
            return l2.apply(this, arguments);
          }) }, { key: "update", value: (a2 = c(i.a.mark(function e3(t3) {
            var n3, r3, a3;
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  return n3 = t3.id, r3 = t3.attributes.createdAt, a3 = t3.attributes.updatedAt, this.__updateNodeCount__(t3), this.__updateState__(t3), this.__updateInitialAbsoluteStartTime__(t3), this.__updateAbsoluteStartTime__(t3), this.__updateAbsolutePauseTime__(t3), e4.next = 10, this.__updateMessage__(t3);
                case 10:
                  return e4.next = 12, this.__updatePlaylist__(t3);
                case 12:
                  this.__stageId__ = n3, this.__createdAt__ = r3, this.__updatedAt__ = a3;
                case 15:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          })), function(e3) {
            return a2.apply(this, arguments);
          }) }, { key: "__updateNodeCount__", value: function(e3) {
            var t3 = e3.attributes.activeNodeCount, n3 = e3.attributes.masterNodeCount, r3 = t3 > this.__activeNodeCount__, i2 = t3 < this.__activeNodeCount__;
            this.__activeNodeCount__ = t3, this.__masterNodeCount__ = n3;
            var a3 = { stageActiveNodeCount: t3, stageMasterNodeCount: n3 };
            [{ source: "stageActiveNodeCount", target: "activeNodeCount", warning: true }, { source: "stageMasterNodeCount", target: "masterNodeCount", warning: true }].forEach(function(e4) {
              Object.defineProperty(a3, e4.target, { get: function() {
                return e4.warning && o.default.warn("'".concat(e4.target, "' is deprecated API, please use '").concat(e4.source, "' in 'songleSyncStageNode[Change|Enter|Leave]' trap")), a3[e4.source];
              } });
            }), (r3 || i2) && this.player.invokeTrap("songleSyncStageNodeChange", { target: this.plugin, data: a3 }), r3 && this.player.invokeTrap("songleSyncStageNodeEnter", { target: this.plugin, data: a3 }), i2 && this.player.invokeTrap("songleSyncStageNodeLeave", { target: this.plugin, data: a3 });
          } }, { key: "__updateState__", value: function(e3) {
            var t3 = e3.attributes.stateId;
            t3 != this.__stateId__ && (this.__stateId__ = t3, this.player.invokeTrap("songleSyncStageStateChange", { target: this.plugin, data: { stageStateId: t3 } }));
          } }, { key: "__updateInitialAbsoluteStartTime__", value: function(e3) {
            var t3 = e3.attributes.initialAbsoluteStartTimeMs;
            t3 != this.__initialAbsoluteStartTime__ && (this.__initialAbsoluteStartTime__ = t3, this.player.invokeTrap("songleSyncStageInitialAbsoluteStartTime", { target: this.plugin, data: { stageInitialAbsoluteStartTime: t3 } }));
          } }, { key: "__updateAbsoluteStartTime__", value: function(e3) {
            var t3 = e3.attributes.absoluteStartTimeMs;
            t3 != this.__absoluteStartTime__ && (this.__absoluteStartTime__ = t3, this.player.invokeTrap("songleSyncStageAbsoluteStartTimeUpdate", { target: this.plugin, data: { stageAbsoluteStartTime: t3 } }));
          } }, { key: "__updateAbsolutePauseTime__", value: function(e3) {
            var t3 = e3.attributes.absolutePauseTimeMs;
            t3 != this.__absolutePauseTime__ && (this.__absolutePauseTime__ = t3, this.player.invokeTrap("songleSyncStageAbsolutePauseTimeUpdate", { target: this.plugin, data: { stageAbsolutePauseTime: t3 } }));
          } }, { key: "__updateMessage__", value: function(e3) {
            var t3 = this;
            return new Promise(function(n3, r3) {
              var i2 = e3.attributes.messageCreatedAt, a3 = e3.attributes.messageUpdatedAt;
              return null == i2 || null == a3 || i2 === t3.__messageCreatedAt__ && a3 === t3.__messageUpdatedAt__ ? n3() : void s.MessageAPI.getMessage(t3.plugin).then(function(e4) {
                var r4 = e4.attributes.data;
                return t3.__message__ = r4, t3.__messageCreatedAt__ = i2, t3.__messageUpdatedAt__ = a3, u.default.stringIsBlank(r4) || t3.player.invokeTrap("songleSyncMessage", { target: t3.plugin, data: { message: r4 } }), n3();
              }, function(e4) {
                return o.default.error("StageWorker#error", e4), r3(e4);
              });
            });
          } }, { key: "__updatePlaylist__", value: function(e3) {
            var t3 = this;
            return new Promise(function(n3, r3) {
              var i2 = e3.attributes.playlistDurationTimeMs, a3 = e3.attributes.playlistPositionTimeMs, u2 = e3.attributes.playlistCreatedAt, l3 = e3.attributes.playlistUpdatedAt;
              return null == u2 || null == l3 || u2 === t3.__playlistCreatedAt__ && l3 === t3.__playlistUpdatedAt__ ? n3() : void s.PlaylistAPI.getPlaylist(t3.plugin).then(function(e4) {
                return t3.__playlistDurationTime__ = i2, t3.__playlistPositionTime__ = a3, t3.__playlistItems__ = e4, t3.__playlistCreatedAt__ = u2, t3.__playlistUpdatedAt__ = l3, t3.player.invokeTrap("songleSyncPlaylistUpdate", { target: t3.plugin, data: { playlistItems: e4 } }), n3();
              }, function(e4) {
                return o.default.error("StageWorker#error", e4), r3(e4);
              });
            });
          } }, { key: "defaultIntervalTime", get: function() {
            return 3e3;
          } }, { key: "minIntervalTime", get: function() {
            return 1e3;
          } }, { key: "maxIntervalTime", get: function() {
            return 6e4;
          } }]) && _(t2.prototype, n2), r2 && _(t2, r2), y2;
        }(a.default);
        t.default = v;
      }, 72: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(28), i = n(2);
        function a(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function o(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function u(e2, t2) {
          return (u = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function s(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = c(e2);
            if (t2) {
              var i2 = c(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return l(this, n2);
          };
        }
        function l(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function c(e2) {
          return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var f = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && u(e3, t3);
          }(c2, e2);
          var t2, n2, r2, l2 = s(c2);
          function c2() {
            var e3;
            a(this, c2);
            for (var t3 = arguments.length, n3 = new Array(t3), r3 = 0; r3 < t3; r3++) n3[r3] = arguments[r3];
            return (e3 = l2.call.apply(l2, [this].concat(n3))).__beforePlaylistItemIndex__ = -1, e3.__enterStates__ = [], e3.__leaveStates__ = [], e3.__finishState__ = false, e3.__stopNumberOfTrails__ = 0, e3.__playNumberOfTrails__ = 0, e3.__pauseNumberOfTrails__ = 0, e3.__stopNumberOfTrailsThreshold__ = 0, e3.__playNumberOfTrailsThreshold__ = 0, e3.__pauseNumberOfTrailsThreshold__ = 0, e3.skipMediaStateChange = false, e3;
          }
          return t2 = c2, (n2 = [{ key: "resetState", value: function() {
            var e3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t3 = null != e3.force && e3.force, n3 = this.plugin.__getCurrentPlaylistItem__();
            (null == n3 || t3 || this.__beforePlaylistItemIndex__ != n3.index) && (this.__invokeAllPlaylistItemLeaveTrap__(), this.__beforePlaylistItemIndex__ = -1, this.__enterStates__ = [], this.__leaveStates__ = [], this.__finishState__ = false, i.default.debug("Playlist trap states was reseted"));
          } }, { key: "runTask", value: function() {
            this.update();
          } }, { key: "update", value: function() {
            this.__invokePlaylistTraps__(), null != this.player.media && this.player.media.sourceUrl === this.plugin.playlist.currentItem.mediaSourceUrl && (this.skipMediaStateChange || (this.plugin.__getPlaylistMediaIsStopped__() ? this.__tryStoppingMedia__() : this.plugin.__getPlaylistMediaIsPlaying__() ? this.__tryPlayingMedia__() : this.plugin.__getPlaylistMediaIsPaused__() && this.__tryPausingMedia__()));
          } }, { key: "__tryStoppingMedia__", value: function() {
            if (this.player.media.isPaused) return this.__stopNumberOfTrails__ = 0, void (this.__stopNumberOfTrailsThreshold__ = 0);
            this.__stopNumberOfTrails__ += 1, this.__stopNumberOfTrails__ > this.__stopNumberOfTrailsThreshold__ && (this.player.media.stop(), i.default.debug("The 'stop' function of media was called by the Songle Sync"), this.__stopNumberOfTrailsThreshold__ = 2 * this.__stopNumberOfTrails__);
          } }, { key: "__tryPlayingMedia__", value: function() {
            if (this.player.media.isPlaying) return this.__playNumberOfTrails__ = 0, void (this.__playNumberOfTrailsThreshold__ = 0);
            this.__playNumberOfTrails__ += 1, this.__playNumberOfTrails__ > this.__playNumberOfTrailsThreshold__ && (this.player.media.play(), i.default.debug("The 'play' function of media was called by the Songle Sync"), this.__playNumberOfTrailsThreshold__ = 2 * this.__playNumberOfTrails__);
          } }, { key: "__tryPausingMedia__", value: function() {
            if (this.player.media.isPaused) return this.__pauseNumberOfTrails__ = 0, void (this.__pauseNumberOfTrailsThreshold__ = 0);
            this.__pauseNumberOfTrails__ += 1, this.__pauseNumberOfTrails__ > this.__pauseNumberOfTrailsThreshold__ && (this.player.media.pause(), i.default.debug("The 'pause' function of media was called by the Songle Sync"), this.__pauseNumberOfTrailsThreshold__ = 2 * this.__pauseNumberOfTrails__);
          } }, { key: "__invokePlaylistTraps__", value: function() {
            var e3 = this;
            this.plugin.stageIsPlaying && (this.plugin.playlist.items.forEach(function(t3) {
              e3.plugin.playlist.positionTime >= t3.relativeStartTime && e3.plugin.playlist.positionTime < t3.relativeEndTime ? e3.__invokePlaylistItemEnterTrap__(t3) : e3.__invokePlaylistItemLeaveTrap__(t3);
            }), this.__invokePlaylistFinishTrap__());
          } }, { key: "__invokeAllPlaylistItemEnterTrap__", value: function() {
            var e3 = this;
            this.plugin.playlist.items.forEach(function(t3) {
              e3.__invokePlaylistItemEnterTrap__(t3);
            });
          } }, { key: "__invokeAllPlaylistItemLeaveTrap__", value: function() {
            var e3 = this;
            this.plugin.playlist.items.forEach(function(t3) {
              e3.__invokePlaylistItemLeaveTrap__(t3);
            });
          } }, { key: "__invokePlaylistItemEnterTrap__", value: function(e3) {
            this.__enterStates__[e3.index] || this.__leaveStates__[e3.index] || (this.player.invokeTrap("songleSyncPlaylistItemEnter", { target: this.plugin, data: { playlistItem: e3 } }), this.__beforePlaylistItemIndex__ = this.plugin.playlist.currentItem.index, this.__enterStates__[e3.index] = true);
          } }, { key: "__invokePlaylistItemLeaveTrap__", value: function(e3) {
            this.__enterStates__[e3.index] && !this.__leaveStates__[e3.index] && (this.player.invokeTrap("songleSyncPlaylistItemLeave", { target: this.plugin, data: { playlistItem: e3 } }), this.__beforePlaylistItemIndex__ = this.plugin.playlist.currentItem.index, this.__leaveStates__[e3.index] = true);
          } }, { key: "__invokePlaylistFinishTrap__", value: function() {
            this.__finishState__ || this.plugin.playlist.positionTime != this.plugin.playlist.durationTime || (this.player.invokeTrap("songleSyncPlaylistFinish", { target: this.plugin }), this.__finishState__ = true);
          } }, { key: "defaultIntervalTime", get: function() {
            return 100;
          } }, { key: "minIntervalTime", get: function() {
            return 100;
          } }, { key: "maxIntervalTime", get: function() {
            return 1e3;
          } }]) && o(t2.prototype, n2), r2 && o(t2, r2), c2;
        }(r.default);
        t.default = f;
      }, 73: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(28), i = n(32), a = (n(59), n(57), n(58), n(2)), o = n(1);
        function u(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function s(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function l(e2, t2) {
          return (l = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function c(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = _(e2);
            if (t2) {
              var i2 = _(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return f(this, n2);
          };
        }
        function f(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function _(e2) {
          return (_ = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var p = Math.floor(5.5), d = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && l(e3, t3);
          }(_2, e2);
          var t2, n2, r2, f2 = c(_2);
          function _2() {
            var e3;
            u(this, _2);
            for (var t3 = arguments.length, n3 = new Array(t3), r3 = 0; r3 < t3; r3++) n3[r3] = arguments[r3];
            return (e3 = f2.call.apply(f2, [this].concat(n3))).__integralOffsetTime__ = 0, e3.__stateWorkerRestartTime__ = 0, e3.__minAllowableOffsetTimeThreshold__ = 200, e3.__maxAllowableOffsetTimeThreshold__ = 2e3, e3.__allowableOffsetTimeThreshold__ = 200, e3.__offsetTime__ = 0, e3.__negativeSeekingCount__ = 0, e3.__positiveSeekingCount__ = 0, e3.__syncedCount__ = 0, e3.__syncedCountThreshold__ = p, e3;
          }
          return t2 = _2, (n2 = [{ key: "runTask", value: function() {
            this.update();
          } }, { key: "update", value: function() {
            if (this.plugin.__getPlaylistMediaIsPlaying__()) {
              if (null != this.player && null != this.player.media) {
                var e3 = this.plugin.__getPlaylistMediaPositionTime__();
                if (this.__offsetTime__ = e3 - this.player.media.positionTime, Math.abs(this.offsetTime) < 1e3 ? this.__integralOffsetTime__ += this.offsetTime : this.__integralOffsetTime__ = 0, !this.__restartStateWorker__()) {
                  if (this.offsetTime < this.negativeOffsetTimeThreshold) {
                    switch (this.player.media.dispatcherName) {
                      case i.default.Name:
                        this.player.media.seekTo(e3);
                        break;
                      default:
                        if (!this.player.media.isReady) return;
                        if (Math.abs(this.offsetTime) < 1e3) return void this.__suspendStateWorker__();
                        this.player.media.seekTo(e3);
                    }
                    this.__incrementNegativeSeekingCount__(), this.__dispatchNegativeSeeking__(), this.__dispatchUnsync__(), this.__resetSyncedCount__();
                  } else if (this.offsetTime > this.positiveOffsetTimeThreshold) {
                    switch (this.player.media.dispatcherName) {
                      case i.default.Name:
                        this.player.media.seekTo(e3);
                        break;
                      default:
                        if (!this.player.media.isReady) return;
                        this.player.media.seekTo(e3 + this.__integralOffsetTime__);
                    }
                    this.__incrementPositiveSeekingCount__(), this.__dispatchPositiveSeeking__(), this.__dispatchUnsync__(), this.__resetSyncedCount__();
                  } else if (!this.plugin.stateWorker.skipMediaStateChange) {
                    if (this.__incrementSyncedCount__(), this.syncedCount % this.syncedCountThreshold != 0) return;
                    this.__dispatchSync__(), this.__resetSeekingCount__();
                  }
                }
              }
            } else this.__resetSyncedCount__();
          } }, { key: "__debugMessage__", value: function(e3) {
            a.default.debug(e3, { minAllowableOffsetTimeThreshold: this.minAllowableOffsetTimeThreshold, maxAllowableOffsetTimeThreshold: this.maxAllowableOffsetTimeThreshold, allowableOffsetTimeThreshold: this.allowableOffsetTimeThreshold, negativeOffsetTimeThreshold: this.negativeOffsetTimeThreshold, positiveOffsetTimeThreshold: this.positiveOffsetTimeThreshold, offsetTime: this.offsetTime, negativeSeekingCount: this.negativeSeekingCount, positiveSeekingCount: this.positiveSeekingCount, unsyncedCount: this.unsyncedCount, syncedCount: this.syncedCount });
          } }, { key: "__resetSeekingCount__", value: function() {
            this.__negativeSeekingCount__ = 0, this.__positiveSeekingCount__ = 0;
          } }, { key: "__incrementNegativeSeekingCount__", value: function() {
            this.__negativeSeekingCount__ += 1;
          } }, { key: "__incrementPositiveSeekingCount__", value: function() {
            this.__positiveSeekingCount__ += 1;
          } }, { key: "__resetSyncedCount__", value: function() {
            this.__syncedCount__ = 0;
          } }, { key: "__incrementSyncedCount__", value: function() {
            this.__syncedCount__ += 1;
          } }, { key: "__dispatchNegativeSeeking__", value: function() {
            this.__debugMessage__("The stage of Songle Sync is seeking the `songlePlayer.media.positionTime` in the negative direction");
          } }, { key: "__dispatchPositiveSeeking__", value: function() {
            this.__debugMessage__("The stage of Songle Sync is seeking the `songlePlayer.media.positionTime` in the positive direction");
          } }, { key: "__dispatchUnsync__", value: function() {
            this.unsyncedCount % 10 == 0 && (this.allowableOffsetTimeThreshold *= 2);
          } }, { key: "__dispatchSync__", value: function() {
            this.__debugMessage__("The stage of Songle Sync was synced with the `songlePlayer.media.positionTime`");
            var e3 = -this.minAllowableOffsetTimeThreshold / 2, t3 = this.minAllowableOffsetTimeThreshold / 2;
            this.offsetTime > e3 && this.offsetTime < t3 && (this.allowableOffsetTimeThreshold = this.minAllowableOffsetTimeThreshold);
          } }, { key: "__suspendStateWorker__", value: function() {
            return !this.plugin.stateWorker.skipMediaStateChange && !(o.default.currentClockTime < this.__stateWorkerRestartTime__) && (this.plugin.stateWorker.skipMediaStateChange = !this.plugin.stateWorker.skipMediaStateChange, this.player.media.pause(), this.__stateWorkerRestartTime__ = o.default.currentClockTime + Math.abs(this.offsetTime), this.intervalTime = 1, true);
          } }, { key: "__restartStateWorker__", value: function() {
            return !!this.plugin.stateWorker.skipMediaStateChange && !(o.default.currentClockTime < this.__stateWorkerRestartTime__) && (this.plugin.stateWorker.skipMediaStateChange = !this.plugin.stateWorker.skipMediaStateChange, this.player.media.play(), this.intervalTime = this.defaultIntervalTime, true);
          } }, { key: "defaultIntervalTime", get: function() {
            return 1e3;
          } }, { key: "minIntervalTime", get: function() {
            return 0;
          } }, { key: "maxIntervalTime", get: function() {
            return 6e4;
          } }, { key: "minAllowableOffsetTimeThreshold", get: function() {
            return this.__minAllowableOffsetTimeThreshold__;
          } }, { key: "maxAllowableOffsetTimeThreshold", get: function() {
            return this.__maxAllowableOffsetTimeThreshold__;
          } }, { key: "allowableOffsetTimeThreshold", get: function() {
            return this.__allowableOffsetTimeThreshold__;
          }, set: function(e3) {
            e3 < this.minAllowableOffsetTimeThreshold && (e3 = this.minAllowableOffsetTimeThreshold), e3 > this.maxAllowableOffsetTimeThreshold && (e3 = this.maxAllowableOffsetTimeThreshold), this.__allowableOffsetTimeThreshold__ = e3;
          } }, { key: "negativeOffsetTimeThreshold", get: function() {
            return -this.__allowableOffsetTimeThreshold__ / 2;
          } }, { key: "positiveOffsetTimeThreshold", get: function() {
            return this.__allowableOffsetTimeThreshold__ / 2;
          } }, { key: "offsetTime", get: function() {
            return this.__offsetTime__;
          } }, { key: "negativeSeekingCount", get: function() {
            return this.__negativeSeekingCount__;
          } }, { key: "positiveSeekingCount", get: function() {
            return this.__positiveSeekingCount__;
          } }, { key: "unsyncedCount", get: function() {
            return this.__negativeSeekingCount__ + this.__positiveSeekingCount__;
          } }, { key: "syncedCount", get: function() {
            return this.__syncedCount__;
          } }, { key: "syncedCountThreshold", get: function() {
            return this.__syncedCountThreshold__;
          }, set: function(e3) {
            e3 < 1 ? a.default.warn("Couldn't set the 'songlePlayer.stageSyncedCountThreshold' less than ".concat(1)) : e3 > 10 ? a.default.warn("Couldn't set the 'songlePlayer.stageSyncedCountThreshold' more than ".concat(10)) : this.__syncedCountThreshold__ = e3;
          } }]) && s(t2.prototype, n2), r2 && s(t2, r2), _2;
        }(r.default);
        t.default = d;
      }, 74: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(4), i = n.n(r), a = n(28), o = n(20);
        function u(e2, t2, n2, r2, i2, a2, o2) {
          try {
            var u2 = e2[a2](o2), s2 = u2.value;
          } catch (l2) {
            return void n2(l2);
          }
          u2.done ? t2(s2) : Promise.resolve(s2).then(r2, i2);
        }
        function s(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function l(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function c(e2, t2) {
          return (c = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function f(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = p(e2);
            if (t2) {
              var i2 = p(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return _(this, n2);
          };
        }
        function _(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? function(e3) {
            if (void 0 === e3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e3;
          }(e2) : t2;
        }
        function p(e2) {
          return (p = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var d = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && c(e3, t3);
          }(d2, e2);
          var t2, n2, r2, a2, _2, p2 = f(d2);
          function d2() {
            return s(this, d2), p2.apply(this, arguments);
          }
          return t2 = d2, (n2 = [{ key: "runTask", value: (a2 = i.a.mark(function e3() {
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  return e4.prev = 0, e4.next = 3, o.HistoryAPI.createHistory(this.plugin);
                case 3:
                  e4.next = 7;
                  break;
                case 5:
                  e4.prev = 5, e4.t0 = e4.catch(0);
                case 7:
                case "end":
                  return e4.stop();
              }
            }, e3, this, [[0, 5]]);
          }), _2 = function() {
            var e3 = this, t3 = arguments;
            return new Promise(function(n3, r3) {
              var i2 = a2.apply(e3, t3);
              function o2(e4) {
                u(i2, n3, r3, o2, s2, "next", e4);
              }
              function s2(e4) {
                u(i2, n3, r3, o2, s2, "throw", e4);
              }
              o2(void 0);
            });
          }, function() {
            return _2.apply(this, arguments);
          }) }, { key: "defaultIntervalTime", get: function() {
            return 3e4;
          } }, { key: "minIntervalTime", get: function() {
            return 15e3;
          } }, { key: "maxIntervalTime", get: function() {
            return 6e4;
          } }]) && l(t2.prototype, n2), r2 && l(t2, r2), d2;
        }(a.default);
        t.default = d;
      }, 77: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(4), i = n.n(r), a = n(19), o = n(6), u = n(2), s = n(66), l = n(1), c = n(30), f = n(32), _ = n(12), p = n(62);
        function d(e2, t2, n2, r2, i2, a2, o2) {
          try {
            var u2 = e2[a2](o2), s2 = u2.value;
          } catch (l2) {
            return void n2(l2);
          }
          u2.done ? t2(s2) : Promise.resolve(s2).then(r2, i2);
        }
        function h(e2) {
          return function() {
            var t2 = this, n2 = arguments;
            return new Promise(function(r2, i2) {
              var a2 = e2.apply(t2, n2);
              function o2(e3) {
                d(a2, r2, i2, o2, u2, "next", e3);
              }
              function u2(e3) {
                d(a2, r2, i2, o2, u2, "throw", e3);
              }
              o2(void 0);
            });
          };
        }
        function y(e2, t2) {
          if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
        }
        function v(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
          }
        }
        function g(e2, t2, n2) {
          return t2 && v(e2.prototype, t2), n2 && v(e2, n2), e2;
        }
        function m(e2, t2) {
          return (m = Object.setPrototypeOf || function(e3, t3) {
            return e3.__proto__ = t3, e3;
          })(e2, t2);
        }
        function b(e2) {
          var t2 = function() {
            if ("undefined" === typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" === typeof Proxy) return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = S(e2);
            if (t2) {
              var i2 = S(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return k(this, n2);
          };
        }
        function k(e2, t2) {
          return !t2 || "object" !== typeof t2 && "function" !== typeof t2 ? T(e2) : t2;
        }
        function T(e2) {
          if (void 0 === e2) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          return e2;
        }
        function S(e2) {
          return (S = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
            return e3.__proto__ || Object.getPrototypeOf(e3);
          })(e2);
        }
        var P = function(e2) {
          !function(e3, t3) {
            if ("function" !== typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && m(e3, t3);
          }(d2, e2);
          var t2, n2, r2, a2 = b(d2);
          function d2() {
            var e3, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            y(this, d2), (e3 = a2.call(this)).__dispatchers__ = [], e3.__mediaCaches__ = [], e3.__accessToken__ = t3.accessToken, e3.__secretToken__ = t3.secretToken, e3.__mediaElement__ = t3.mediaElement;
            var n3 = [{ source: "durationTime", target: "duration", warning: true }, { source: "positionTime", target: "position", warning: true }];
            return n3.forEach(function(t4) {
              Object.defineProperty(T(e3), t4.target, { get: function() {
                return t4.warning && u.default.warn("'Player.".concat(t4.target, "' is obsolete API, please use 'Player.").concat(t4.source, "'")), e3[t4.source];
              } });
            }), e3;
          }
          return g(d2, null, [{ key: "Name", get: function() {
            return "player";
          } }, { key: "Type", get: function() {
            return "player";
          } }, { key: "MinVolume", get: function() {
            return 0;
          } }, { key: "MaxVolume", get: function() {
            return 100;
          } }]), g(d2, [{ key: "activate", value: (r2 = h(i.a.mark(function e3() {
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  if (null != this.__media__) {
                    e4.next = 3;
                    break;
                  }
                  return u.default.warn("Player don't has a media, Please set a media using 'Songle.Player#useMedia'"), e4.abrupt("return");
                case 3:
                  return e4.abrupt("return", this.media.activate());
                case 4:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          })), function() {
            return r2.apply(this, arguments);
          }) }, { key: "useMedia", value: (n2 = h(i.a.mark(function e3(t3) {
            var n3, r3, a3, o2, c2, p2, d3, h2 = this, y2 = arguments;
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  n3 = y2.length > 1 && void 0 !== y2[1] ? y2[1] : {}, t3.options && u.default.warn("The 1st arg of `SongleAPI.Player.useMedia` exists the `options` attribute, but it's ignored"), n3.altSourceUrl = null != n3.altSourceUrl ? n3.altSourceUrl : null != n3.src ? n3.src : null, n3.element = null != n3.element ? n3.element : null != n3.rootElement ? n3.rootElement : null, n3.controls = null != n3.controls ? n3.controls : null != n3.showCtrl ? n3.showCtrl : null, n3.width = null != n3.width ? n3.width : null != n3.width ? n3.videoSizeW : null, n3.height = null != n3.height ? n3.height : null != n3.height ? n3.videoSizeH : null, n3.endpointScheme = null != n3.endpointScheme ? n3.endpointScheme : null, n3.endpointHost = null != n3.endpointHost ? n3.endpointHost : null, n3.endpointPath = null != n3.endpointPath ? n3.endpointPath : null, n3.fallback = null != n3.fallback ? n3.fallback : null, n3.headless = null != n3.headless && n3.headless, n3.altSourceUrl = null != n3.altSourceUrl ? n3.altSourceUrl : null, n3.element = null != n3.element ? n3.element : this.mediaElement, n3.controls = null != n3.controls && n3.controls, n3.playsinline = null == n3.playsinline || n3.playsinline, n3.width = null != n3.width ? n3.width : 256, n3.height = null != n3.height ? n3.height : 144, t3 instanceof f.default && (n3.headless = true), u.default.debug("Songle.Player#useMedia options", n3), n3.width < 200 && n3.height < 200 && u.default.warn("Video size is too small, please check the terms of use of this video provider"), e4.t0 = true, e4.next = e4.t0 === (null == t3) ? 24 : e4.t0 === ("string" === l.default.typeOf(t3)) ? 25 : e4.t0 === ("object" === l.default.typeOf(t3) && null != t3.mediaSourceUrl) ? 27 : e4.t0 === ("object" === l.default.typeOf(t3) && null != t3.permalink) ? 29 : e4.t0 === ("object" === l.default.typeOf(t3) && null != t3.sourceUrl) ? 31 : e4.t0 === ("object" === l.default.typeOf(t3) && null != t3.src) ? 33 : 35;
                  break;
                case 24:
                  return e4.abrupt("return");
                case 25:
                  return r3 = t3, e4.abrupt("break", 37);
                case 27:
                  return r3 = t3.mediaSourceUrl, e4.abrupt("break", 37);
                case 29:
                  return r3 = t3.permalink, e4.abrupt("break", 37);
                case 31:
                  return r3 = t3.sourceUrl, e4.abrupt("break", 37);
                case 33:
                  return r3 = t3.src, e4.abrupt("break", 37);
                case 35:
                  return u.default.error("Requested new media is unsupported with 'Songle.Player#useMedia'"), e4.abrupt("return");
                case 37:
                  return e4.next = 39, Promise.all(this.dispatchers.map(function(e5) {
                    return e5 && e5.mediaTryMount(h2, { newMediaSourceUrl: r3 });
                  }));
                case 39:
                  return a3 = n3.endpointScheme, o2 = n3.endpointHost, c2 = n3.endpointPath, p2 = n3.headless, e4.next = 45, _.SongAPI.get(r3, { endpointScheme: a3, endpointHost: o2, endpointPath: c2 });
                case 45:
                  if (d3 = e4.sent, null == this.__media__) {
                    e4.next = 58;
                    break;
                  }
                  e4.t1 = this.__media__.dispatcherName, e4.next = e4.t1 === f.default.Name ? 50 : 54;
                  break;
                case 50:
                  if (!p2 || n3.altSourceUrl) {
                    e4.next = 53;
                    break;
                  }
                  if (this.__media__.sourceUrl !== d3.attributes.permalink) {
                    e4.next = 53;
                    break;
                  }
                  return e4.abrupt("return");
                case 53:
                  return e4.abrupt("break", 58);
                case 54:
                  if (p2 || n3.altSourceUrl) {
                    e4.next = 57;
                    break;
                  }
                  if (this.__media__.sourceUrl !== d3.attributes.permalink) {
                    e4.next = 57;
                    break;
                  }
                  return e4.abrupt("return");
                case 57:
                  return e4.abrupt("break", 58);
                case 58:
                  if (!this.__mediaTransaction__) {
                    e4.next = 61;
                    break;
                  }
                  return u.default.warn("Before finish 'Songle.Player#useMedia', it was called again. please check it using 'mediaReady' event"), e4.abrupt("return");
                case 61:
                  return this.__mediaTransaction__ = !this.__mediaTransaction__, e4.next = 64, Promise.all(this.dispatchers.map(function(e5) {
                    return e5 && e5.mediaDisMount(h2);
                  }));
                case 64:
                  if (null != this.media && this.media.hideElement(), null != this.media && null == this.mediaCaches.find(function(e5) {
                    return e5 == h2.media;
                  }) && this.media.dispose(), e4.t2 = this.__getCachedMedia__(d3, n3), e4.t2) {
                    e4.next = 71;
                    break;
                  }
                  return e4.next = 70, s.default.create(this, d3, n3);
                case 70:
                  e4.t2 = e4.sent;
                case 71:
                  return this.__media__ = e4.t2, null != this.media && this.media.showElement(n3), e4.next = 75, Promise.all(this.dispatchers.map(function(e5) {
                    return e5 && e5.mediaDidMount(h2);
                  }));
                case 75:
                  return this.invokeTrap("mediaReady", { target: this, data: { media: this.__media__ } }), this.__mediaTransaction__ = !this.__mediaTransaction__, e4.abrupt("return", this.__media__);
                case 78:
                case "end":
                  return e4.stop();
              }
            }, e3, this);
          })), function(e3) {
            return n2.apply(this, arguments);
          }) }, { key: "cacheMedia", value: (t2 = h(i.a.mark(function e3(t3) {
            var n3, r3 = this;
            return i.a.wrap(function(e4) {
              for (; ; ) switch (e4.prev = e4.next) {
                case 0:
                  e4.t0 = l.default.typeOf(t3), e4.next = "array" === e4.t0 ? 3 : "object" === e4.t0 ? 5 : "string" === e4.t0 ? 7 : 9;
                  break;
                case 3:
                  return t3 = t3.map(function(e5) {
                    return "string" == l.default.typeOf(e5) ? { mediaSourceUrl: e5 } : e5;
                  }), e4.abrupt("break", 9);
                case 5:
                  return t3 = [t3], e4.abrupt("break", 9);
                case 7:
                  return t3 = [{ mediaSourceUrl: t3 }], e4.abrupt("break", 9);
                case 9:
                  return e4.next = 11, Promise.all(t3.map(function() {
                    var e5 = h(i.a.mark(function e6(t4) {
                      var n4, a3, o2;
                      return i.a.wrap(function(e7) {
                        for (; ; ) switch (e7.prev = e7.next) {
                          case 0:
                            return (n4 = null != t4.options ? t4.options : {}).endpointScheme = null != n4.endpointScheme ? n4.endpointScheme : null, n4.endpointHost = null != n4.endpointHost ? n4.endpointHost : null, n4.endpointPath = null != n4.endpointPath ? n4.endpointPath : null, n4.headless = null != n4.headless && n4.headless, n4.altSourceUrl = null != n4.altSourceUrl ? n4.altSourceUrl : null, n4.element = null != n4.element ? n4.element : r3.mediaElement, n4.controls = null != n4.controls && n4.controls, n4.width = null != n4.width ? n4.width : 256, n4.height = null != n4.height ? n4.height : 144, e7.next = 12, _.SongAPI.get(t4.mediaSourceUrl, n4);
                          case 12:
                            return a3 = e7.sent, e7.next = 15, s.default.create(r3, a3, n4);
                          case 15:
                            return (o2 = e7.sent).altSourceUrl = n4.altSourceUrl, r3.mediaCaches.push(o2), e7.abrupt("return", o2);
                          case 19:
                          case "end":
                            return e7.stop();
                        }
                      }, e6);
                    }));
                    return function(t4) {
                      return e5.apply(this, arguments);
                    };
                  }()));
                case 11:
                  return n3 = e4.sent, e4.abrupt("return", n3);
                case 13:
                case "end":
                  return e4.stop();
              }
            }, e3);
          })), function(e3) {
            return t2.apply(this, arguments);
          }) }, { key: "addPlugin", value: function(e3) {
            this.hasPlugin(e3.dispatcherName) ? u.default.warn("'".concat(e3.dispatcherName, "' is already installed")) : (e3.initialize(this), this.__dispatchers__.push(e3));
          } }, { key: "hasPlugin", value: function(e3) {
            return -1 != this.dispatchers.findIndex(function(t3) {
              return t3 && t3.dispatcherName === e3;
            });
          } }, { key: "invokeTrap", value: function(e3) {
            var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            this.dispatchers.forEach(function(n3) {
              n3 && n3.invokeSelfTrap(e3, t3);
            });
          } }, { key: "play", value: function() {
            null != this.__media__ ? this.media.play() : u.default.warn("Player don't has a media, Please set a media using 'Songle.Player#useMedia'");
          } }, { key: "pause", value: function() {
            null != this.__media__ ? this.media.pause() : u.default.warn("Player don't has a media, Please set a media using 'Songle.Player#useMedia'");
          } }, { key: "stop", value: function() {
            null != this.__media__ ? this.media.stop() : u.default.warn("Player don't has a media, Please set a media using 'Songle.Player#useMedia'");
          } }, { key: "seekTo", value: function(e3) {
            null != this.__media__ ? this.invokeTrap("seek", { target: this, data: { positionTime: e3 } }) : u.default.warn("Player don't has a media, Please set a media using 'Songle.Player#useMedia'");
          } }, { key: "__getCachedMedia__", value: function(e3, t3) {
            return this.mediaCaches.find(function(n3) {
              var r3;
              switch (true) {
                case null == e3:
                  return false;
                case "string" === l.default.typeOf(e3):
                  r3 = e3;
                  break;
                case ("object" === l.default.typeOf(e3) && null != e3.targetMediaSourceUrl):
                  r3 = e3.targetMediaSourceUrl;
                  break;
                case ("object" === l.default.typeOf(e3) && null != e3.permalink):
                  r3 = e3.permalink;
                  break;
                case ("object" === l.default.typeOf(e3) && null != e3.sourceUrl):
                  r3 = e3.sourceUrl;
                  break;
                case ("object" === l.default.typeOf(e3) && null != e3.src):
                  r3 = e3.src;
                  break;
                default:
                  return false;
              }
              var i2 = n3.sourceUrl === r3, a3 = t3.headless && null == n3.originalPlayer || !t3.headless && null != n3.originalPlayer, o2 = t3.altSourceUrl && t3.altSourceUrl == n3.altSourceUrl || !t3.altSourceUrl;
              return i2 && a3 && o2;
            });
          } }, { key: "dispatcherName", get: function() {
            return d2.Name;
          } }, { key: "dispatcherType", get: function() {
            return d2.Type;
          } }, { key: "accessToken", get: function() {
            return this.__accessToken__ || "";
          }, set: function(e3) {
            this.__accessToken__ = e3;
          } }, { key: "secretToken", get: function() {
            return this.__secretToken__ || "";
          }, set: function(e3) {
            this.__secretToken__ = e3;
          } }, { key: "mediaElement", get: function() {
            return c.default.querySelector(this.__mediaElement__);
          }, set: function(e3) {
            this.__mediaElement__ = e3;
          } }, { key: "dispatchers", get: function() {
            return this.__dispatchers__.concat([this, this.media]);
          } }, { key: "media", get: function() {
            return this.__media__;
          } }, { key: "mediaCaches", get: function() {
            return this.__mediaCaches__;
          } }, { key: "musicMap", get: function() {
            return null == this.__media__ ? null : this.__media__.musicMap;
          } }, { key: "isReady", get: function() {
            return null == this.media ? o.default.DefaultStateReady : this.media.isReady;
          } }, { key: "isPlaying", get: function() {
            return null == this.media ? o.default.DefaultStatePlaying : this.media.isPlaying;
          } }, { key: "isPaused", get: function() {
            return null == this.media ? o.default.DefaultStatePaused : this.media.isPaused;
          } }, { key: "isSeeking", get: function() {
            return null == this.media ? o.default.DefaultStateSeeking : this.media.isSeeking;
          } }, { key: "durationTime", get: function() {
            return null == this.media ? 0 : this.hasPlugin(p.default.Name) ? this.playlist.mediaDurationTime : this.media.durationTime;
          } }, { key: "positionTime", get: function() {
            return null == this.__media__ ? 0 : this.hasPlugin(p.default.Name) ? this.playlist.mediaPositionTime : this.media.positionTime;
          } }, { key: "muted", get: function() {
            return null != this.__media__ && this.media.muted;
          }, set: function(e3) {
            null != this.__media__ && (this.media.muted = e3);
          } }, { key: "volume", get: function() {
            return null == this.__media__ ? 100 : this.media.volume;
          }, set: function(e3) {
            null != this.__media__ && (this.media.volume = e3 < 0 ? 0 : e3 > 100 ? 100 : e3);
          } }]), d2;
        }(a.default);
        t.default = P;
      }, 78: function(e, t, n) {
        var r = n(95), i = n(96);
        e.exports = function(e2, t2, n2) {
          var a = t2 && n2 || 0;
          "string" == typeof e2 && (t2 = "binary" === e2 ? new Array(16) : null, e2 = null);
          var o = (e2 = e2 || {}).random || (e2.rng || r)();
          if (o[6] = 15 & o[6] | 64, o[8] = 63 & o[8] | 128, t2) for (var u = 0; u < 16; ++u) t2[a + u] = o[u];
          return t2 || i(o);
        };
      }, 8: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(1);
        function i() {
          return document.querySelector(".".concat("songle-api-license"));
        }
        var a = { createLicense: function(e2) {
          if (!r.default.isStandalone) {
            var t2 = i();
            if (!t2) {
              switch ((t2 = document.createElement("img")).className = "songle-api-license", t2.style.cursor = "pointer", t2.style.borderRadius = "4px", t2.style.position = "fixed", t2.style.zIndex = "9999", e2) {
                case "left-top":
                  t2.style.left = "4px", t2.style.top = "4px", t2.style.width = "24px", t2.style.height = "24px";
                  break;
                case "left-bottom":
                  t2.style.left = "4px", t2.style.bottom = "4px", t2.style.width = "24px", t2.style.height = "24px";
                  break;
                case "right-top":
                  t2.style.right = "4px", t2.style.top = "4px", t2.style.width = "24px", t2.style.height = "24px";
                  break;
                default:
                case "right-bottom":
                  t2.style.right = "4px", t2.style.bottom = "4px", t2.style.width = "24px", t2.style.height = "24px";
              }
              t2.alt = "Powered by Songle API", t2.src = "https://api.songle.jp/license-icons/songle.png", t2.width = 24, t2.height = 24, t2.addEventListener("click", function(e3) {
                return open("https://api.songle.jp");
              }, false), t2.addEventListener("touch", function(e3) {
                return open("https://api.songle.jp");
              }, false), document.body && document.body.appendChild(t2);
            }
          }
        }, removeLicense: function() {
          if (!r.default.isStandalone) {
            var e2 = i();
            e2 && e2.remove();
          }
        } };
        t.default = a;
      }, 83: function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(30), i = n(1), a = "https://w.soundcloud.com/player/api.js";
        var o = { importClass: function() {
          return new Promise(function(e2, t2) {
            if (i.default.ScFactoryClass) return e2(i.default.ScFactoryClass);
            (options.element || i.default.global.document.body).appendChild(r.default.createScriptElement(a, { onAbort: function(e3) {
              return t2();
            }, onError: function(e3) {
              return t2();
            }, onLoad: function(e3) {
              var t3 = setInterval(function() {
                i.default.global.SC && (i.default.ScFactoryClass = i.default.global.SC, i.default.ScFactoryClass && (clearInterval(t3), read(i.default.ScFactoryClass)));
              }, 1);
            } }));
          });
        } };
        t.default = o;
      }, 95: function(e, t) {
        var n = "undefined" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || "undefined" != typeof msCrypto && "function" == typeof window.msCrypto.getRandomValues && msCrypto.getRandomValues.bind(msCrypto);
        if (n) {
          var r = new Uint8Array(16);
          e.exports = function() {
            return n(r), r;
          };
        } else {
          var i = new Array(16);
          e.exports = function() {
            for (var e2, t2 = 0; t2 < 16; t2++) 0 === (3 & t2) && (e2 = 4294967296 * Math.random()), i[t2] = e2 >>> ((3 & t2) << 3) & 255;
            return i;
          };
        }
      }, 96: function(e, t) {
        for (var n = [], r = 0; r < 256; ++r) n[r] = (r + 256).toString(16).substr(1);
        e.exports = function(e2, t2) {
          var r2 = t2 || 0, i = n;
          return [i[e2[r2++]], i[e2[r2++]], i[e2[r2++]], i[e2[r2++]], "-", i[e2[r2++]], i[e2[r2++]], "-", i[e2[r2++]], i[e2[r2++]], "-", i[e2[r2++]], i[e2[r2++]], "-", i[e2[r2++]], i[e2[r2++]], i[e2[r2++]], i[e2[r2++]], i[e2[r2++]], i[e2[r2++]]].join("");
        };
      } });
    });
  }
});

// node_modules/w3c-xmlhttprequest/lib/browser.js
var require_browser = __commonJS({
  "node_modules/w3c-xmlhttprequest/lib/browser.js"(exports, module) {
    "use strict";
    module.exports = {
      XMLHttpRequest: window.XMLHttpRequest,
      XMLHttpRequestUpload: window.XMLHttpRequestUpload,
      FormData: window.FormData
    };
  }
});

// node_modules/songle-api/lib/main.js
var require_main = __commonJS({
  "node_modules/songle-api/lib/main.js"(exports, module) {
    (function(global2) {
      "use strict";
      var __module__ = require_api().default;
      if (!global2.XMLHttpRequest) {
        global2.XMLHttpRequest = require_browser().XMLHttpRequest;
      }
      if ("process" in global2) {
        module["exports"] = __module__;
      }
      global2["Songle"] = __module__;
    })((exports || 0).self || global);
  }
});
export default require_main();
/*! Bundled license information:

songle-api/lib/main.js:
  (**
   * @author Takahiro INOUE <takahiro.inoue@aist.go.jp>
   * @license Copyright (c) 2017-2019 AIST Songle Project
   *)
*/
//# sourceMappingURL=main-2OU35ICR.js.map
